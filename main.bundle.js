webpackJsonp(["main"],{

/***/ "../../../../../src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "../../../../../src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "../../../../../src/app/account/account.change.password.html":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "../../../../../src/app/account/account.change.password.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountChangePassword; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AccountChangePassword = (function () {
    function AccountChangePassword() {
    }
    AccountChangePassword = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/account/account.change.password.html"),
            styles: [__webpack_require__("../../../../../src/app/account/account.style.css")],
        })
    ], AccountChangePassword);
    return AccountChangePassword;
}());



/***/ }),

/***/ "../../../../../src/app/account/account.login.html":
/***/ (function(module, exports) {

module.exports = "<!-- Navigation -->\r\n<nav class=\"navbar navbar-light bg-light static-top\">\r\n    <div class=\"container\">\r\n        <a routerLink=\"/\" class=\"navbar-brand\">Filbroker - Priland</a>\r\n        <a routerLink=\"/account/register\" class=\"btn btn-primary\">Sign Up!</a>\r\n    </div>\r\n</nav>\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <h2>Please Login</h2>\r\n            <hr>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"form-group has-danger\">\r\n                <label class=\"sr-only\" for=\"username\">Username</label>\r\n                <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                    <div class=\"input-group-addon\" style=\"width: 150px\">\r\n                        <i class=\"fa fa-at\"></i>&nbsp;&nbsp;Username</div>\r\n                    <input type=\"text\" name=\"username\" class=\"form-control\" id=\"username\" [(ngModel)]=\"user.username\" required autofocus>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n            <div class=\"form-control-feedback\">\r\n                <span class=\"text-danger align-middle\">\r\n                    {{user.usernameErrorMessage}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"form-group\">\r\n                <label class=\"sr-only\" for=\"password\">Password</label>\r\n                <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                    <div class=\"input-group-addon\" style=\"width: 150px\">\r\n                        <i class=\"fa fa-key\"></i>&nbsp;&nbsp;Password</div>\r\n                    <input type=\"password\" name=\"password\" class=\"form-control\" id=\"password\" [(ngModel)]=\"user.password\" required>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n            <div class=\"form-control-feedback\">\r\n                <span class=\"text-danger align-middle\">\r\n                    {{user.passwordErrorMessage}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\" style=\"padding-top: .35rem\">\r\n            <div class=\"form-check mb-2 mr-sm-2 mb-sm-0\">\r\n                <label class=\"form-check-label\">\r\n                    <input class=\"form-check-input\" name=\"remember\" type=\"checkbox\">\r\n                    <span style=\"padding-bottom: .15rem\">Remember me</span>\r\n                </label>\r\n                <a routerLink=\"/account/register\" class=\"pull-right\">Register</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\" style=\"padding-top: 1rem\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <button type=\"submit\" class=\"btn btn-success\" (click)=\"btnLoginClick()\">\r\n                <i class=\"fa fa-sign-in\"></i> {{login}}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n<!-- Footer -->\r\n<footer class=\"footer bg-light\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-left my-auto\">\r\n                <ul class=\"list-inline mb-2\">\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">About</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Contact</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Terms of Use</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Privacy Policy</a>\r\n                    </li>\r\n                </ul>\r\n                <p class=\"text-muted small mb-4 mb-lg-0\">&copy; Filbroker - Priland 2018. All Rights Reserved.</p>\r\n            </div>\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-right my-auto\">\r\n                <ul class=\"list-inline mb-0\">\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-facebook fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-twitter fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-instagram fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/account/account.login.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountLogin; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__account_service__ = __webpack_require__("../../../../../src/app/account/account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AccountLogin = (function () {
    function AccountLogin(accountService, router, toastr, viewContainer) {
        this.accountService = accountService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.title = 'Account Login';
        this.user = {
            fullname: "",
            username: "",
            password: "",
            confirmPassword: "",
            token: ""
        };
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    AccountLogin.prototype.ngOnInit = function () {
        if (localStorage.getItem("username") == null) {
            this.login = "Login";
        }
        else {
            this.router.navigate(['/menu']);
        }
    };
    AccountLogin.prototype.ngOnDestroy = function () {
        if (this.loginSub != null)
            this.loginSub.unsubscribe();
    };
    AccountLogin.prototype.btnLoginClick = function () {
        var _this = this;
        this.accountService.login(this.user.username, this.user.password);
        this.loginSub = this.accountService.loginObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Login successful.");
                setTimeout(function () {
                    _this.router.navigate(['/menu']);
                }, 1000);
            }
            else if (data == 0) {
                _this.toastr.error("Login failed.");
            }
        });
    };
    AccountLogin.prototype.loginClick = function () {
        if (localStorage.getItem("username") == null) {
            this.router.navigate(['/account/login']);
        }
        else {
            localStorage.removeItem('access_token');
            localStorage.removeItem('expires_in');
            localStorage.removeItem('token_type');
            localStorage.removeItem('username');
            this.login = "Login";
        }
    };
    AccountLogin = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/account/account.login.html"),
            styles: [__webpack_require__("../../../../../src/app/account/account.style.css")],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__account_service__["a" /* AccountService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"]])
    ], AccountLogin);
    return AccountLogin;
}());



/***/ }),

/***/ "../../../../../src/app/account/account.register.html":
/***/ (function(module, exports) {

module.exports = "<!-- Navigation -->\r\n<nav class=\"navbar navbar-light bg-light static-top\">\r\n    <div class=\"container\">\r\n        <a routerLink=\"/\" class=\"navbar-brand\">Filbroker - Priland</a>\r\n        <a routerLink=\"/account/login\" class=\"btn btn-primary\">Sign In!</a>\r\n    </div>\r\n</nav>\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <h2>Register</h2>\r\n            <hr>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"form-group has-danger\">\r\n                <label class=\"sr-only\" for=\"fullname\">Fullname</label>\r\n                <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                    <div class=\"input-group-addon\" style=\"width: 180px\">\r\n                        <i class=\"fa fa-user\"></i>&nbsp;&nbsp;Fullname</div>\r\n                    <input type=\"text\" name=\"fullname\" class=\"form-control\" id=\"fullname\" [(ngModel)]=\"user.fullname\" required autofocus>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n            <div class=\"form-control-feedback\">\r\n                <span class=\"text-danger align-middle\">\r\n                    {{user.fullnameErrorMessage}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"form-group has-danger\">\r\n                <label class=\"sr-only\" for=\"username\">Username</label>\r\n                <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                    <div class=\"input-group-addon\" style=\"width: 180px\">\r\n                        <i class=\"fa fa-key\"></i>&nbsp;&nbsp;Username</div>\r\n                    <input type=\"text\" name=\"username\" class=\"form-control\" id=\"username\" [(ngModel)]=\"user.username\" required autofocus>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n            <div class=\"form-control-feedback\">\r\n                <span class=\"text-danger align-middle\">\r\n                    {{user.usernameErrorMessage}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"form-group\">\r\n                <label class=\"sr-only\" for=\"password\">Password</label>\r\n                <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                    <div class=\"input-group-addon\" style=\"width: 180px\">\r\n                        <i class=\"fa fa-lock\"></i>&nbsp;&nbsp;Password</div>\r\n                    <input type=\"password\" name=\"password\" class=\"form-control\" id=\"password\" [(ngModel)]=\"user.password\" required>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n            <div class=\"form-control-feedback\">\r\n                <span class=\"text-danger align-middle\">\r\n                    {{user.passwordErrorMessage}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"form-group\">\r\n                <label class=\"sr-only\" for=\"confirmPassword\">Confirm Password</label>\r\n                <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                    <div class=\"input-group-addon\" style=\"width: 180px\">\r\n                        <i class=\"fa fa-lock\"></i>&nbsp;&nbsp;Confirm Password</div>\r\n                    <input type=\"password\" name=\"confirmPassword\" class=\"form-control\" id=\"confirmPassword\" [(ngModel)]=\"user.confirmPassword\"\r\n                        required>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n            <div class=\"form-control-feedback\">\r\n                <span class=\"text-danger align-middle\">\r\n                    {{user.confirmPasswordErrorMessage}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\" style=\"padding-top: 1rem\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <button type=\"submit\" class=\"btn btn-success\" (click)=\"btnRegisterClick()\">\r\n                <i class=\"fa fa-sign-in\"></i> {{register}}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n<!-- Footer -->\r\n<footer class=\"footer bg-light\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-left my-auto\">\r\n                <ul class=\"list-inline mb-2\">\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">About</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Contact</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Terms of Use</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Privacy Policy</a>\r\n                    </li>\r\n                </ul>\r\n                <p class=\"text-muted small mb-4 mb-lg-0\">&copy; Filbroker - Priland 2018. All Rights Reserved.</p>\r\n            </div>\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-right my-auto\">\r\n                <ul class=\"list-inline mb-0\">\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-facebook fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-twitter fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-instagram fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/account/account.register.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountRegister; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__account_service__ = __webpack_require__("../../../../../src/app/account/account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AccountRegister = (function () {
    function AccountRegister(accountService, router, toastr, viewContainer) {
        this.accountService = accountService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.title = 'Account Register';
        this.register = "Register";
        this.user = {
            fullname: "",
            username: "",
            password: "",
            confirmPassword: "",
            token: ""
        };
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    AccountRegister.prototype.ngOnInit = function () {
        if (localStorage.getItem("username") == null) {
            this.login = "Login";
        }
        else {
            this.router.navigate(['/menu']);
        }
    };
    AccountRegister.prototype.ngOnDestroy = function () {
        if (this.registerSub != null)
            this.registerSub.unsubscribe();
    };
    AccountRegister.prototype.btnRegisterClick = function () {
        var _this = this;
        this.accountService.register(this.user);
        this.registerMessageSub = this.accountService.registerErrorMessageObservable.subscribe(function (dataString) {
            var stringMessages = [];
            if (dataString.length > 0) {
                for (var i = 0; i < dataString.length; i++) {
                    if (dataString[i].successMessageArray != null) {
                        var successMessageArray = dataString[i].successMessageArray;
                        for (var ss = 0; ss < successMessageArray.length; ss++) {
                            stringMessages.push(successMessageArray[ss].message);
                        }
                    }
                    if (dataString[i].mainErrorMessageArray != null) {
                        var mainErrorMessageArray = dataString[i].mainErrorMessageArray;
                        for (var mn = 0; mn < mainErrorMessageArray.length; mn++) {
                            stringMessages.push(mainErrorMessageArray[mn].message);
                        }
                    }
                    if (dataString[i].fullnameErrorMessageArray != null) {
                        var fullnameErrorMessageArray = dataString[i].fullnameErrorMessageArray;
                        for (var fn = 0; fn < fullnameErrorMessageArray.length; fn++) {
                            stringMessages.push(fullnameErrorMessageArray[fn].message);
                        }
                    }
                    if (dataString[i].usernameErrorMessageArray != null) {
                        var usernameErrorMessageArray = dataString[i].usernameErrorMessageArray;
                        for (var un = 0; un < usernameErrorMessageArray.length; un++) {
                            stringMessages.push(usernameErrorMessageArray[un].message);
                        }
                    }
                    if (dataString[i].passwordErrorMessageArray != null) {
                        var passwordErrorMessageArray = dataString[i].passwordErrorMessageArray;
                        for (var ps = 0; ps < passwordErrorMessageArray.length; ps++) {
                            stringMessages.push(passwordErrorMessageArray[ps].message);
                        }
                    }
                    if (dataString[i].confirmPasswordErrorMessageArray != null) {
                        var confirmPasswordErrorMessageArray = dataString[i].confirmPasswordErrorMessageArray;
                        for (var cps = 0; cps < confirmPasswordErrorMessageArray.length; cps++) {
                            stringMessages.push(confirmPasswordErrorMessageArray[cps].message);
                        }
                    }
                }
            }
            _this.registerSub = _this.accountService.registerObservable.subscribe(function (dataNumber) {
                if (dataNumber == 1) {
                    _this.toastr.success(stringMessages.join("\n\n"));
                    setTimeout(function () {
                        _this.router.navigate(['/account/login']);
                    }, 1000);
                }
                else if (dataNumber == 0) {
                    _this.toastr.error(stringMessages.join("\n\n"));
                }
            });
        });
    };
    AccountRegister.prototype.loginClick = function () {
        if (localStorage.getItem("username") == null) {
            this.router.navigate(['/account/login']);
        }
        else {
            localStorage.removeItem('access_token');
            localStorage.removeItem('expires_in');
            localStorage.removeItem('token_type');
            localStorage.removeItem('username');
            this.login = "Login";
        }
    };
    AccountRegister = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/account/account.register.html"),
            styles: [__webpack_require__("../../../../../src/app/account/account.style.css")],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__account_service__["a" /* AccountService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"]])
    ], AccountRegister);
    return AccountRegister;
}());



/***/ }),

/***/ "../../../../../src/app/account/account.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




// message box


var AccountService = (function () {
    function AccountService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        this.loginSource = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.loginObservable = this.loginSource.asObservable();
        this.registerSource = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.registerObservable = this.registerSource.asObservable();
        this.registerErrorMessageSource = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.registerErrorMessageObservable = this.registerErrorMessageSource.asObservable();
        this.user = {
            fullname: "",
            username: "",
            password: "",
            confirmPassword: "",
            token: ""
        };
    }
    AccountService.prototype.login = function (username, password) {
        var _this = this;
        var url = 'https://filbrokerwebsite-priland.azurewebsites.net/token';
        var body = "username=" + username + "&password=" + password + "&grant_type=password";
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/x-www-form-urlencoded' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        this.http.post(url, body, options).subscribe(function (response) {
            localStorage.setItem('access_token', response.json().access_token);
            localStorage.setItem('expires_in', response.json().expires_in);
            localStorage.setItem('token_type', response.json().token_type);
            localStorage.setItem('username', response.json().userName);
            _this.getUserRights(response.json().userName);
            _this.loginSource.next(1);
        }, function (error) {
            _this.loginSource.next(0);
        });
    };
    AccountService.prototype.getUserRights = function (username) {
        var url = 'https://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/ListPerUserByUsername/' + username;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        var userRights = new Array();
        this.http.get(url, options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    userRights.push({
                        id: results[i].Id,
                        userId: results[i].UserId,
                        user: username,
                        pageId: results[i].PageId,
                        page: results[i].Page,
                        pageUrl: results[i].PageURL,
                        canEdit: results[i].CanEdit,
                        canSave: results[i].CanSave,
                        canLock: results[i].CanLock,
                        canUnlock: results[i].CanUnLock,
                        canPrint: results[i].CanPrint,
                        canDelete: results[i].CanDelete
                    });
                }
                localStorage.setItem('userRights', JSON.stringify(userRights));
            }
        });
    };
    AccountService.prototype.register = function (user) {
        var _this = this;
        var regObj = {
            FullName: user.fullname,
            UserName: user.username,
            Email: user.username,
            Password: user.password,
            ConfirmPassword: user.confirmPassword
        };
        var registerMessageObservableArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var successMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var mainErrorMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var fullnameErrorMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var usernameErrorMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var passwordErrorMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var confirmPasswordErrorMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/account/register";
        this.http.post(url, JSON.stringify(regObj), this.options).subscribe(function (response) {
            if (response != null) {
                successMessageArray.push({
                    message: "Register Successful"
                });
                registerMessageObservableArray.push({
                    successMessageArray: successMessageArray,
                    mainErrorMessageArray: null,
                    fullnameErrorMessageArray: null,
                    usernameErrorMessageArray: null,
                    passwordErrorMessageArray: null,
                    confirmPasswordErrorMessageArray: null
                });
                _this.registerErrorMessageSource.next(registerMessageObservableArray);
                _this.registerSource.next(1);
            }
        }, function (error) {
            var errMessage = error.json();
            if (errMessage != null) {
                if (error.json().ModelState[""] != null) {
                    var mainErrorMessageLength = error.json().ModelState[""].length;
                    for (var i = 0; i < mainErrorMessageLength; i++) {
                        mainErrorMessageArray.push({
                            message: error.json().ModelState[""][i]
                        });
                    }
                }
                if (error.json().ModelState["model.FullName"] != null) {
                    var fullnameErrorMessageLength = error.json().ModelState["model.FullName"].length;
                    for (var i = 0; i < fullnameErrorMessageLength; i++) {
                        fullnameErrorMessageArray.push({
                            message: error.json().ModelState["model.FullName"][i]
                        });
                    }
                }
                if (error.json().ModelState["model.UserName"] != null) {
                    var usernameErrorMessageLength = error.json().ModelState["model.UserName"].length;
                    for (var i = 0; i < usernameErrorMessageLength; i++) {
                        usernameErrorMessageArray.push({
                            message: error.json().ModelState["model.UserName"][i]
                        });
                    }
                }
                if (error.json().ModelState["model.Password"] != null) {
                    var passwordErrorMessageLength = error.json().ModelState["model.Password"].length;
                    for (var i = 0; i < passwordErrorMessageLength; i++) {
                        passwordErrorMessageArray.push({
                            message: error.json().ModelState["model.Password"][i]
                        });
                    }
                }
                if (error.json().ModelState["model.ConfirmPassword"] != null) {
                    var confirmPasswordErrorMessageLength = error.json().ModelState["model.ConfirmPassword"].length;
                    for (var i = 0; i < confirmPasswordErrorMessageLength; i++) {
                        confirmPasswordErrorMessageArray.push({
                            message: error.json().ModelState["model.ConfirmPassword"][i]
                        });
                    }
                }
                registerMessageObservableArray.push({
                    successMessageArray: null,
                    mainErrorMessageArray: mainErrorMessageArray,
                    fullnameErrorMessageArray: fullnameErrorMessageArray,
                    usernameErrorMessageArray: usernameErrorMessageArray,
                    passwordErrorMessageArray: passwordErrorMessageArray,
                    confirmPasswordErrorMessageArray: confirmPasswordErrorMessageArray
                });
                _this.registerErrorMessageSource.next(registerMessageObservableArray);
                _this.registerSource.next(0);
            }
        });
    };
    AccountService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], AccountService);
    return AccountService;
}());



/***/ }),

/***/ "../../../../../src/app/account/account.style.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "body {\r\n  font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n}\r\n\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n  font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n  font-weight: 700;\r\n}\r\n\r\nheader.masthead {\r\n  position: relative;\r\n  background-color: #202122;\r\n  background: url(" + __webpack_require__("../../../../../src/assets/landing_template/img/dahlia.jpg") + ") no-repeat center center;\r\n  background-size: cover;\r\n  padding-top: 8rem;\r\n  padding-bottom: 8rem;\r\n}\r\n\r\nheader.masthead .overlay {\r\n  position: absolute;\r\n  background-color: #212529;\r\n  height: 100%;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0.8;\r\n}\r\n\r\nheader.masthead h1 {\r\n  font-size: 2rem;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  header.masthead {\r\n    padding-top: 18rem;\r\n    padding-bottom: 18rem;\r\n  }\r\n  header.masthead h1 {\r\n    font-size: 3rem;\r\n  }\r\n}\r\n\r\n.showcase .showcase-text {\r\n  padding: 3rem;\r\n}\r\n\r\n.showcase .showcase-img {\r\n  min-height: 30rem;\r\n  background-size: cover;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .showcase .showcase-text {\r\n    padding: 7rem;\r\n  }\r\n}\r\n\r\n.features-icons {\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.features-icons .features-icons-item {\r\n  max-width: 20rem;\r\n}\r\n\r\n.features-icons .features-icons-item .features-icons-icon {\r\n  height: 7rem;\r\n}\r\n\r\n.features-icons .features-icons-item .features-icons-icon i {\r\n  font-size: 4.5rem;\r\n}\r\n\r\n.features-icons .features-icons-item:hover .features-icons-icon i {\r\n  font-size: 5rem;\r\n}\r\n\r\n.testimonials {\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.testimonials .testimonial-item {\r\n  max-width: 18rem;\r\n}\r\n\r\n.testimonials .testimonial-item img {\r\n  max-width: 12rem;\r\n  box-shadow: 0px 5px 5px 0px #adb5bd;\r\n}\r\n\r\n.call-to-action {\r\n  position: relative;\r\n  background-color: #343a40;\r\n  background: url(" + __webpack_require__("../../../../../src/assets/landing_template/img/bg-masthead.jpg") + ") no-repeat center center;\r\n  background-size: cover;\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.call-to-action .overlay {\r\n  position: absolute;\r\n  background-color: #212529;\r\n  height: 100%;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0.3;\r\n}\r\n\r\nfooter.footer {\r\n  padding-top: 4rem;\r\n  padding-bottom: 4rem;\r\n}\r\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/app.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<router-outlet></router-outlet>\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AppComponent = (function () {
    function AppComponent() {
        this.title = 'app';
    }
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-root',
            template: __webpack_require__("../../../../../src/app/app.component.html"),
            styles: [__webpack_require__("../../../../../src/app/app.component.css")]
        })
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "../../../../../src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("../../../platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser_animations__ = __webpack_require__("../../../platform-browser/esm5/animations.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_toast_options__ = __webpack_require__("../../../../../src/app/app.toast.options.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_wijmo_wijmo_angular2_grid__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.grid.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_wijmo_wijmo_angular2_grid___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_wijmo_wijmo_angular2_grid__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_wijmo_wijmo_angular2_grid_filter__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.grid.filter.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_wijmo_wijmo_angular2_grid_filter___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_wijmo_wijmo_angular2_grid_filter__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_wijmo_wijmo_angular2_input__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.input.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_wijmo_wijmo_angular2_input___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_wijmo_wijmo_angular2_input__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_wijmo_wijmo_angular2_viewer__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.viewer.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_wijmo_wijmo_angular2_viewer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_wijmo_wijmo_angular2_viewer__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ng2_pdf_viewer__ = __webpack_require__("../../../../ng2-pdf-viewer/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ng2_pdf_viewer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_ng2_pdf_viewer__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__app_component__ = __webpack_require__("../../../../../src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__home_home_landing__ = __webpack_require__("../../../../../src/app/home/home.landing.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__account_account_login__ = __webpack_require__("../../../../../src/app/account/account.login.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__account_account_register__ = __webpack_require__("../../../../../src/app/account/account.register.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__account_account_change_password__ = __webpack_require__("../../../../../src/app/account/account.change.password.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__menu_menu_index__ = __webpack_require__("../../../../../src/app/menu/menu.index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__menu_menu_dashboard__ = __webpack_require__("../../../../../src/app/menu/menu.dashboard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__footer_footer_index__ = __webpack_require__("../../../../../src/app/footer/footer.index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__broker_broker_list__ = __webpack_require__("../../../../../src/app/broker/broker.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__broker_broker_detail__ = __webpack_require__("../../../../../src/app/broker/broker.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__checklist_checklist_list__ = __webpack_require__("../../../../../src/app/checklist/checklist.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__checklist_checklist_detail__ = __webpack_require__("../../../../../src/app/checklist/checklist.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__commission_commission_list__ = __webpack_require__("../../../../../src/app/commission/commission.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__commission_commission_detail__ = __webpack_require__("../../../../../src/app/commission/commission.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__customer_customer_list__ = __webpack_require__("../../../../../src/app/customer/customer.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__customer_customer_detail__ = __webpack_require__("../../../../../src/app/customer/customer.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__project_project_list__ = __webpack_require__("../../../../../src/app/project/project.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__project_project_detail__ = __webpack_require__("../../../../../src/app/project/project.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__soldUnit_soldUnit_list__ = __webpack_require__("../../../../../src/app/soldUnit/soldUnit.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__soldUnit_soldUnit_detail__ = __webpack_require__("../../../../../src/app/soldUnit/soldUnit.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__unit_unit_list__ = __webpack_require__("../../../../../src/app/unit/unit.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__unit_unit_detail__ = __webpack_require__("../../../../../src/app/unit/unit.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__user_user_list__ = __webpack_require__("../../../../../src/app/user/user.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__user_user_detail__ = __webpack_require__("../../../../../src/app/user/user.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__unit_unit_query__ = __webpack_require__("../../../../../src/app/unit/unit.query.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__settings_settings_index__ = __webpack_require__("../../../../../src/app/settings/settings.index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__reports_reports_index__ = __webpack_require__("../../../../../src/app/reports/reports.index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__pdf_pdf_index__ = __webpack_require__("../../../../../src/app/pdf/pdf.index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__account_account_service__ = __webpack_require__("../../../../../src/app/account/account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__project_project_service__ = __webpack_require__("../../../../../src/app/project/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__broker_broker_service__ = __webpack_require__("../../../../../src/app/broker/broker.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__checklist_checklist_service__ = __webpack_require__("../../../../../src/app/checklist/checklist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__commission_commission_service__ = __webpack_require__("../../../../../src/app/commission/commission.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__customer_customer_service__ = __webpack_require__("../../../../../src/app/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__settings_settings_service__ = __webpack_require__("../../../../../src/app/settings/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__soldUnit_soldUnit_service__ = __webpack_require__("../../../../../src/app/soldUnit/soldUnit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__unit_unit_service__ = __webpack_require__("../../../../../src/app/unit/unit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__user_user_service__ = __webpack_require__("../../../../../src/app/user/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__reports_reports_service__ = __webpack_require__("../../../../../src/app/reports/reports.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__footer_footer_service__ = __webpack_require__("../../../../../src/app/footer/footer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__pdf_pdf_service__ = __webpack_require__("../../../../../src/app/pdf/pdf.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
// Angular





// Toastr




// Wijmo




// pdf viewer

// My Components




























// My Services














var routes = [
    { path: '', component: __WEBPACK_IMPORTED_MODULE_15__home_home_landing__["a" /* HomeLanding */] },
    { path: 'account/login', component: __WEBPACK_IMPORTED_MODULE_16__account_account_login__["a" /* AccountLogin */] },
    { path: 'account/register', component: __WEBPACK_IMPORTED_MODULE_17__account_account_register__["a" /* AccountRegister */] },
    { path: 'account/changePassword', component: __WEBPACK_IMPORTED_MODULE_18__account_account_change_password__["a" /* AccountChangePassword */] },
    { path: 'menu', component: __WEBPACK_IMPORTED_MODULE_20__menu_menu_dashboard__["a" /* MenuDashboard */] },
    { path: 'broker', component: __WEBPACK_IMPORTED_MODULE_22__broker_broker_list__["a" /* BrokerList */] },
    { path: 'broker/:id', component: __WEBPACK_IMPORTED_MODULE_23__broker_broker_detail__["a" /* BrokerDetail */] },
    { path: 'checklist', component: __WEBPACK_IMPORTED_MODULE_24__checklist_checklist_list__["a" /* ChecklistList */] },
    { path: 'checklist/:id', component: __WEBPACK_IMPORTED_MODULE_25__checklist_checklist_detail__["a" /* ChecklistDetail */] },
    { path: 'commission', component: __WEBPACK_IMPORTED_MODULE_26__commission_commission_list__["a" /* CommissionList */] },
    { path: 'commission/:id', component: __WEBPACK_IMPORTED_MODULE_27__commission_commission_detail__["a" /* CommissionDetail */] },
    { path: 'customer', component: __WEBPACK_IMPORTED_MODULE_28__customer_customer_list__["a" /* CustomerList */] },
    { path: 'customer/:id', component: __WEBPACK_IMPORTED_MODULE_29__customer_customer_detail__["a" /* CustomerDetail */] },
    { path: 'project', component: __WEBPACK_IMPORTED_MODULE_30__project_project_list__["a" /* ProjectList */] },
    { path: 'project/:id', component: __WEBPACK_IMPORTED_MODULE_31__project_project_detail__["a" /* ProjectDetail */] },
    { path: 'soldUnit', component: __WEBPACK_IMPORTED_MODULE_32__soldUnit_soldUnit_list__["a" /* SoldUnitList */] },
    { path: 'soldUnit/:id', component: __WEBPACK_IMPORTED_MODULE_33__soldUnit_soldUnit_detail__["a" /* SoldUnitDetail */] },
    { path: 'unit', component: __WEBPACK_IMPORTED_MODULE_34__unit_unit_list__["a" /* UnitList */] },
    { path: 'unit/:id', component: __WEBPACK_IMPORTED_MODULE_35__unit_unit_detail__["a" /* UnitDetail */] },
    { path: 'user', component: __WEBPACK_IMPORTED_MODULE_36__user_user_list__["a" /* UserList */] },
    { path: 'user/:id', component: __WEBPACK_IMPORTED_MODULE_37__user_user_detail__["a" /* UserDetail */] },
    { path: 'settings', component: __WEBPACK_IMPORTED_MODULE_39__settings_settings_index__["a" /* SettingsIndex */] },
    { path: 'reports', component: __WEBPACK_IMPORTED_MODULE_40__reports_reports_index__["a" /* ReportsIndex */] },
    { path: 'pdf/:report/:id', component: __WEBPACK_IMPORTED_MODULE_41__pdf_pdf_index__["a" /* PDFIndex */] }
];
var AppModule = (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_14__app_component__["a" /* AppComponent */],
                __WEBPACK_IMPORTED_MODULE_15__home_home_landing__["a" /* HomeLanding */],
                __WEBPACK_IMPORTED_MODULE_16__account_account_login__["a" /* AccountLogin */], __WEBPACK_IMPORTED_MODULE_17__account_account_register__["a" /* AccountRegister */], __WEBPACK_IMPORTED_MODULE_18__account_account_change_password__["a" /* AccountChangePassword */],
                __WEBPACK_IMPORTED_MODULE_19__menu_menu_index__["a" /* MenuIndex */], __WEBPACK_IMPORTED_MODULE_20__menu_menu_dashboard__["a" /* MenuDashboard */],
                __WEBPACK_IMPORTED_MODULE_21__footer_footer_index__["a" /* FooterIndex */],
                __WEBPACK_IMPORTED_MODULE_22__broker_broker_list__["a" /* BrokerList */], __WEBPACK_IMPORTED_MODULE_23__broker_broker_detail__["a" /* BrokerDetail */],
                __WEBPACK_IMPORTED_MODULE_24__checklist_checklist_list__["a" /* ChecklistList */], __WEBPACK_IMPORTED_MODULE_25__checklist_checklist_detail__["a" /* ChecklistDetail */],
                __WEBPACK_IMPORTED_MODULE_26__commission_commission_list__["a" /* CommissionList */], __WEBPACK_IMPORTED_MODULE_27__commission_commission_detail__["a" /* CommissionDetail */],
                __WEBPACK_IMPORTED_MODULE_28__customer_customer_list__["a" /* CustomerList */], __WEBPACK_IMPORTED_MODULE_29__customer_customer_detail__["a" /* CustomerDetail */],
                __WEBPACK_IMPORTED_MODULE_30__project_project_list__["a" /* ProjectList */], __WEBPACK_IMPORTED_MODULE_31__project_project_detail__["a" /* ProjectDetail */],
                __WEBPACK_IMPORTED_MODULE_32__soldUnit_soldUnit_list__["a" /* SoldUnitList */], __WEBPACK_IMPORTED_MODULE_33__soldUnit_soldUnit_detail__["a" /* SoldUnitDetail */],
                __WEBPACK_IMPORTED_MODULE_34__unit_unit_list__["a" /* UnitList */], __WEBPACK_IMPORTED_MODULE_35__unit_unit_detail__["a" /* UnitDetail */], __WEBPACK_IMPORTED_MODULE_38__unit_unit_query__["a" /* UnitQuery */],
                __WEBPACK_IMPORTED_MODULE_36__user_user_list__["a" /* UserList */], __WEBPACK_IMPORTED_MODULE_37__user_user_detail__["a" /* UserDetail */],
                __WEBPACK_IMPORTED_MODULE_39__settings_settings_index__["a" /* SettingsIndex */],
                __WEBPACK_IMPORTED_MODULE_40__reports_reports_index__["a" /* ReportsIndex */],
                __WEBPACK_IMPORTED_MODULE_41__pdf_pdf_index__["a" /* PDFIndex */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_4__angular_router__["c" /* RouterModule */].forRoot(routes),
                __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__["ToastModule"].forRoot(),
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
                __WEBPACK_IMPORTED_MODULE_3__angular_http__["c" /* HttpModule */],
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["BrowserModule"],
                __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */],
                __WEBPACK_IMPORTED_MODULE_9_wijmo_wijmo_angular2_grid__["WjGridModule"],
                __WEBPACK_IMPORTED_MODULE_10_wijmo_wijmo_angular2_grid_filter__["WjGridFilterModule"],
                __WEBPACK_IMPORTED_MODULE_11_wijmo_wijmo_angular2_input__["WjInputModule"],
                __WEBPACK_IMPORTED_MODULE_12_wijmo_wijmo_angular2_viewer__["WjViewerModule"],
                __WEBPACK_IMPORTED_MODULE_13_ng2_pdf_viewer__["PdfViewerModule"]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_4__angular_router__["c" /* RouterModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_42__account_account_service__["a" /* AccountService */],
                __WEBPACK_IMPORTED_MODULE_43__project_project_service__["a" /* ProjectService */],
                { provide: __WEBPACK_IMPORTED_MODULE_7_ng2_toastr__["ToastOptions"], useClass: __WEBPACK_IMPORTED_MODULE_8__app_toast_options__["a" /* AppToastOptions */] },
                __WEBPACK_IMPORTED_MODULE_44__broker_broker_service__["a" /* BrokerService */],
                __WEBPACK_IMPORTED_MODULE_45__checklist_checklist_service__["a" /* ChecklistService */],
                __WEBPACK_IMPORTED_MODULE_46__commission_commission_service__["a" /* CommissionService */],
                __WEBPACK_IMPORTED_MODULE_47__customer_customer_service__["a" /* CustomerService */],
                __WEBPACK_IMPORTED_MODULE_48__settings_settings_service__["a" /* SettingsService */],
                __WEBPACK_IMPORTED_MODULE_49__soldUnit_soldUnit_service__["a" /* SoldUnitService */],
                __WEBPACK_IMPORTED_MODULE_50__unit_unit_service__["a" /* UnitService */],
                __WEBPACK_IMPORTED_MODULE_51__user_user_service__["a" /* UserService */],
                __WEBPACK_IMPORTED_MODULE_52__reports_reports_service__["a" /* ReportsService */],
                __WEBPACK_IMPORTED_MODULE_53__footer_footer_service__["a" /* FooterService */],
                __WEBPACK_IMPORTED_MODULE_54__pdf_pdf_service__["a" /* PDFService */],
                __WEBPACK_IMPORTED_MODULE_55__security_security_service__["a" /* SecurityService */]
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_14__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "../../../../../src/app/app.toast.options.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppToastOptions; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ng2_toastr__);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AppToastOptions = (function (_super) {
    __extends(AppToastOptions, _super);
    function AppToastOptions() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.maxShown = 1;
        return _this;
    }
    return AppToastOptions;
}(__WEBPACK_IMPORTED_MODULE_0_ng2_toastr__["ToastOptions"]));



/***/ }),

/***/ "../../../../../src/app/broker/broker.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/broker\">Broker List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, print, lock, unlock, save, close -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 50%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 49%;\" align=\"right\">\r\n                            <button [disabled]=\"!broker.isLocked\" class=\"btn btn-primary\" (click)=\"btnPrintBrokerClick()\" id=\"btnPrintBroker\">\r\n                                <i class=\"fa fa-print fa-fw\"></i> Print\r\n                            </button>\r\n                            <button [disabled]=\"broker.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockBrokerClick()\" id=\"btnLockBroker\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button [disabled]=\"!broker.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockBrokerClick()\" id=\"btnUnlockBroker\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button [disabled]=\"broker.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveBrokerClick()\" id=\"btnSaveBroker\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/broker\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- detail -->\r\n            <div class=\"card-body\">\r\n                <ul class=\"nav nav-tabs\" role=\"tablist\" style=\"width:100%\">\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[0], 'nav-link': true }\" (click)=\"tabDetail1Click(0)\" data-toggle=\"tab\" role=\"tab\">Broker Information</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[1], 'nav-link': true }\" (click)=\"tabDetail1Click(1)\" data-toggle=\"tab\" role=\"tab\">Realty Firm Information</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[2], 'nav-link': true }\" (click)=\"tabDetail1Click(2)\" data-toggle=\"tab\" role=\"tab\">Attachments</a>\r\n                    </li>\r\n                </ul>\r\n                <br>\r\n                <div class=\"tab-content\" style=\"width:100%\">\r\n\r\n                    <!-- Information -->\r\n                    <div [ngClass]=\"{'active': tabDetail1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Code</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.brokerCode\" [disabled]=true type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Last Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.lastName\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">First Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.firstName\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Middle Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.middleName\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">License No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.licenseNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"broker.isLocked\" [(ngModel)]=\"broker.address\" rows=\"3\" class=\"form-control\">\r\n                                            </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Phone No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.telephoneNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Mobile No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.mobileNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Email Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.emailAddress\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbStatus [itemsSource]=\"cmbStatusData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"broker.isLocked\" [(ngModel)]=\"broker.status\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"broker.isLocked\" [(ngModel)]=\"broker.remarks\" rows=\"5\" class=\"form-control\">\r\n                                                </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Picture</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-sm-8\">\r\n                                                <img [src]=\"this.broker.picture\" class=\"rounded\" style=\"width: 100%;\">\r\n                                            </div>\r\n                                            <div class=\"col-sm-4\">\r\n                                                <label class=\"btn btn-primary\" [hidden]=\"broker.isLocked\">\r\n                                                    <input type=\"file\" (change)=\"btnUploadPictureClick($event)\" name=\"btnUploadPicture\" accept=\"image/*\" style=\"display:none;\"> Upload Pic\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Birth Date</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-date #calBirthDate [(text)]=\"broker.birthDate\" [isDisabled]=\"broker.isLocked\" format=\"M/d/yyyy\">\r\n                                        </wj-input-date>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Civil Status</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbCivilStatus [itemsSource]=\"cmbCivilStatusData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"broker.isLocked\" [(ngModel)]=\"broker.civilStatus\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Gender</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbGender [itemsSource]=\"cmbGenderData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"broker.isLocked\" [(ngModel)]=\"broker.gender\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Religion</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.religion\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">TIN</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.tin\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Realty Firm -->\r\n                    <div [ngClass]=\"{'active': tabDetail1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n\r\n                        <div class=\"row\">\r\n\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Firm</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirm\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Telepohne No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmTelephoneNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Mobile No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmMobileNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Fax No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmFaxNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"broker.isLocked\" [(ngModel)]=\"broker.realtyFirmAddress\" rows=\"5\" class=\"form-control\">\r\n                                                </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Email Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmEmailAddress\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Website</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmWebsite\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">TIN</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmTIN\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Organization</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.organization\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <!-- Attachments -->\r\n                    <div [ngClass]=\"{'active': tabDetail1[2], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Attachment 1</label>\r\n                                    <div class=\"col-sm-5\">\r\n                                        <input [(ngModel)]=\"broker.attachment1\" disabled type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <input type=\"file\" (change)=\"btnOpenBrokerAttachment1Click($event)\" name=\"btnOpenBrokerAttachment1\" accept=\"image/*\" [disabled]=\"broker.isLocked\"\r\n                                            style=\"display:none;\">\r\n                                        <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                                    </label>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <a [href]=\"broker.attachment1\" target=\"blank\" style=\"color:white;\">\r\n                                            <i class=\"fa fa-search fa-fw\"></i>\r\n                                        </a>\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Attachment 2</label>\r\n                                    <div class=\"col-sm-5\">\r\n                                        <input [(ngModel)]=\"broker.attachment2\" disabled type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <input type=\"file\" (change)=\"btnOpenBrokerAttachment2Click($event)\" name=\"btnOpenBrokerAttachment2\" accept=\"image/*\" [disabled]=\"broker.isLocked\"\r\n                                            style=\"display:none;\">\r\n                                        <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                                    </label>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <a [href]=\"broker.attachment2\" target=\"blank\" style=\"color:white;\">\r\n                                            <i class=\"fa fa-search fa-fw\"></i>\r\n                                        </a>\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Attachment 3</label>\r\n                                    <div class=\"col-sm-5\">\r\n                                        <input [(ngModel)]=\"broker.attachment3\" disabled type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <input type=\"file\" (change)=\"btnOpenBrokerAttachment3Click($event)\" name=\"btnOpenBrokerAttachment3\" accept=\"image/*\" [disabled]=\"broker.isLocked\"\r\n                                            style=\"display:none;\">\r\n                                        <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                                    </label>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <a [href]=\"broker.attachment3\" target=\"blank\" style=\"color:white;\">\r\n                                            <i class=\"fa fa-search fa-fw\"></i>\r\n                                        </a>\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Attachment 4</label>\r\n                                    <div class=\"col-sm-5\">\r\n                                        <input [(ngModel)]=\"broker.attachment4\" disabled type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <input type=\"file\" (change)=\"btnOpenBrokerAttachment4Click($event)\" name=\"btnOpenBrokerAttachment4\" accept=\"image/*\" [disabled]=\"broker.isLocked\"\r\n                                            style=\"display:none;\">\r\n                                        <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                                    </label>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <a [href]=\"broker.attachment4\" target=\"blank\" style=\"color:white;\">\r\n                                            <i class=\"fa fa-search fa-fw\"></i>\r\n                                        </a>\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Attachment 5</label>\r\n                                    <div class=\"col-sm-5\">\r\n                                        <input [(ngModel)]=\"broker.attachment5\" disabled type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <input type=\"file\" (change)=\"btnOpenBrokerAttachment5Click($event)\" name=\"btnOpenBrokerAttachment5\" accept=\"image/*\" [disabled]=\"broker.isLocked\"\r\n                                            style=\"display:none;\">\r\n                                        <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                                    </label>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <a [href]=\"broker.attachment5\" target=\"blank\" style=\"color:white;\">\r\n                                            <i class=\"fa fa-search fa-fw\"></i>\r\n                                        </a>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- Tab Content -->\r\n\r\n\r\n            </div>\r\n            <!-- Card Body -->\r\n\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"broker\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->"

/***/ }),

/***/ "../../../../../src/app/broker/broker.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BrokerDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__broker_service__ = __webpack_require__("../../../../../src/app/broker/broker.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var BrokerDetail = (function () {
    // =======
    // angular
    // =======
    //constructor
    function BrokerDetail(brokerService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.brokerService = brokerService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // =================
        // public properties
        // =================
        this.title = 'Broker Detail';
        // model(s)
        this.broker = {
            id: 0,
            brokerCode: "",
            lastName: "",
            firstName: "",
            middleName: "",
            fullName: "",
            licenseNumber: "",
            birthDate: "",
            civilStatus: "SINGLE",
            gender: "",
            address: "",
            telephoneNumber: "",
            mobileNumber: "",
            religion: "",
            emailAddress: "",
            facebook: "",
            tin: "",
            realtyFirm: "",
            realtyFirmAddress: "",
            realtyFirmTelephoneNumber: "",
            realtyFirmMobileNumber: "",
            realtyFirmFaxNumber: "",
            realtyFirmEmailAddress: "",
            realtyFirmWebsite: "",
            realtyFirmTIN: "",
            organization: "",
            remarks: "",
            picture: "",
            attachment1: "",
            attachment2: "",
            attachment3: "",
            attachment4: "",
            attachment5: "",
            status: "ACTIVE",
            isLocked: false,
            createdBy: 1,
            createdDateTime: "",
            updatedBy: 1,
            updatedDateTime: "",
        };
        // detail tab index (if large number of fields)
        this.tabDetail1 = new Array(true, false, false);
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    BrokerDetail.prototype.ngOnInit = function () {
        var _this = this;
        if (this.securityService.openPage("BROKER DETAIL") == true) {
            this.getBroker();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    BrokerDetail.prototype.ngOnDestroy = function () {
        if (this.brokerSub != null)
            this.brokerSub.unsubscribe();
        if (this.brokerSavedSub != null)
            this.brokerSavedSub.unsubscribe();
        if (this.brokerLockedSub != null)
            this.brokerLockedSub.unsubscribe();
        if (this.brokerUnlockedSub != null)
            this.brokerUnlockedSub.unsubscribe();
        if (this.brokerPictureSub != null)
            this.brokerPictureSub.unsubscribe();
        if (this.dropDownsSub != null)
            this.dropDownsSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    BrokerDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    BrokerDetail.prototype.getBroker = function () {
        var _this = this;
        this.brokerService.getBroker(this.getIdParameter());
        this.brokerSub = this.brokerService.brokerObservable
            .subscribe(function (data) {
            _this.broker.id = data.id;
            _this.broker.brokerCode = data.brokerCode;
            _this.broker.lastName = data.lastName;
            _this.broker.firstName = data.firstName;
            _this.broker.middleName = data.middleName;
            _this.broker.fullName = data.fullName;
            _this.broker.licenseNumber = data.licenseNumber;
            _this.broker.birthDate = data.birthDate;
            _this.broker.civilStatus = data.civilStatus;
            _this.broker.gender = data.gender;
            _this.broker.address = data.address;
            _this.broker.telephoneNumber = data.telephoneNumber;
            _this.broker.mobileNumber = data.mobileNumber;
            _this.broker.religion = data.religion;
            _this.broker.emailAddress = data.emailAddress;
            _this.broker.tin = data.tin;
            _this.broker.realtyFirm = data.realtyFirm;
            _this.broker.realtyFirmAddress = data.realtyFirmAddress;
            _this.broker.realtyFirmTelephoneNumber = data.realtyFirmTelephoneNumber;
            _this.broker.realtyFirmMobileNumber = data.realtyFirmMobileNumber;
            _this.broker.realtyFirmFaxNumber = data.realtyFirmFaxNumber;
            _this.broker.realtyFirmEmailAddress = data.realtyFirmEmailAddress;
            _this.broker.realtyFirmWebsite = data.realtyFirmWebsite;
            _this.broker.realtyFirmTIN = data.realtyFirmTIN;
            _this.broker.organization = data.organization;
            _this.broker.remarks = data.remarks;
            _this.broker.picture = data.picture;
            _this.broker.attachment1 = data.attachment1;
            _this.broker.attachment2 = data.attachment2;
            _this.broker.attachment3 = data.attachment3;
            _this.broker.attachment4 = data.attachment4;
            _this.broker.attachment5 = data.attachment5;
            _this.broker.status = data.status;
            _this.broker.isLocked = data.isLocked;
            _this.broker.createdBy = data.createdBy;
            _this.broker.createdDateTime = data.createdDateTime;
            _this.broker.updatedBy = data.updatedBy;
            _this.broker.updatedDateTime = data.updatedDateTime;
            _this.getDropdowns(data);
        });
    };
    // combo boxes
    BrokerDetail.prototype.getDropdowns = function (defaultValues) {
        var _this = this;
        this.brokerService.getDropDowns();
        this.dropDownsSub = this.brokerService.dropDownsObservable.subscribe(function (data) {
            var statuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var civilStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var genders = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "BROKER STATUS") {
                        statuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "GENDER") {
                        genders.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "CIVIL STATUS") {
                        civilStatuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbStatusData = statuses;
            _this.cmbGenderData = genders;
            _this.cmbCivilStatusData = civilStatuses;
            setTimeout(function () { _this.broker.status = defaultValues.status; }, 100);
            setTimeout(function () { _this.broker.gender = defaultValues.gender; }, 100);
            setTimeout(function () { _this.broker.civilStatus = defaultValues.civilStatus; }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    BrokerDetail.prototype.btnSaveBrokerClick = function () {
        var _this = this;
        var btnSaveBroker = document.getElementById("btnSaveBroker");
        btnSaveBroker.setAttribute("disabled", "disabled");
        btnSaveBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.brokerService.saveBroker(this.broker);
        this.brokerSavedSub = this.brokerService.brokerSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveBroker.removeAttribute("disabled");
                btnSaveBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveBroker.removeAttribute("disabled");
                btnSaveBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    BrokerDetail.prototype.btnLockBrokerClick = function () {
        var _this = this;
        var btnLockBroker = document.getElementById("btnLockBroker");
        btnLockBroker.setAttribute("disabled", "disabled");
        btnLockBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.brokerService.lockBroker(this.broker);
        this.brokerLockedSub = this.brokerService.brokerLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.broker.isLocked = true;
                btnLockBroker.removeAttribute("disabled");
                btnLockBroker.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockBroker.removeAttribute("disabled");
                btnLockBroker.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    BrokerDetail.prototype.btnUnlockBrokerClick = function () {
        var _this = this;
        var btnUnlockBroker = document.getElementById("btnUnlockBroker");
        btnUnlockBroker.setAttribute("disabled", "disabled");
        btnUnlockBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.brokerService.unlockBroker(this.broker);
        this.brokerUnlockedSub = this.brokerService.brokerUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.broker.isLocked = false;
                btnUnlockBroker.removeAttribute("disabled");
                btnUnlockBroker.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockBroker.removeAttribute("disabled");
                btnUnlockBroker.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    BrokerDetail.prototype.btnPrintBrokerClick = function () {
        this.router.navigate(['/pdf', 'broker', this.broker.id]);
    };
    BrokerDetail.prototype.btnUploadPictureClick = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKER-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.picture = data.fileUrl;
            });
        }
    };
    // detail tab index click
    BrokerDetail.prototype.tabDetail1Click = function (index) {
        for (var i = 0; i <= this.tabDetail1.length - 1; i++) {
            if (index == i)
                this.tabDetail1[i] = true;
            else
                this.tabDetail1[i] = false;
        }
    };
    // attachments
    BrokerDetail.prototype.btnOpenBrokerAttachment1Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKERFILE1-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.attachment1 = data.fileUrl;
            });
        }
    };
    BrokerDetail.prototype.btnOpenBrokerAttachment2Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKERFILE2-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.attachment2 = data.fileUrl;
            });
        }
    };
    BrokerDetail.prototype.btnOpenBrokerAttachment3Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKERFILE3-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.attachment3 = data.fileUrl;
            });
        }
    };
    BrokerDetail.prototype.btnOpenBrokerAttachment4Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKERFILE4-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.attachment4 = data.fileUrl;
            });
        }
    };
    BrokerDetail.prototype.btnOpenBrokerAttachment5Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKERFILE5-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.attachment5 = data.fileUrl;
            });
        }
    };
    BrokerDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/broker/broker.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__broker_service__["a" /* BrokerService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], BrokerDetail);
    return BrokerDetail;
}());



/***/ }),

/***/ "../../../../../src/app/broker/broker.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnAddBrokerClick()\" id=\"btnAddBroker\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flex grid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdBroker [itemsSource]=\"fgdBrokerCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditBrokerClick()\" data-toggle=\"modal\" data-backdrop=\"static\"\r\n                                data-keyboard=\"false\" data-target=\"#project-detail-modal\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteBrokerClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'brokerCode'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Name'\" [binding]=\"'fullName'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Address'\" [binding]=\"'address'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Phone No.'\" [binding]=\"'telephoneNumber'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Mobile No.'\" [binding]=\"'mobileNumber'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdBrokerCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdBrokerCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdBrokerCollection.pageIndex + 1 }} / {{ fgdBrokerCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdBrokerCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdBrokerCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdBrokerCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete broker prompt modal -->\r\n<div id=\"mdlBrokerDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlBrokerDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdBrokerCollection.currentItem != null ? fgdBrokerCollection.currentItem.fullName : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnOkBrokerDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkBrokerDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnCloseBrokerDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseBrokerDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/broker/broker.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BrokerList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__broker_service__ = __webpack_require__("../../../../../src/app/broker/broker.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// services


// wijmo

// message box

var BrokerList = (function () {
    // =======
    // angular
    // =======
    // constructor
    function BrokerList(brokerService, toastr, viewContainer, router, securityService, location) {
        this.brokerService = brokerService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Broker List';
        // model(s)
        this.broker = {
            id: 0,
            brokerCode: "",
            lastName: "",
            firstName: "",
            middleName: "",
            fullName: "",
            licenseNumber: "",
            birthDate: this.currentDateString,
            civilStatus: "SINGLE",
            gender: "",
            address: "",
            telephoneNumber: "",
            mobileNumber: "",
            religion: "",
            emailAddress: "",
            facebook: "",
            tin: "",
            realtyFirm: "",
            realtyFirmAddress: "",
            realtyFirmTelephoneNumber: "",
            realtyFirmMobileNumber: "",
            realtyFirmFaxNumber: "",
            realtyFirmEmailAddress: "",
            realtyFirmWebsite: "",
            realtyFirmTIN: "",
            organization: "",
            remarks: "",
            picture: "",
            attachment1: "",
            attachment2: "",
            attachment3: "",
            attachment4: "",
            attachment5: "",
            status: "ACTIVE",
            isLocked: false,
            createdBy: 0,
            createdDateTime: this.currentDateString,
            updatedBy: 0,
            updatedDateTime: this.currentDateString,
        };
        // modals
        this.mdlBrokerDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    BrokerList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdBrokerData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdBrokerCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdBrokerData);
        if (this.securityService.openPage("BROKER LIST") == true) {
            this.getBrokers();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    BrokerList.prototype.ngOnDestroy = function () {
        if (this.brokersSub != null)
            this.brokersSub.unsubscribe();
        if (this.brokerDeletedSub != null)
            this.brokerDeletedSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    // list
    BrokerList.prototype.getBrokers = function () {
        var _this = this;
        this.brokerService.getBrokers();
        this.brokersSub = this.brokerService.brokersObservable.subscribe(function (data) {
            _this.fgdBrokerData = data;
            _this.fgdBrokerCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](_this.fgdBrokerData);
            _this.fgdBrokerCollection.pageSize = 15;
            _this.fgdBrokerCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // list operations
    BrokerList.prototype.btnAddBrokerClick = function () {
        var btnAddBroker = document.getElementById("btnAddBroker");
        btnAddBroker.setAttribute("disabled", "disabled");
        btnAddBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.brokerService.addBroker(this.broker);
    };
    BrokerList.prototype.btnEditBrokerClick = function () {
        var selectedBroker = this.fgdBrokerCollection.currentItem;
        this.router.navigate(['/broker', selectedBroker.id]);
    };
    BrokerList.prototype.btnDeleteBrokerClick = function () {
        this.mdlBrokerDeleteShow = true;
    };
    // delete broker modal operations
    BrokerList.prototype.btnOkBrokerDeleteModalClick = function () {
        var _this = this;
        var btnOkBrokerDeleteModal = document.getElementById("btnOkBrokerDeleteModal");
        var btnCloseBrokerDeleteModal = document.getElementById("btnCloseBrokerDeleteModal");
        btnOkBrokerDeleteModal.setAttribute("disabled", "disabled");
        btnCloseBrokerDeleteModal.setAttribute("disabled", "disabled");
        var selectedBroker = this.fgdBrokerCollection.currentItem;
        this.brokerService.deleteBroker(selectedBroker.id);
        this.brokerDeletedSub = this.brokerService.brokerDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdBrokerCollection.remove(selectedBroker);
                btnOkBrokerDeleteModal.removeAttribute("disabled");
                btnCloseBrokerDeleteModal.removeAttribute("disabled");
                _this.mdlBrokerDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkBrokerDeleteModal.removeAttribute("disabled");
                btnCloseBrokerDeleteModal.removeAttribute("disabled");
            }
        });
    };
    BrokerList.prototype.btnCloseBrokerDeleteModalClick = function () {
        this.mdlBrokerDeleteShow = false;
    };
    BrokerList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/broker/broker.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__broker_service__["a" /* BrokerService */],
            __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], BrokerList);
    return BrokerList;
}());



/***/ }),

/***/ "../../../../../src/app/broker/broker.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BrokerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var BrokerService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function BrokerService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // broker list
        this.brokersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokersObservable = this.brokersSource.asObservable();
        // broker list operations
        this.brokerDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerDeletedObservable = this.brokerDeletedSource.asObservable();
        // broker detail
        this.brokerSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerObservable = this.brokerSource.asObservable();
        // broker detail operations
        this.brokerSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerSavedObservable = this.brokerSavedSource.asObservable();
        this.brokerLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerLockedObservable = this.brokerLockedSource.asObservable();
        this.brokerUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerUnlockedObservable = this.brokerUnlockedSource.asObservable();
        // Blob, picture
        this.brokerPictureSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerPictureObservable = this.brokerPictureSource.asObservable();
        // combo boxes
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // list
    BrokerService.prototype.getBrokers = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/List";
        var brokers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    brokers.push({
                        id: results[i].Id,
                        brokerCode: results[i].BrokerCode,
                        lastName: results[i].LastName,
                        firstName: results[i].FirstName,
                        middleName: results[i].MiddleName,
                        fullName: results[i].FullName,
                        licenseNumber: results[i].LicenseNumber,
                        birthDate: results[i].BirthDate,
                        civilStatus: results[i].CivilStatus,
                        gender: results[i].Gender,
                        address: results[i].Address,
                        telephoneNumber: results[i].TelephoneNumber,
                        mobileNumber: results[i].MobileNumber,
                        religion: results[i].Religion,
                        emailAddress: results[i].EmailAddress,
                        facebook: results[i].Facebook,
                        tIN: results[i].TIN,
                        realtyFirm: results[i].RealtyFirm,
                        realtyFirmAddress: results[i].RealtyFirmAddress,
                        realtyFirmTelephoneNumber: results[i].RealtyFirmTelephoneNumber,
                        realtyFirmMobileNumber: results[i].RealtyFirmMobileNumber,
                        realtyFirmFaxNumber: results[i].RealtyFirmFaxNumber,
                        realtyFirmEmailAddress: results[i].RealtyFirmEmailAddress,
                        realtyFirmWebsite: results[i].RealtyFirmWebsite,
                        realtyFirmTIN: results[i].RealtyFirmTIN,
                        organization: results[i].Organization,
                        remarks: results[i].Remarks,
                        picture: results[i].Picture,
                        attachment1: results[i].Attachment1 == null ? "" : results[i].Attachment1,
                        attachment2: results[i].Attachment2 == null ? "" : results[i].Attachment2,
                        attachment3: results[i].Attachment3 == null ? "" : results[i].Attachment3,
                        attachment4: results[i].Attachment4 == null ? "" : results[i].Attachment4,
                        attachment5: results[i].Attachment5 == null ? "" : results[i].Attachment5,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.brokersSource.next(brokers);
            }
            else {
                _this.brokersSource.next(brokers);
                _this.toastr.error("No brokers.");
            }
        });
    };
    // detail
    BrokerService.prototype.getBroker = function (id) {
        var _this = this;
        var broker;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var results = response.json();
            if (results != null) {
                broker = {
                    id: results.Id,
                    brokerCode: results.BrokerCode,
                    lastName: results.LastName,
                    firstName: results.FirstName,
                    middleName: results.MiddleName,
                    fullName: results.FullName,
                    licenseNumber: results.LicenseNumber,
                    birthDate: results.BirthDate,
                    civilStatus: results.CivilStatus,
                    gender: results.Gender,
                    address: results.Address,
                    telephoneNumber: results.TelephoneNumber,
                    mobileNumber: results.MobileNumber,
                    religion: results.Religion,
                    emailAddress: results.EmailAddress,
                    facebook: results.Facebook,
                    tin: results.TIN,
                    realtyFirm: results.RealtyFirm,
                    realtyFirmAddress: results.RealtyFirmAddress,
                    realtyFirmTelephoneNumber: results.RealtyFirmTelephoneNumber,
                    realtyFirmMobileNumber: results.RealtyFirmMobileNumber,
                    realtyFirmFaxNumber: results.RealtyFirmFaxNumber,
                    realtyFirmEmailAddress: results.RealtyFirmEmailAddress,
                    realtyFirmWebsite: results.RealtyFirmWebsite,
                    realtyFirmTIN: results.RealtyFirmTIN,
                    organization: results.Organization,
                    remarks: results.Remarks,
                    picture: results.Picture,
                    attachment1: results.Attachment1 == null ? "" : results.Attachment1,
                    attachment2: results.Attachment2 == null ? "" : results.Attachment2,
                    attachment3: results.Attachment3 == null ? "" : results.Attachment3,
                    attachment4: results.Attachment4 == null ? "" : results.Attachment4,
                    attachment5: results.Attachment5 == null ? "" : results.Attachment5,
                    status: results.Status,
                    isLocked: results.IsLocked,
                    createdBy: results.CreatedBy,
                    createdDateTime: results.CreatedDateTime,
                    updatedBy: results.UpdatedBy,
                    updatedDateTime: results.UpdatedDateTime,
                };
                _this.brokerSource.next(broker);
            }
            else {
                _this.toastr.error("No data.");
                setTimeout(function () {
                    _this.router.navigate(["/broker"]);
                }, 1000);
            }
        });
    };
    // detail combo boxes
    BrokerService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.dropDownsSource.next(dropDowns);
                _this.toastr.error("No dropdowns.");
            }
        });
    };
    // list operations 
    BrokerService.prototype.addBroker = function (broker) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Add";
        this.http.post(url, JSON.stringify(broker), this.options).subscribe(function (response) {
            var id = response.json();
            console.log(id);
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/broker', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
            }
        }, function (error) {
            _this.toastr.error("Server error.");
        });
    };
    BrokerService.prototype.deleteBroker = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.brokerDeletedSource.next(1);
        }, function (error) {
            _this.brokerDeletedSource.next(0);
        });
    };
    BrokerService.prototype.uploadBrokerPicture = function (file, fileName) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/Blob/Upload";
        var blob;
        var formData = new FormData();
        formData.append("image", file, fileName);
        this.http
            .post(url, formData)
            .subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                blob = {
                    fileName: results[0].FileName,
                    fileUrl: results[0].FileUrl,
                    fileSizeInBytes: results[0].FileSizeInBytes,
                    fileSizeInKb: results[0].FileSizeInKb,
                };
                _this.brokerPictureSource.next(blob);
                _this.toastr.success("Upload successful.");
            }
            else {
                _this.brokerPictureSource.next(blob);
                _this.toastr.error("Uploading failed.");
            }
        }, function (error) {
            _this.brokerPictureSource.next(blob);
            _this.toastr.error("Server error.");
        });
    };
    // detail operations
    BrokerService.prototype.saveBroker = function (broker) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Save";
        this.http.put(url, JSON.stringify(broker), this.options).subscribe(function (response) {
            _this.brokerSavedSource.next(1);
        }, function (error) {
            _this.brokerSavedSource.next(0);
        });
    };
    BrokerService.prototype.lockBroker = function (broker) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Lock";
        this.http.put(url, JSON.stringify(broker), this.options).subscribe(function (response) {
            _this.brokerLockedSource.next(1);
        }, function (error) {
            _this.brokerLockedSource.next(0);
        });
    };
    BrokerService.prototype.unlockBroker = function (broker) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Unlock";
        this.http.put(url, JSON.stringify(broker), this.options).subscribe(function (response) {
            _this.brokerUnlockedSource.next(1);
        }, function (error) {
            _this.brokerUnlockedSource.next(0);
        });
    };
    BrokerService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], BrokerService);
    return BrokerService;
}());



/***/ }),

/***/ "../../../../../src/app/checklist/checklist.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/checklist\">Checklist List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnPrintChecklist\" [disabled]=\"!checklist.isLocked\" class=\"btn btn-primary\" (click)=\"btnPrintChecklistClick()\">\r\n                                <i class=\"fa fa-print fa-fw\"></i> Print\r\n                            </button>\r\n                            <button id=\"btnLockChecklist\" [disabled]=\"checklist.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockChecklistClick()\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button id=\"btnUnlockChecklist\" [disabled]=\"!checklist.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockChecklistClick()\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button id=\"btnSaveChecklist\" [disabled]=\"checklist.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveChecklistClick()\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button id=\"btnCloseChecklist\" class=\"btn btn-danger\" routerLink=\"/checklist\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- detail -->\r\n            <div class=\"card-body\">\r\n\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checklist Code</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"checklist.checklistCode\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checklist</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"checklist.checklist\" [disabled]=\"checklist.isLocked\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Date</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-date #calChecklistDate [(text)]=\"checklist.checklistDate\" [isDisabled]=\"checklist.isLocked\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Project</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"checklist.project\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [(ngModel)]=\"checklist.remarks\" rows=\"5\" class=\"form-control\" [disabled]=\"checklist.isLocked\">\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbChecklistStatus [itemsSource]=\"cmbChecklistStatusData\" [isDisabled]=\"checklist.isLocked\" [isEditable]=\"false\"\r\n                                    [isRequired]=\"true\" [displayMemberPath]=\"'description'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"checklist.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n        <br />\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h6>Checklist Requirement</h6>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button [disabled]=\"checklist.isLocked\" type=\"button\" class=\"btn btn-primary\" (click)=\"btnAddChecklistRequirementsClick()\">\r\n                                <i class=\"fa fa-plus\"></i> Add\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdChecklistRequirements [itemsSource]=\"fgdChecklistRequirementsCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" [disabled]=\"checklist.isLocked\" (click)=\"btnEditChecklistRequirementsClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" [disabled]=\"checklist.isLocked\" (click)=\"btnDeleteChecklistRequirementsClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'No'\" [binding]=\"'requirementNo'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Requirement'\" [binding]=\"'requirement'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Category'\" [binding]=\"'category'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Type'\" [binding]=\"'type'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'A'\" [binding]=\"'withAttachments'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-md-12 btn-group\">\r\n                    <button type=\"button\" class=\"btn btn-info\" (click)=\"fgdChecklistRequirementsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-info\" (click)=\"fgdChecklistRequirementsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-info\" disabled style=\"width:100px\">\r\n                        {{ fgdChecklistRequirementsCollection.pageIndex + 1 }} / {{ fgdChecklistRequirementsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-info\" (click)=\"fgdChecklistRequirementsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-info\" (click)=\"fgdChecklistRequirementsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"checklist\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->\r\n\r\n\r\n\r\n\r\n<!-- delete checklist requirement prompt modal -->\r\n<div id=\"mdlChecklistRequirementDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlChecklistRequirementDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Requirement</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdChecklistRequirementsCollection.currentItem != null ? fgdChecklistRequirementsCollection.currentItem.requirement\r\n                : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkChecklistRequirementDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkChecklistRequirementDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseChecklistRequirementDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseChecklistRequirementDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- edit checklist requirement modal  -->\r\n<div id=\"mdlChecklistRequirementEdit\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlChecklistRequirementEditShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Edit Checklist Requirement</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">No.</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"checklistRequirement.requirementNo\" disabled type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Requirement</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"checklistRequirement.requirement\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Category</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"checklistRequirement.category\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Type</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-combo-box #cmbChecklistRequirementType [itemsSource]=\"cmbChecklistRequirementTypeData\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                            [displayMemberPath]=\"'value'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"checklistRequirement.type\">\r\n                        </wj-combo-box>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">With Attachments</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"checklistRequirement.withAttachments\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveChecklistRequirementEdit\" class=\"btn btn-success\" (click)=\"btnSaveChecklistRequirementEditClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseChecklistRequirementEdit\" class=\"btn btn-danger\" (click)=\"btnCloseChecklistRequirementEditClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/checklist/checklist.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChecklistDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__checklist_service__ = __webpack_require__("../../../../../src/app/checklist/checklist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var ChecklistDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function ChecklistDetail(checklistService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.checklistService = checklistService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Checklist Detail';
        // model(s)
        this.checklist = {
            id: 0,
            checklistCode: "",
            checklist: "",
            checklistDate: this.currentDateString,
            projectId: 0,
            project: "",
            remarks: "",
            status: "ACTIVE",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString
        };
        this.checklistRequirement = {
            id: 0,
            checkListId: 0,
            checkList: "",
            requirementNo: 0,
            requirement: "",
            category: "",
            type: "OPTIONAL",
            withAttachments: false,
        };
        // modal(s)
        this.mdlChecklistRequirementDeleteShow = false;
        this.mdlChecklistRequirementEditShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    ChecklistDetail.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdChecklistRequirementsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdChecklistRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdChecklistRequirementsData);
        if (this.securityService.openPage("CHECKLIST DETAIL") == true) {
            this.getChecklist();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    ChecklistDetail.prototype.ngOnDestroy = function () {
        if (this.checklistSub != null)
            this.checklistSub.unsubscribe();
        if (this.checklistSavedSub != null)
            this.checklistSavedSub.unsubscribe();
        if (this.checklistLockedSub != null)
            this.checklistLockedSub.unsubscribe();
        if (this.checklistUnlockedSub != null)
            this.checklistUnlockedSub.unsubscribe();
        if (this.checklistStatusSub != null)
            this.checklistStatusSub.unsubscribe();
        if (this.checklistRequirementsSub != null)
            this.checklistRequirementsSub.unsubscribe();
        if (this.checklistRequirementSavedSub != null)
            this.checklistRequirementSavedSub.unsubscribe();
        if (this.checklistRequirementDeletedSub != null)
            this.checklistRequirementDeletedSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    ChecklistDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params["id"];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    ChecklistDetail.prototype.getChecklist = function () {
        var _this = this;
        this.checklistService.getChecklist(this.getIdParameter());
        this.checklistSub = this.checklistService.checklistObservable
            .subscribe(function (data) {
            _this.checklist.id = data.id;
            _this.checklist.checklistCode = data.checklistCode;
            _this.checklist.checklist = data.checklist;
            _this.checklist.checklistDate = data.checklistDate;
            _this.checklist.projectId = data.projectId;
            _this.checklist.project = data.project;
            _this.checklist.remarks = data.remarks;
            _this.checklist.status = data.status;
            _this.checklist.isLocked = data.isLocked;
            _this.checklist.createdBy = data.createdBy;
            _this.checklist.createdDateTime = data.createdDateTime;
            _this.checklist.updatedBy = data.updatedBy;
            _this.checklist.updatedDateTime = data.updatedDateTime;
            _this.getChecklistStatus(data);
            _this.getChecklistRequirements();
        });
    };
    // detail combo boxes
    ChecklistDetail.prototype.getChecklistStatus = function (detail) {
        var _this = this;
        this.checklistService.getDropDowns();
        this.checklistStatusSub = this.checklistService.dropDownsObservable.subscribe(function (data) {
            var checklistStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "CHECKLIST STATUS") {
                        checklistStatuses.push({
                            id: data[i].id,
                            category: data[i].category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbChecklistStatusData = checklistStatuses;
            setTimeout(function () {
                _this.checklist.status = detail.status;
            }, 100);
        });
    };
    // detail line1 (requirements) 
    ChecklistDetail.prototype.getChecklistRequirements = function () {
        var _this = this;
        this.checklistService.getChecklistRequirementsPerChecklist(this.checklist.id);
        this.checklistRequirementsSub = this.checklistService.checklistRequirementsObservable.subscribe(function (data) {
            _this.fgdChecklistRequirementsData = data;
            _this.fgdChecklistRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdChecklistRequirementsData);
            _this.fgdChecklistRequirementsCollection.pageSize = 15;
            _this.fgdChecklistRequirementsCollection.trackChanges = true;
        });
    };
    // detail line1 (requirements) combo boxes
    ChecklistDetail.prototype.getRequirementType = function (defaultValue) {
        var _this = this;
        this.checklistService.getDropDowns();
        this.checklistStatusSub = this.checklistService.dropDownsObservable.subscribe(function (data) {
            var requirementTypes = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "REQUIREMENT TYPE") {
                        requirementTypes.push({
                            id: data[i].id,
                            category: data[i].category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbChecklistRequirementTypeData = requirementTypes;
            setTimeout(function () {
                _this.checklistRequirement.type = defaultValue;
            }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    ChecklistDetail.prototype.btnSaveChecklistClick = function () {
        var _this = this;
        var btnSaveChecklist = document.getElementById("btnSaveChecklist");
        btnSaveChecklist.setAttribute("disabled", "disabled");
        btnSaveChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.checklistService.saveChecklist(this.checklist);
        this.checklistSavedSub = this.checklistService.checklistSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveChecklist.removeAttribute("disabled");
                btnSaveChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveChecklist.removeAttribute("disabled");
                btnSaveChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    ChecklistDetail.prototype.btnLockChecklistClick = function () {
        var _this = this;
        var btnLockChecklist = document.getElementById("btnLockChecklist");
        btnLockChecklist.setAttribute("disabled", "disabled");
        btnLockChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.checklistService.lockChecklist(this.checklist);
        this.checklistLockedSub = this.checklistService.checklistLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.checklist.isLocked = true;
                btnLockChecklist.removeAttribute("disabled");
                btnLockChecklist.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockChecklist.removeAttribute("disabled");
                btnLockChecklist.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    ChecklistDetail.prototype.btnUnlockChecklistClick = function () {
        var _this = this;
        var btnUnlockChecklist = document.getElementById("btnUnlockChecklist");
        btnUnlockChecklist.setAttribute("disabled", "disabled");
        btnUnlockChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.checklistService.unlockChecklist(this.checklist);
        this.checklistUnlockedSub = this.checklistService.checklistUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.checklist.isLocked = false;
                btnUnlockChecklist.removeAttribute("disabled");
                btnUnlockChecklist.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockChecklist.removeAttribute("disabled");
                btnUnlockChecklist.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    ChecklistDetail.prototype.btnPrintChecklistClick = function () {
        this.router.navigate(['/pdf', 'checklist', this.checklist.id]);
    };
    // detail line1 (requirements) list operations
    ChecklistDetail.prototype.btnAddChecklistRequirementsClick = function () {
        var requirementNo = 0;
        for (var _i = 0, _a = this.fgdChecklistRequirementsData; _i < _a.length; _i++) {
            var item = _a[_i];
            if (item.requirementNo > requirementNo)
                requirementNo = item.requirementNo;
        }
        this.checklistRequirement.id = 0;
        this.checklistRequirement.checkListId = this.checklist.id;
        this.checklistRequirement.requirementNo = requirementNo + 1;
        this.checklistRequirement.requirement = "";
        this.checklistRequirement.category = "";
        this.checklistRequirement.type = "OPTIONAL";
        this.checklistRequirement.withAttachments = false;
        this.mdlChecklistRequirementEditShow = true;
        this.getRequirementType("OPTIONAL");
    };
    ChecklistDetail.prototype.btnEditChecklistRequirementsClick = function () {
        var selectedChecklistRequirement = this.fgdChecklistRequirementsCollection.currentItem;
        this.checklistRequirement.id = selectedChecklistRequirement.id;
        this.checklistRequirement.checkListId = selectedChecklistRequirement.checkListId;
        this.checklistRequirement.requirementNo = selectedChecklistRequirement.requirementNo;
        this.checklistRequirement.requirement = selectedChecklistRequirement.requirement;
        this.checklistRequirement.category = selectedChecklistRequirement.category;
        this.checklistRequirement.type = selectedChecklistRequirement.type;
        this.checklistRequirement.withAttachments = selectedChecklistRequirement.withAttachments;
        this.mdlChecklistRequirementEditShow = true;
        this.getRequirementType(selectedChecklistRequirement.type);
    };
    ChecklistDetail.prototype.btnDeleteChecklistRequirementsClick = function () {
        this.mdlChecklistRequirementDeleteShow = true;
    };
    // detail line1 (requirements) delete modal operations
    ChecklistDetail.prototype.btnOkChecklistRequirementDeleteModalClick = function () {
        var _this = this;
        var btnOkChecklistRequirementDeleteModal = document.getElementById("btnOkChecklistRequirementDeleteModal");
        var btnCloseChecklistRequirementDeleteModal = document.getElementById("btnCloseChecklistRequirementDeleteModal");
        btnOkChecklistRequirementDeleteModal.setAttribute("disabled", "disabled");
        btnCloseChecklistRequirementDeleteModal.setAttribute("disabled", "disabled");
        var selectedChecklistRequirement = this.fgdChecklistRequirementsCollection.currentItem;
        this.checklistService.deleteChecklistRequirement(selectedChecklistRequirement.id);
        this.checklistRequirementDeletedSub = this.checklistService.checklistRequirementsDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdChecklistRequirementsCollection.remove(selectedChecklistRequirement);
                btnOkChecklistRequirementDeleteModal.removeAttribute("disabled");
                btnCloseChecklistRequirementDeleteModal.removeAttribute("disabled");
                _this.mdlChecklistRequirementDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkChecklistRequirementDeleteModal.removeAttribute("disabled");
                btnCloseChecklistRequirementDeleteModal.removeAttribute("disabled");
            }
        });
    };
    ChecklistDetail.prototype.btnCloseChecklistRequirementDeleteModalClick = function () {
        this.mdlChecklistRequirementDeleteShow = false;
    };
    // detail line1 (requirements) edit modal operations
    ChecklistDetail.prototype.btnSaveChecklistRequirementEditClick = function () {
        var _this = this;
        var btnSaveChecklistRequirementEdit = document.getElementById("btnSaveChecklistRequirementEdit");
        var btnCloseChecklistRequirementEdit = document.getElementById("btnCloseChecklistRequirementEdit");
        btnSaveChecklistRequirementEdit.setAttribute("disabled", "disabled");
        btnSaveChecklistRequirementEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseChecklistRequirementEdit.setAttribute("disabled", "disabled");
        this.checklistService.saveChecklistRequirement(this.checklistRequirement);
        this.checklistRequirementSavedSub = this.checklistService.checklistRequirementsSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveChecklistRequirementEdit.removeAttribute("disabled");
                btnSaveChecklistRequirementEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseChecklistRequirementEdit.removeAttribute("disabled");
                _this.mdlChecklistRequirementEditShow = false;
                _this.getChecklistRequirements();
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveChecklistRequirementEdit.removeAttribute("disabled");
                btnSaveChecklistRequirementEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseChecklistRequirementEdit.removeAttribute("disabled");
            }
        });
    };
    ChecklistDetail.prototype.btnCloseChecklistRequirementEditClick = function () {
        this.mdlChecklistRequirementEditShow = false;
    };
    ChecklistDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/checklist/checklist.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__checklist_service__["a" /* ChecklistService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], ChecklistDetail);
    return ChecklistDetail;
}());



/***/ }),

/***/ "../../../../../src/app/checklist/checklist.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnAddChecklistClick()\" id=\"btnAddChecklist\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button id=\"btnCloseChecklist\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- filters -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Project:\r\n                                </span>\r\n                                <wj-combo-box #cmbProjects [itemsSource]=\"cmbProjectsData\" [placeholder]=\"'Select Project'\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'project'\" [selectedValuePath]=\"'id'\" (selectedIndexChanged)=\"cmbProjectsChange()\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 75%;\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdChecklist [itemsSource]=\"fgdChecklistCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditChecklistClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteChecklistClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'checklistCode'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Checklist'\" [binding]=\"'checklist'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'checklistDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdChecklistCollection.pageIndex + 1 }} / {{ fgdChecklistCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdChecklistCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete checklist prompt modal -->\r\n<div id=\"mdlChecklistDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlChecklistDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Checklist</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdChecklistCollection.currentItem != null ? fgdChecklistCollection.currentItem.checklist : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkChecklistDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkChecklistDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseChecklistDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseChecklistDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/checklist/checklist.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChecklistList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__checklist_service__ = __webpack_require__("../../../../../src/app/checklist/checklist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box 

// service(s)


var ChecklistList = (function () {
    // =======
    // angular
    // =======
    //constructor
    function ChecklistList(checklistService, toastr, viewContainer, router, securityService, location) {
        this.checklistService = checklistService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Checklist List';
        // model(s)
        this.checklist = {
            id: 0,
            checklistCode: "",
            checklist: "",
            checklistDate: this.currentDateString,
            projectId: 0,
            project: "",
            remarks: "",
            status: "ACTIVE",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString
        };
        // modals
        this.mdlChecklistDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    ChecklistList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdChecklistData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdChecklistCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdChecklistData);
        if (this.securityService.openPage("CHECKLIST") == true) {
            this.getProjects();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    ChecklistList.prototype.ngOnDestroy = function () {
        if (this.checklistsSub != null)
            this.checklistsSub.unsubscribe();
        if (this.projectsSub != null)
            this.projectsSub.unsubscribe();
        if (this.checklistDeletedSub != null)
            this.checklistDeletedSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    // filters
    ChecklistList.prototype.getProjects = function () {
        var _this = this;
        this.checklistService.getProjects();
        this.projectsSub = this.checklistService.projectsObservable.subscribe(function (data) {
            if (data.length > 0) {
                _this.cmbProjectsData = data;
            }
        });
    };
    // list
    ChecklistList.prototype.getChecklistPerProjectId = function (projectId) {
        var _this = this;
        var checklist = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.checklistService.getChecklistPerProjectId(projectId);
        this.checklistsSub = this.checklistService.checklistsObservable.subscribe(function (data) {
            _this.fgdChecklistData = data;
            _this.fgdChecklistCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdChecklistData);
            _this.fgdChecklistCollection.pageSize = 15;
            _this.fgdChecklistCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // filter events
    ChecklistList.prototype.cmbProjectsChange = function () {
        var index = this.cmbProjects["selectedIndex"];
        var projectId = this.cmbProjectsData[index]["id"];
        var project = this.cmbProjectsData[index]["project"];
        this.checklist.projectId = projectId;
        this.checklist.project = project;
        this.getChecklistPerProjectId(projectId);
    };
    // list events
    ChecklistList.prototype.btnAddChecklistClick = function () {
        var btnAddChecklist = document.getElementById("btnAddChecklist");
        btnAddChecklist.setAttribute("disabled", "disabled");
        btnAddChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.checklistService.addChecklist(this.checklist, btnAddChecklist);
    };
    ChecklistList.prototype.btnDeleteChecklistClick = function () {
        this.mdlChecklistDeleteShow = true;
    };
    ChecklistList.prototype.btnEditChecklistClick = function () {
        var selectedChecklist = this.fgdChecklistCollection.currentItem;
        this.router.navigate(['/checklist', selectedChecklist.id]);
    };
    // delete checklist modal events
    ChecklistList.prototype.btnOkChecklistDeleteModalClick = function () {
        var _this = this;
        var btnOkChecklistDeleteModal = document.getElementById("btnOkChecklistDeleteModal");
        var btnCloseChecklistDeleteModal = document.getElementById("btnCloseChecklistDeleteModal");
        var selectedChecklist = this.fgdChecklistCollection.currentItem;
        btnOkChecklistDeleteModal.setAttribute("disabled", "disabled");
        btnCloseChecklistDeleteModal.setAttribute("disabled", "disabled");
        this.checklistService.deleteChecklist(selectedChecklist.id);
        this.checklistDeletedSub = this.checklistService.checklistDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdChecklistCollection.remove(selectedChecklist);
                btnOkChecklistDeleteModal.removeAttribute("disabled");
                btnCloseChecklistDeleteModal.removeAttribute("disabled");
                _this.mdlChecklistDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkChecklistDeleteModal.removeAttribute("disabled");
                btnCloseChecklistDeleteModal.removeAttribute("disabled");
            }
        });
    };
    ChecklistList.prototype.btnCloseChecklistDeleteModalClick = function () {
        this.mdlChecklistDeleteShow = false;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("cmbProjects"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], ChecklistList.prototype, "cmbProjects", void 0);
    ChecklistList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/checklist/checklist.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__checklist_service__["a" /* ChecklistService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], ChecklistList);
    return ChecklistList;
}());



/***/ }),

/***/ "../../../../../src/app/checklist/checklist.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChecklistService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var ChecklistService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function ChecklistService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // filters
        this.projectsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectsObservable = this.projectsSource.asObservable();
        // list 
        this.checklistsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistsObservable = this.checklistsSource.asObservable();
        // detail
        this.checklistSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistObservable = this.checklistSource.asObservable();
        // list operations
        this.checklistDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistDeletedObservable = this.checklistDeletedSource.asObservable();
        // detail operations
        this.checklistSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistSavedObservable = this.checklistSavedSource.asObservable();
        this.checklistLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistLockedObservable = this.checklistLockedSource.asObservable();
        this.checklistUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistUnlockedObservable = this.checklistUnlockedSource.asObservable();
        // dropdown list
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
        // detail line1 (requirements)
        this.checklistRequirementsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistRequirementsObservable = this.checklistRequirementsSource.asObservable();
        // detail line1 (requirements) operations
        this.checklistRequirementsDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistRequirementsDeletedObservable = this.checklistRequirementsDeletedSource.asObservable();
        this.checklistRequirementsSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistRequirementsSavedObservable = this.checklistRequirementsSavedSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // filters
    ChecklistService.prototype.getProjects = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/List";
        var projects = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    projects.push({
                        id: results[i].Id,
                        projectCode: results[i].ProjectCode,
                        project: results[i].Project,
                        address: results[i].Address,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.projectsSource.next(projects);
            }
            else {
                _this.toastr.error("No projects.");
            }
        });
    };
    // list
    ChecklistService.prototype.getChecklistPerProjectId = function (projectId) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstChecklist/ListPerProjectId/" + projectId;
        var checklist = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    checklist.push({
                        id: results[i].Id,
                        checklistCode: results[i].ChecklistCode,
                        checklist: results[i].Checklist,
                        checklistDate: results[i].ChecklistDate,
                        projectId: results[i].ProjectId,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.checklistsSource.next(checklist);
            }
            else {
                _this.checklistsSource.next(checklist);
                _this.toastr.error("No checklist for this project.");
            }
        });
    };
    // list operations
    ChecklistService.prototype.addChecklist = function (checklist, btnAddChecklist) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/Add";
        this.http.post(url, JSON.stringify(checklist), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add Successful.");
                setTimeout(function () {
                    _this.router.navigate(['/checklist', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add Failed.");
                btnAddChecklist.removeAttribute("disabled");
                btnAddChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddChecklist.removeAttribute("disabled");
            btnAddChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    ChecklistService.prototype.deleteChecklist = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.checklistDeletedSource.next(1);
        }, function (error) {
            _this.checklistDeletedSource.next(0);
        });
    };
    ChecklistService.prototype.getChecklist = function (id) {
        var _this = this;
        var checklist;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                checklist = {
                    id: result.Id,
                    checklistCode: result.ChecklistCode,
                    checklist: result.Checklist,
                    checklistDate: result.ChecklistDate,
                    projectId: result.ProjectId,
                    project: result.Project,
                    remarks: result.Remarks,
                    status: result.Status,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime
                };
                _this.checklistSource.next(checklist);
            }
            else {
                _this.toastr.error("No checklist.");
                setTimeout(function () {
                    _this.router.navigate(["/checklist"]);
                }, 1000);
            }
        });
    };
    // detail operations
    ChecklistService.prototype.saveChecklist = function (checklist) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/Save";
        this.http.put(url, JSON.stringify(checklist), this.options).subscribe(function (response) {
            _this.checklistSavedSource.next(1);
        }, function (error) {
            _this.checklistSavedSource.next(0);
        });
    };
    ChecklistService.prototype.lockChecklist = function (checklist) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/Lock";
        this.http.put(url, JSON.stringify(checklist), this.options).subscribe(function (response) {
            _this.checklistLockedSource.next(1);
        }, function (error) {
            _this.checklistLockedSource.next(0);
        });
    };
    ChecklistService.prototype.unlockChecklist = function (checklist) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/UnLock";
        this.http.put(url, JSON.stringify(checklist), this.options).subscribe(function (reponse) {
            _this.checklistUnlockedSource.next(1);
        }, function (error) {
            _this.checklistUnlockedSource.next(0);
        });
    };
    // detail combo boxes
    ChecklistService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.dropDownsSource.next(dropDowns);
                _this.toastr.error("No dropdowns.");
            }
        });
    };
    // detail item1 (requirements) list
    ChecklistService.prototype.getChecklistRequirementsPerChecklist = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckListRequirement/ListPerChecklist/" + id;
        var checklistRequirements = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    checklistRequirements.push({
                        id: results[i].Id,
                        checkListId: results[i].CheckListId,
                        checkList: results[i].CheckList,
                        requirementNo: results[i].RequirementNo,
                        requirement: results[i].Requirement,
                        category: results[i].Category,
                        type: results[i].Type,
                        withAttachments: results[i].WithAttachments,
                    });
                }
                _this.checklistRequirementsSource.next(checklistRequirements);
            }
            else {
                _this.checklistRequirementsSource.next(checklistRequirements);
                _this.toastr.error("No requirement for this checklist.");
            }
        });
    };
    // detail item1 (requirements) list operations
    ChecklistService.prototype.saveChecklistRequirement = function (checklistRequirement) {
        var _this = this;
        if (checklistRequirement.id == 0) {
            var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckListRequirement/Add";
            this.http.post(url, JSON.stringify(checklistRequirement), this.options).subscribe(function (response) {
                _this.checklistRequirementsSavedSource.next(1);
            }, function (error) {
                _this.checklistRequirementsSavedSource.next(0);
            });
        }
        else {
            var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckListRequirement/Save";
            this.http.put(url, JSON.stringify(checklistRequirement), this.options).subscribe(function (response) {
                _this.checklistRequirementsSavedSource.next(1);
            }, function (error) {
                _this.checklistRequirementsSavedSource.next(0);
            });
        }
    };
    ChecklistService.prototype.deleteChecklistRequirement = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckListRequirement/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.checklistRequirementsDeletedSource.next(1);
        }, function (error) {
            _this.checklistRequirementsDeletedSource.next(0);
        });
    };
    ChecklistService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], ChecklistService);
    return ChecklistService;
}());



/***/ }),

/***/ "../../../../../src/app/commission/commission.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/unit\">Commission Request List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, e.g., print, lock, unlock, etc. -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnPrintCommission\" [disabled]=\"!commission.isLocked\" class=\"btn btn-primary\" (click)=\"btnPrintCommissionClick()\">\r\n                                <i class=\"fa fa-print fa-fw\"></i> Print\r\n                            </button>\r\n                            <button id=\"btnLockCommission\" [disabled]=\"commission.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockCommissionClick()\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button id=\"btnUnlockCommission\" [disabled]=\"!commission.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockCommissionClick()\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button id=\"btnSaveCommission\" [disabled]=\"commission.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveCommissionClick()\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button id=\"btnCloseCommission\" class=\"btn btn-danger\" routerLink=\"/commission\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- <div class=\"card-header\"> -->\r\n\r\n            <!-- detail fields -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Commission Req. No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"commission.commissionRequestNumber\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Date</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-date #calCommissionRequestDate [(text)]=\"commission.commissionRequestDate\" [isDisabled]=\"commission.isLocked\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Broker</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbBroker [itemsSource]=\"cmbBrokerData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"commission.brokerId\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Sold Unit No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbSoldUnit [itemsSource]=\"cmbSoldUnitData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'soldUnitNumber'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"commission.soldUnitId\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Commission No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbCommissionNumber [itemsSource]=\"cmbCommissionNumberData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\"\r\n                                    [isRequired]=\"true\" [displayMemberPath]=\"'value'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"commission.commissionNumber\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Amount</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"commission.amount\" [isDisabled]=\"commission.isLocked\">\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbStatus [itemsSource]=\"cmbStatusData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'value'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"commission.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [disabled]=\"commission.isLocked\" [(ngModel)]=\"commission.remarks\" rows=\"3\" class=\"form-control\">\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Prepared By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbPreparedBy [itemsSource]=\"cmbUserData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"commission.preparedBy\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checked By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbCheckedBy [itemsSource]=\"cmbUserData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"commission.checkedBy\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Approved By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbApprovedBy [itemsSource]=\"cmbUserData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"commission.approvedBy\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div class=\"col-md-6\"> -->\r\n                </div>\r\n                <!-- <div class=\"row\"> -->\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"commission\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->"

/***/ }),

/***/ "../../../../../src/app/commission/commission.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommissionDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__commission_service__ = __webpack_require__("../../../../../src/app/commission/commission.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box 

// service(s)


var CommissionDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function CommissionDetail(commissionService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.commissionService = commissionService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Commission Detail';
        // model(s)
        this.commission = {
            id: 0,
            commissionRequestNumber: "",
            commissionRequestDate: this.currentDateString,
            brokerId: 0,
            broker: "",
            soldUnitId: 0,
            soldUnit: "",
            commissionNumber: "",
            amount: 0,
            remarks: "",
            preparedBy: 0,
            preparedByUser: "",
            checkedBy: 0,
            checkedByUser: "",
            approvedBy: 0,
            approvedByUser: "",
            status: "NEW",
            isLocked: false,
            createdBy: 0,
            createdDateTime: this.currentDateString,
            updatedBy: 0,
            updatedDateTime: this.currentDateString
        };
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    CommissionDetail.prototype.ngOnInit = function () {
        var _this = this;
        if (this.securityService.openPage("COMMISSION DETAIL") == true) {
            this.getCommission();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    CommissionDetail.prototype.ngOnDestroy = function () {
        if (this.commissionSub != null)
            this.commissionSub.unsubscribe();
        if (this.commissionSavedSub != null)
            this.commissionSavedSub.unsubscribe();
        if (this.commissionLockedSub != null)
            this.commissionLockedSub.unsubscribe();
        if (this.commissionUnlockedSub != null)
            this.commissionUnlockedSub.unsubscribe();
        if (this.cmbBrokerSub != null)
            this.cmbBrokerSub.unsubscribe();
        if (this.cmbSoldUnitSub != null)
            this.cmbSoldUnitSub.unsubscribe();
        if (this.cmbDropDownsSub != null)
            this.cmbDropDownsSub.unsubscribe();
        if (this.cmbUserSub != null)
            this.cmbUserSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    CommissionDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    CommissionDetail.prototype.getCommission = function () {
        var _this = this;
        this.commissionService.getCommission(this.getIdParameter());
        this.commissionSub = this.commissionService.commissionObservable
            .subscribe(function (data) {
            _this.commission.id = data.id;
            _this.commission.commissionRequestNumber = data.commissionRequestNumber;
            _this.commission.commissionRequestDate = data.commissionRequestDate;
            _this.commission.brokerId = data.brokerId;
            _this.commission.broker = data.broker;
            _this.commission.soldUnitId = data.soldUnitId;
            _this.commission.soldUnit = data.soldUnit;
            _this.commission.commissionNumber = data.commissionNumber;
            _this.commission.amount = data.amount;
            _this.commission.remarks = data.remarks;
            _this.commission.preparedBy = data.preparedBy;
            _this.commission.preparedByUser = data.preparedByUser;
            _this.commission.checkedBy = data.checkedBy;
            _this.commission.checkedByUser = data.checkedByUser;
            _this.commission.approvedBy = data.approvedBy;
            _this.commission.approvedByUser = data.approvedByUser;
            _this.commission.status = data.status;
            _this.commission.isLocked = data.isLocked;
            _this.commission.createdBy = data.createdBy;
            _this.commission.createdDateTime = data.createdDateTime;
            _this.commission.updatedBy = data.updatedBy;
            _this.commission.updatedDateTime = data.updatedDateTime;
            _this.getCmbBrokerData(data);
            _this.getCmbSoldUnitData(data);
            _this.getCmbDropDownsData(data);
            _this.getCmbUserData(data);
        });
    };
    // combo boxes
    CommissionDetail.prototype.getCmbBrokerData = function (defaultValue) {
        var _this = this;
        this.commissionService.getBrokers();
        this.cmbBrokerSub = this.commissionService.brokersObservable.subscribe(function (data) {
            _this.cmbBrokerData = data;
            setTimeout(function () { _this.commission.brokerId = defaultValue.brokerId; }, 100);
        });
    };
    CommissionDetail.prototype.getCmbSoldUnitData = function (defaultValue) {
        var _this = this;
        this.commissionService.getSoldUnits();
        this.cmbSoldUnitSub = this.commissionService.soldUnitsObservable.subscribe(function (data) {
            _this.cmbSoldUnitData = data;
            setTimeout(function () { _this.commission.soldUnitId = defaultValue.soldUnitId; }, 100);
        });
    };
    CommissionDetail.prototype.getCmbDropDownsData = function (defaultValue) {
        var _this = this;
        var commissionNumbers = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        var statuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.commissionService.getDropDowns();
        this.cmbDropDownsSub = this.commissionService.dropDownsObservable.subscribe(function (data) {
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "COMMISSION STATUS") {
                        statuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "COMMISSION NUMBERS") {
                        commissionNumbers.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbCommissionNumberData = commissionNumbers;
            _this.cmbStatusData = statuses;
            setTimeout(function () { _this.commission.commissionNumber = defaultValue.commissionNumber; }, 100);
            setTimeout(function () { _this.commission.status = defaultValue.status; }, 100);
        });
    };
    CommissionDetail.prototype.getCmbUserData = function (defaultValue) {
        var _this = this;
        this.commissionService.getUsers();
        this.cmbUserSub = this.commissionService.usersObservable.subscribe(function (data) {
            _this.cmbUserData = data;
            setTimeout(function () { _this.commission.preparedBy = defaultValue.preparedBy; }, 100);
            setTimeout(function () { _this.commission.checkedBy = defaultValue.checkedBy; }, 100);
            setTimeout(function () { _this.commission.approvedBy = defaultValue.approvedBy; }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    CommissionDetail.prototype.btnSaveCommissionClick = function () {
        var _this = this;
        var btnSaveCommission = document.getElementById("btnSaveCommission");
        btnSaveCommission.setAttribute("disabled", "disabled");
        btnSaveCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.commissionService.saveCommission(this.commission);
        this.commissionSavedSub = this.commissionService.commissionSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveCommission.removeAttribute("disabled");
                btnSaveCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveCommission.removeAttribute("disabled");
                btnSaveCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    CommissionDetail.prototype.btnLockCommissionClick = function () {
        var _this = this;
        var btnLockCommission = document.getElementById("btnLockCommission");
        btnLockCommission.setAttribute("disabled", "disabled");
        btnLockCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.commissionService.lockCommission(this.commission);
        this.commissionLockedSub = this.commissionService.commissionLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.commission.isLocked = true;
                btnLockCommission.removeAttribute("disabled");
                btnLockCommission.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockCommission.removeAttribute("disabled");
                btnLockCommission.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    CommissionDetail.prototype.btnUnlockCommissionClick = function () {
        var _this = this;
        var btnUnlockCommission = document.getElementById("btnUnlockCommission");
        btnUnlockCommission.setAttribute("disabled", "disabled");
        btnUnlockCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.commissionService.unlockCommission(this.commission);
        this.commissionUnlockedSub = this.commissionService.commissionUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.commission.isLocked = false;
                btnUnlockCommission.removeAttribute("disabled");
                btnUnlockCommission.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockCommission.removeAttribute("disabled");
                btnUnlockCommission.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    CommissionDetail.prototype.btnPrintCommissionClick = function () {
        this.toastr.success("Not yet implemented.");
    };
    CommissionDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/commission/commission.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__commission_service__["a" /* CommissionService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], CommissionDetail);
    return CommissionDetail;
}());



/***/ }),

/***/ "../../../../../src/app/commission/commission.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnAddCommission\" class=\"btn btn-primary\" (click)=\"btnAddCommissionClick()\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button id=\"btnCloseCommission\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- filters -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date Start:\r\n                                </span>\r\n                                <wj-input-date #calDateStart [(ngModel)]=\"calDateStartData\" (textChanged)=\"getCommissions()\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date End:\r\n                                </span>\r\n                                <wj-input-date #calDateEnd [(ngModel)]=\"calDateEndData\" (textChanged)=\"getCommissions()\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 49%;\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdCommission [itemsSource]=\"fgdCommissionCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditCommissionClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteCommissionClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Number'\" [binding]=\"'commissionRequestNumber'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'commissionRequestDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Broker'\" [binding]=\"'broker'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Sold Unit'\" [binding]=\"'soldUnit'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Amount'\" [binding]=\"'amount'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdCommissionCollection.pageIndex + 1 }} / {{ fgdCommissionCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdCommissionCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete commission modal -->\r\n<div id=\"mdlCommissionDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlCommissionDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Commission Request</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete Commission Request No. {{fgdCommissionCollection.currentItem != null ? fgdCommissionCollection.currentItem.commissionRequestNumber\r\n                : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnOkCommissionDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkCommissionDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnCloseCommissionDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseCommissionDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/commission/commission.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommissionList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__commission_service__ = __webpack_require__("../../../../../src/app/commission/commission.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box 

// service(s)


var CommissionList = (function () {
    // =======
    // angular
    // =======
    // constructor
    function CommissionList(commissionService, toastr, viewContainer, router, securityService, location) {
        this.commissionService = commissionService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Commission Request List';
        // model(s)
        this.commission = {
            id: 0,
            commissionRequestNumber: "",
            commissionRequestDate: this.currentDateString,
            brokerId: 0,
            broker: "",
            soldUnitId: 0,
            soldUnit: "",
            commissionNumber: "",
            amount: 0,
            remarks: "",
            preparedBy: 0,
            preparedByUser: "",
            checkedBy: 0,
            checkedByUser: "",
            approvedBy: 0,
            approvedByUser: "",
            status: "NEW",
            isLocked: false,
            createdBy: 0,
            createdDateTime: this.currentDateString,
            updatedBy: 0,
            updatedDateTime: this.currentDateString
        };
        // filters
        this.calDateStartData = new Date();
        this.calDateEndData = new Date();
        // modals
        this.mdlCommissionDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    CommissionList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdCommissionData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdCommissionCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdCommissionData);
        if (this.securityService.openPage("COMMISSION LIST") == true) {
            this.getCommissions();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    CommissionList.prototype.ngOnDestroy = function () {
        if (this.commissionsSub != null)
            this.commissionsSub.unsubscribe();
        if (this.commissionsDeletedSub != null)
            this.commissionsDeletedSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    CommissionList.prototype.getCommissions = function () {
        var _this = this;
        var dateStart = [this.calDateStartData.getFullYear(), this.calDateStartData.getMonth() + 1, this.calDateStartData.getDate()].join('-');
        var dateEnd = [this.calDateEndData.getFullYear(), this.calDateEndData.getMonth() + 1, this.calDateEndData.getDate()].join('-');
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.commissionService.getCommissionsPerDates(dateStart, dateEnd);
        this.commissionsSub = this.commissionService.commissionsObservable.subscribe(function (data) {
            _this.fgdCommissionData = data;
            _this.fgdCommissionCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdCommissionData);
            _this.fgdCommissionCollection.pageSize = 15;
            _this.fgdCommissionCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // list operations
    CommissionList.prototype.btnAddCommissionClick = function () {
        var btnAddCommission = document.getElementById("btnAddCommission");
        btnAddCommission.setAttribute("disabled", "true");
        btnAddCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.commissionService.addCommission(this.commission, btnAddCommission);
    };
    CommissionList.prototype.btnEditCommissionClick = function () {
        var selectedCommission = this.fgdCommissionCollection.currentItem;
        this.router.navigate(['/commission', selectedCommission.id]);
    };
    CommissionList.prototype.btnDeleteCommissionClick = function () {
        this.mdlCommissionDeleteShow = true;
    };
    // delete modal events
    CommissionList.prototype.btnOkCommissionDeleteModalClick = function () {
        var _this = this;
        var btnOkCommissionDeleteModal = document.getElementById("btnOkCommissionDeleteModal");
        var btnCloseCommissionDeleteModal = document.getElementById("btnCloseCommissionDeleteModal");
        var selectedCommission = this.fgdCommissionCollection.currentItem;
        btnOkCommissionDeleteModal.setAttribute("disabled", "disabled");
        btnCloseCommissionDeleteModal.setAttribute("disabled", "disabled");
        this.commissionService.deleteCommission(selectedCommission.id);
        this.commissionsDeletedSub = this.commissionService.commissionDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdCommissionCollection.remove(selectedCommission);
                btnOkCommissionDeleteModal.removeAttribute("disabled");
                btnCloseCommissionDeleteModal.removeAttribute("disabled");
                _this.mdlCommissionDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkCommissionDeleteModal.removeAttribute("disabled");
                btnCloseCommissionDeleteModal.removeAttribute("disabled");
            }
        });
    };
    CommissionList.prototype.btnCloseCommissionDeleteModalClick = function () {
        this.mdlCommissionDeleteShow = false;
    };
    CommissionList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/commission/commission.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__commission_service__["a" /* CommissionService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], CommissionList);
    return CommissionList;
}());



/***/ }),

/***/ "../../../../../src/app/commission/commission.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommissionService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var CommissionService = (function () {
    // =======
    // angular
    // =======
    function CommissionService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // list and detail
        this.commissionsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionsObservable = this.commissionsSource.asObservable();
        this.commissionSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionObservable = this.commissionSource.asObservable();
        // detail operations
        this.commissionSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionSavedObservable = this.commissionSavedSource.asObservable();
        this.commissionLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionLockedObservable = this.commissionLockedSource.asObservable();
        this.commissionUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionUnlockedObservable = this.commissionUnlockedSource.asObservable();
        // list opertations
        this.commissionDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionDeletedObservable = this.commissionDeletedSource.asObservable();
        // combo boxes
        this.soldUnitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitsObservable = this.soldUnitsSource.asObservable();
        this.brokersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokersObservable = this.brokersSource.asObservable();
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // list and detail
    CommissionService.prototype.getCommissionsPerDates = function (dateStart, dateEnd) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/ListPerDates/" + dateStart + "/" + dateEnd;
        var commissionRequest = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    commissionRequest.push({
                        id: results[i].Id,
                        commissionRequestNumber: results[i].CommissionRequestNumber,
                        commissionRequestDate: results[i].CommissionRequestDate,
                        brokerId: results[i].BrokerId,
                        broker: results[i].Broker,
                        soldUnitId: results[i].SoldUnitId,
                        soldUnit: results[i].SoldUnit,
                        commissionNumber: results[i].CommissionNumber,
                        amount: results[i].Amount,
                        remarks: results[i].Remarks,
                        preparedBy: results[i].PreparedBy,
                        preparedByUser: results[i].PreparedByUser,
                        checkedBy: results[i].CheckedBy,
                        checkedByUser: results[i].CheckedByUser,
                        approvedBy: results[i].ApprovedBy,
                        approvedByUser: results[i].ApprovedByUser,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.commissionsSource.next(commissionRequest);
            }
            else {
                _this.commissionsSource.next(commissionRequest);
                _this.toastr.error("No commissions for this date range.");
            }
        });
    };
    CommissionService.prototype.getCommission = function (id) {
        var _this = this;
        var commission;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                commission = {
                    id: result.Id,
                    commissionRequestNumber: result.CommissionRequestNumber,
                    commissionRequestDate: result.CommissionRequestDate,
                    brokerId: result.BrokerId,
                    broker: result.Broker,
                    soldUnitId: result.SoldUnitId,
                    soldUnit: result.SoldUnit,
                    commissionNumber: result.CommissionNumber,
                    amount: result.Amount,
                    remarks: result.Remarks,
                    preparedBy: result.PreparedBy,
                    preparedByUser: result.PreparedByUser,
                    checkedBy: result.CheckedBy,
                    checkedByUser: result.CheckedByUser,
                    approvedBy: result.ApprovedBy,
                    approvedByUser: result.ApprovedByUser,
                    status: result.Status,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime
                };
                _this.commissionSource.next(commission);
            }
            else {
                _this.toastr.error("No commission request.");
                setTimeout(function () {
                    _this.router.navigate(["/commission"]);
                }, 1000);
            }
        });
    };
    // combo boxes
    CommissionService.prototype.getSoldUnits = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/List";
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnits.push({
                        id: results[i].Id,
                        soldUnitNumber: results[i].SoldUnitNumber,
                        soldUnitDate: results[i].SoldUnitDate,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        unitId: results[i].UnitId,
                        unit: results[i].Unit,
                        customerId: results[i].CustomerId,
                        customer: results[i].Customer,
                        brokerId: results[i].BrokerId,
                        broker: results[i].Broker,
                        checklistId: results[i].ChecklistId,
                        checklist: results[i].Checklist,
                        price: results[i].Price,
                        totalInvestment: results[i].TotalInvestment,
                        paymentOptions: results[i].PaymentOptions,
                        financing: results[i].Financing,
                        remarks: results[i].Remarks,
                        preparedBy: results[i].PreparedBy,
                        preparedByUser: results[i].PreparedByUser,
                        checkedBy: results[i].CheckedBy,
                        checkedByUser: results[i].CheckedByUser,
                        approvedBy: results[i].ApprovedBy,
                        approvedByUser: results[i].ApprovedByUser,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.soldUnitsSource.next(soldUnits);
            }
            else {
                _this.soldUnitsSource.next(soldUnits);
                _this.toastr.error("No sold units.");
            }
        });
    };
    CommissionService.prototype.getBrokers = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/List";
        var brokers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    brokers.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.brokersSource.next(brokers);
            }
            else {
                _this.toastr.error("No brokers.");
            }
        });
    };
    CommissionService.prototype.getUsers = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var users = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.usersSource.next(users);
            }
            else {
                _this.toastr.error("No users.");
            }
        });
    };
    CommissionService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.dropDownsSource.next(dropDowns);
                _this.toastr.error("No dropdowns.");
            }
        });
    };
    // list operations
    CommissionService.prototype.addCommission = function (commission, btnAddCommission) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Add";
        this.http.post(url, JSON.stringify(commission), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/commission', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddCommission.removeAttribute("disabled");
                btnAddCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddCommission.removeAttribute("disabled");
            btnAddCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    CommissionService.prototype.deleteCommission = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.commissionDeletedSource.next(1);
        }, function (error) {
            _this.commissionDeletedSource.next(0);
        });
    };
    // detail operations
    CommissionService.prototype.saveCommission = function (commission) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Save";
        this.http.put(url, JSON.stringify(commission), this.options).subscribe(function (response) {
            _this.commissionSavedSource.next(1);
        }, function (error) {
            _this.commissionSavedSource.next(0);
        });
    };
    CommissionService.prototype.lockCommission = function (commission) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Lock";
        this.http.put(url, JSON.stringify(commission), this.options).subscribe(function (response) {
            _this.commissionLockedSource.next(1);
        }, function (error) {
            _this.commissionLockedSource.next(0);
        });
    };
    CommissionService.prototype.unlockCommission = function (commission) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Unlock";
        this.http.put(url, JSON.stringify(commission), this.options).subscribe(function (response) {
            _this.commissionUnlockedSource.next(1);
        }, function (error) {
            _this.commissionUnlockedSource.next(0);
        });
    };
    CommissionService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], CommissionService);
    return CommissionService;
}());



/***/ }),

/***/ "../../../../../src/app/customer/customer.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/broker\">Customer List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, print, lock, unlock, save, close -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 50%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 49%;\" align=\"right\">\r\n                            <button [disabled]=\"!customer.isLocked\" class=\"btn btn-primary\" (click)=\"btnPrintCustomerClick()\" id=\"btnPrintCustomer\">\r\n                                <i class=\"fa fa-print fa-fw\"></i> Print\r\n                            </button>\r\n                            <button [disabled]=\"customer.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockCustomerClick()\" id=\"btnLockCustomer\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button [disabled]=\"!customer.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockCustomerClick()\" id=\"btnUnlockCustomer\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button [disabled]=\"customer.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveCustomerClick()\" id=\"btnSaveCustomer\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/customer\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- <div class=\"card-header\"> -->\r\n\r\n            <div class=\"card-body\">\r\n                <ul class=\"nav nav-tabs\" role=\"tablist\">\r\n                    <li class=\"\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[0], 'nav-link': true }\" (click)=\"tabDetail1Click(0)\" data-toggle=\"tab\" role=\"tab\">Customer Information</a>\r\n                    </li>\r\n                    <li class=\"\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[1], 'nav-link': true }\" (click)=\"tabDetail1Click(1)\" data-toggle=\"tab\" role=\"tab\">Employment Information</a>\r\n                    </li>\r\n                </ul>\r\n                <br>\r\n                <div class=\"tab-content\">\r\n                    <div [ngClass]=\"{'active': tabDetail1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Code</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.customerCode\" [disabled]=true type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Last Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.lastName\" [disabled]=\"customer.isLocked\" (input)=\"txtLastNameKeyup()\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">First Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.firstName\" [disabled]=\"customer.isLocked\" (input)=\"txtFirstNameKeyup()\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Middle Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.middleName\" [disabled]=\"customer.isLocked\" (input)=\"txtLastNameKeyup()\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Phone No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.telephoneNumber\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Mobile No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.mobileNumber\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Street Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"customer.isLocked\" [(ngModel)]=\"customer.address\" rows=\"4\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">City</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.city\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Province</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.province\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Country</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.country\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Zip Code</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.zipCode\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbStatus [itemsSource]=\"cmbStatusData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"customer.isLocked\" [(ngModel)]=\"customer.status\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Email Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.emailAddress\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Citizen</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.citizen\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"customer.isLocked\" [(ngModel)]=\"customer.remarks\" rows=\"8\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div customer info column 1> -->\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Picture</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-sm-8\">\r\n                                                <img [src]=\"this.customer.picture\" class=\"rounded\" style=\"width: 100%;\">\r\n                                            </div>\r\n                                            <div class=\"col-sm-4\">\r\n                                                <label class=\"btn btn-primary pull-right\" [hidden]=\"customer.isLocked\">\r\n                                                    <input type=\"file\" (change)=\"btnUploadPictureClick($event)\" name=\"btnUploadPicture\" accept=\"image/*\" style=\"display:none;\"> Upload\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Civil Status</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbCivilStatus [itemsSource]=\"cmbCivilStatusData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"customer.isLocked\" [(ngModel)]=\"customer.civilStatus\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Gender</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbGender [itemsSource]=\"cmbGenderData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"customer.isLocked\" [(ngModel)]=\"customer.gender\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Birth Date</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-date #calBirthDate [(text)]=\"customer.birthDate\" [isDisabled]=\"customer.isLocked\" format=\"M/d/yyyy\">\r\n                                        </wj-input-date>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">TIN</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.tin\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse Last Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseLastName\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse First Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseFirstName\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse Middle Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseMiddleName\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse Birth Date</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-date #calBirthDate [(text)]=\"customer.spouseBirthDate\" [isDisabled]=\"customer.isLocked\" format=\"M/d/yyyy\">\r\n                                        </wj-input-date>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse Citizen</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseCitizen\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse Employer</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseEmployer\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse TIN</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseTIN\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div customer info column 2> -->\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div tabpanel:customer info> -->\r\n                    <div [ngClass]=\"{'active': tabDetail1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">ID Type</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbIDType [itemsSource]=\"cmbIDTypeData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"customer.isLocked\" [(ngModel)]=\"customer.idType\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">ID Number</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.idNumber\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Employer</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employer\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Employer Industry</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerIndustry\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">No. of Years Employed</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.noOfYearsEmployed\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Position</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.position\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Employment Status</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbEmploymentStatus [itemsSource]=\"cmbEmploymentStatusData\" [(ngModel)]=\"customer.employmentStatus\" [isEditable]=\"false\"\r\n                                            [isRequired]=\"true\" [displayMemberPath]=\"'value'\" [selectedValuePath]=\"'value'\" [isDisabled]=\"customer.isLocked\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Street Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"customer.isLocked\" [(ngModel)]=\"customer.employerAddress\" rows=\"4\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div employment info column 1> -->\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">City</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerCity\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Province</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerProvince\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Country</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerCountry\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Zip Code</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerZipCode\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Telephone No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerTelephoneNumber\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Mobile No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerMobileNumber\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div employment info column 2> -->\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div tabpanel:employment info> -->\r\n                </div>\r\n                <!-- <div class=\"tab-content\"> -->\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"customer\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->"

/***/ }),

/***/ "../../../../../src/app/customer/customer.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__customer_service__ = __webpack_require__("../../../../../src/app/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var CustomerDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function CustomerDetail(customerService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.customerService = customerService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // default date
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Customer Detail';
        // model(s)
        this.customer = {
            id: 0,
            customerCode: "",
            lastName: "",
            firstName: "",
            middleName: "",
            fullName: "",
            civilStatus: "SINGLE",
            gender: "MALE",
            birthDate: "",
            citizen: "",
            tin: "",
            idType: "DRIVERS LICENSE",
            idNumber: "",
            address: "",
            city: "",
            province: "",
            country: "",
            zipCode: "",
            emailAddress: "",
            telephoneNumber: "",
            mobileNumber: "",
            employer: "",
            employerIndustry: "",
            noOfYearsEmployed: 0,
            position: "",
            employmentStatus: "PERMANENT",
            employerAddress: "",
            employerCity: "",
            employerProvince: "",
            employerCountry: "",
            employerZipCode: "",
            employerTelephoneNumber: "",
            employerMobileNumber: "",
            spouseLastName: "",
            spouseFirstName: "",
            spouseMiddleName: "",
            spouseBirthDate: this.currentDateString,
            spouseCitizen: "",
            spouseEmployer: "",
            spouseTIN: "",
            remarks: "",
            status: "ACTIVE",
            picture: "",
            isLocked: false,
            createdBy: 0,
            createdDateTime: "",
            updatedBy: 0,
            updatedDateTime: ""
        };
        // tab index (for large number of fields)
        this.tabDetail1 = new Array(true, false);
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    CustomerDetail.prototype.ngOnInit = function () {
        var _this = this;
        if (this.securityService.openPage("CUSTOMER DETAIL") == true) {
            this.getCustomer();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    CustomerDetail.prototype.ngOnDestroy = function () {
        if (this.customerSub != null)
            this.customerSub.unsubscribe();
        if (this.customerSavedSub != null)
            this.customerSavedSub.unsubscribe();
        if (this.customerLockedSub != null)
            this.customerLockedSub.unsubscribe();
        if (this.customerUnlockedSub != null)
            this.customerUnlockedSub.unsubscribe();
        if (this.dropDownsSub != null)
            this.dropDownsSub.unsubscribe();
        if (this.customerPictureSub != null)
            this.customerPictureSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    CustomerDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    CustomerDetail.prototype.getCustomer = function () {
        var _this = this;
        this.customerService.getCustomer(this.getIdParameter());
        this.customerSub = this.customerService.customerObservable
            .subscribe(function (data) {
            _this.customer.id = data.id;
            _this.customer.customerCode = data.customerCode;
            _this.customer.lastName = data.lastName;
            _this.customer.firstName = data.firstName;
            _this.customer.middleName = data.middleName;
            _this.customer.fullName = data.fullName;
            _this.customer.civilStatus = data.civilStatus;
            _this.customer.gender = data.gender;
            _this.customer.birthDate = data.birthDate;
            _this.customer.citizen = data.citizen;
            _this.customer.tin = data.tin;
            _this.customer.idType = data.idType;
            _this.customer.idNumber = data.idNumber;
            _this.customer.address = data.address;
            _this.customer.city = data.city;
            _this.customer.province = data.province;
            _this.customer.country = data.country;
            _this.customer.zipCode = data.zipCode;
            _this.customer.emailAddress = data.emailAddress;
            _this.customer.telephoneNumber = data.telephoneNumber;
            _this.customer.mobileNumber = data.mobileNumber;
            _this.customer.employer = data.employer;
            _this.customer.employerIndustry = data.employerIndustry;
            _this.customer.noOfYearsEmployed = data.noOfYearsEmployed;
            _this.customer.position = data.position;
            _this.customer.employmentStatus = data.employmentStatus;
            _this.customer.employerAddress = data.employerAddress;
            _this.customer.employerCity = data.employerCity;
            _this.customer.employerProvince = data.employerProvince;
            _this.customer.employerCountry = data.employerCountry;
            _this.customer.employerZipCode = data.employerZipCode;
            _this.customer.employerTelephoneNumber = data.employerTelephoneNumber;
            _this.customer.employerMobileNumber = data.employerMobileNumber;
            _this.customer.spouseLastName = data.spouseLastName;
            _this.customer.spouseFirstName = data.spouseFirstName;
            _this.customer.spouseMiddleName = data.spouseMiddleName;
            _this.customer.spouseBirthDate = data.spouseBirthDate;
            _this.customer.spouseCitizen = data.spouseCitizen;
            _this.customer.spouseEmployer = data.spouseEmployer;
            _this.customer.spouseTIN = data.spouseTIN;
            _this.customer.remarks = data.remarks;
            _this.customer.status = data.status;
            _this.customer.picture = data.picture;
            _this.customer.isLocked = data.isLocked;
            _this.customer.createdBy = data.createdBy;
            _this.customer.createdDateTime = data.createdDateTime;
            _this.customer.updatedBy = data.updatedBy;
            _this.customer.updatedDateTime = data.updatedDateTime;
            _this.getDropDowns(data);
        });
    };
    // detail combo boxes
    CustomerDetail.prototype.getDropDowns = function (defaultValues) {
        var _this = this;
        this.customerService.getDropDowns();
        this.dropDownsSub = this.customerService.dropDownsObservable.subscribe(function (data) {
            var statuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var civilStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var genders = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var idTypes = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var employmentStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "CUSTOMER STATUS") {
                        statuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "GENDER") {
                        genders.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "CIVIL STATUS") {
                        civilStatuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "ID TYPE") {
                        idTypes.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "EMPLOYMENT STATUS") {
                        employmentStatuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbStatusData = statuses;
            _this.cmbCivilStatusData = civilStatuses;
            _this.cmbGenderData = genders;
            _this.cmbIDTypeData = idTypes;
            _this.cmbEmploymentStatusData = employmentStatuses;
            setTimeout(function () { _this.customer.status = defaultValues.status; }, 100);
            setTimeout(function () { _this.customer.civilStatus = defaultValues.civilStatus; }, 100);
            setTimeout(function () { _this.customer.gender = defaultValues.gender; }, 100);
            setTimeout(function () { _this.customer.idType = defaultValues.idType; }, 100);
            setTimeout(function () { _this.customer.employmentStatus = defaultValues.employmentStatus; }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    CustomerDetail.prototype.btnSaveCustomerClick = function () {
        var _this = this;
        var btnSaveCustomer = document.getElementById("btnSaveCustomer");
        btnSaveCustomer.setAttribute("disabled", "disabled");
        btnSaveCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.customerService.saveCustomer(this.customer);
        this.customerSavedSub = this.customerService.customerSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveCustomer.removeAttribute("disabled");
                btnSaveCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveCustomer.removeAttribute("disabled");
                btnSaveCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    CustomerDetail.prototype.btnLockCustomerClick = function () {
        var _this = this;
        var btnLockCustomer = document.getElementById("btnLockCustomer");
        btnLockCustomer.setAttribute("disabled", "disabled");
        btnLockCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.customerService.lockCustomer(this.customer);
        this.customerLockedSub = this.customerService.customerLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.customer.isLocked = true;
                btnLockCustomer.removeAttribute("disabled");
                btnLockCustomer.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockCustomer.removeAttribute("disabled");
                btnLockCustomer.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    CustomerDetail.prototype.btnUnlockCustomerClick = function () {
        var _this = this;
        var btnUnlockCustomer = document.getElementById("btnUnlockCustomer");
        btnUnlockCustomer.setAttribute("disabled", "disabled");
        btnUnlockCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.customerService.unlockCustomer(this.customer);
        this.customerUnlockedSub = this.customerService.customerUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.customer.isLocked = false;
                btnUnlockCustomer.removeAttribute("disabled");
                btnUnlockCustomer.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockCustomer.removeAttribute("disabled");
                btnUnlockCustomer.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    CustomerDetail.prototype.btnPrintCustomerClick = function () {
        this.router.navigate(['/pdf', 'customer', this.customer.id]);
    };
    CustomerDetail.prototype.btnUploadPictureClick = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.customerService.uploadCustomerPicture(target.files[0], "CUSTOMER-" + this.customer.customerCode + "-" + Date.now());
            this.customerPictureSub = this.customerService.customerPictureObservable
                .subscribe(function (data) {
                _this.customer.picture = data.fileUrl;
            });
        }
    };
    // detail tab event (for multiple detail number of fields)
    CustomerDetail.prototype.tabDetail1Click = function (index) {
        for (var i = 0; i <= this.tabDetail1.length - 1; i++) {
            if (index == i)
                this.tabDetail1[i] = true;
            else
                this.tabDetail1[i] = false;
        }
    };
    //  full name events
    CustomerDetail.prototype.txtFirstNameKeyup = function () {
        this.customer.fullName = this.customer.lastName + ", " + this.customer.firstName + " " + this.customer.middleName;
    };
    CustomerDetail.prototype.txtMiddleNameKeyup = function () {
        this.customer.fullName = this.customer.lastName + ", " + this.customer.firstName + " " + this.customer.middleName;
    };
    CustomerDetail.prototype.txtLastNameKeyup = function () {
        this.customer.fullName = this.customer.lastName + ", " + this.customer.firstName + " " + this.customer.middleName;
    };
    CustomerDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/customer/customer.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], CustomerDetail);
    return CustomerDetail;
}());



/***/ }),

/***/ "../../../../../src/app/customer/customer.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a href=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnAddCustomerClick()\" id=\"btnAddCustomer\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flxegrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdCustomers [itemsSource]=\"fgdCustomersCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditCustomerClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteCustomerClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'customerCode'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Name'\" [binding]=\"'fullName'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Address'\" [binding]=\"'address'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Phone No.'\" [binding]=\"'telephoneNumber'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCustomersCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCustomersCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdCustomersCollection.pageIndex + 1 }} / {{ fgdCustomersCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCustomersCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCustomersCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdCustomersCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete customer modal -->\r\n<div id=\"mdlCustomerDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlCustomerDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Customer</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdCustomersCollection.currentItem != null ? fgdCustomersCollection.currentItem.fullName : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkCustomerDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkCustomerDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseCustomerDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseCustomerDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/customer/customer.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__customer_service__ = __webpack_require__("../../../../../src/app/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var CustomerList = (function () {
    // =======
    // angular
    // =======
    //constructor
    function CustomerList(customerService, toastr, viewContainer, router, securityService, location) {
        this.customerService = customerService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Customer List';
        // model(s)
        this.customer = {
            id: 0,
            customerCode: "",
            lastName: "",
            firstName: "",
            middleName: "",
            fullName: "",
            civilStatus: "SINGLE",
            gender: "MALE",
            birthDate: this.currentDateString,
            citizen: "FILIPINO",
            tin: "",
            idType: "DRIVERS LICENSE",
            idNumber: "",
            address: "",
            city: "",
            province: "",
            country: "",
            zipCode: "",
            emailAddress: "",
            telephoneNumber: "",
            mobileNumber: "",
            employer: "",
            employerIndustry: "",
            noOfYearsEmployed: 0,
            position: "",
            employmentStatus: "PERMANENT",
            employerAddress: "",
            employerCity: "",
            employerProvince: "",
            employerCountry: "",
            employerZipCode: "",
            employerTelephoneNumber: "",
            employerMobileNumber: "",
            spouseLastName: "",
            spouseFirstName: "",
            spouseMiddleName: "",
            spouseBirthDate: this.currentDateString,
            spouseCitizen: "",
            spouseEmployer: "",
            spouseTIN: "",
            remarks: "",
            status: "ACTIVE",
            picture: "",
            isLocked: false,
            createdBy: 0,
            createdDateTime: this.currentDateString,
            updatedBy: 0,
            updatedDateTime: this.currentDateString
        };
        // modals
        this.mdlCustomerDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    CustomerList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdCustomersData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdCustomersCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdCustomersData);
        if (this.securityService.openPage("CUSTOMER LIST") == true) {
            this.getCustomers();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    CustomerList.prototype.ngOnDestroy = function () {
        if (this.customersSub != null)
            this.customersSub.unsubscribe();
        if (this.customersDeletedSub != null)
            this.customersDeletedSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    // customer list
    CustomerList.prototype.getCustomers = function () {
        var _this = this;
        var customers = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.customerService.getCustomers();
        this.customersSub = this.customerService.customersObservable.subscribe(function (data) {
            if (data.length > 0) {
                _this.fgdCustomersData = data;
                _this.fgdCustomersCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdCustomersData);
                _this.fgdCustomersCollection.pageSize = 15;
                _this.fgdCustomersCollection.trackChanges = true;
            }
        });
    };
    // ======
    // events
    // ======
    // customer list operations
    CustomerList.prototype.btnAddCustomerClick = function () {
        var btnAddCustomer = document.getElementById("btnAddCustomer");
        btnAddCustomer.setAttribute("disabled", "true");
        btnAddCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.customerService.addCustomer(this.customer, btnAddCustomer);
    };
    CustomerList.prototype.btnEditCustomerClick = function () {
        var selectedCustomer = this.fgdCustomersCollection.currentItem;
        this.router.navigate(['/customer', selectedCustomer.id]);
    };
    CustomerList.prototype.btnDeleteCustomerClick = function () {
        this.mdlCustomerDeleteShow = true;
    };
    // customer delete modal operations
    CustomerList.prototype.btnOkCustomerDeleteModalClick = function () {
        var _this = this;
        var btnOkCustomerDeleteModal = document.getElementById("btnOkCustomerDeleteModal");
        var btnCloseCustomerDeleteModal = document.getElementById("btnCloseCustomerDeleteModal");
        var selectedCustomer = this.fgdCustomersCollection.currentItem;
        btnOkCustomerDeleteModal.setAttribute("disabled", "disabled");
        btnCloseCustomerDeleteModal.setAttribute("disabled", "disabled");
        this.customerService.deleteCustomer(selectedCustomer.id);
        this.customersDeletedSub = this.customerService.customerDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdCustomersCollection.remove(selectedCustomer);
                btnOkCustomerDeleteModal.removeAttribute("disabled");
                btnCloseCustomerDeleteModal.removeAttribute("disabled");
                _this.mdlCustomerDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkCustomerDeleteModal.removeAttribute("disabled");
                btnCloseCustomerDeleteModal.removeAttribute("disabled");
            }
        });
    };
    CustomerList.prototype.btnCloseCustomerDeleteModalClick = function () {
        this.mdlCustomerDeleteShow = false;
    };
    CustomerList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/customer/customer.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], CustomerList);
    return CustomerList;
}());



/***/ }),

/***/ "../../../../../src/app/customer/customer.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var CustomerService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function CustomerService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        // default date
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // customer list
        this.customersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customersObservable = this.customersSource.asObservable();
        // customer list operations
        this.customerDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerDeletedObservable = this.customerDeletedSource.asObservable();
        // customer detail
        this.customerSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerObservable = this.customerSource.asObservable();
        // customer operations
        this.customerSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerSavedObservable = this.customerSavedSource.asObservable();
        this.customerLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerLockedObservable = this.customerLockedSource.asObservable();
        this.customerUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerUnlockedObservable = this.customerUnlockedSource.asObservable();
        // Blob, picture
        this.customerPictureSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerPictureObservable = this.customerPictureSource.asObservable();
        // combo boxes
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // customer list
    CustomerService.prototype.getCustomers = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/List";
        var customers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    customers.push({
                        id: results[i].Id,
                        customerCode: results[i].CustomerCode,
                        lastName: results[i].LastName,
                        firstName: results[i].FirstName,
                        middleName: results[i].MiddleName,
                        fullName: results[i].FullName,
                        civilStatus: results[i].CivilStatus,
                        gender: results[i].Gender,
                        birthDate: results[i].BirthDate,
                        citizen: results[i].Citizen,
                        tin: results[i].TIN,
                        idType: results[i].IdType,
                        idNumber: results[i].IdNumber,
                        address: results[i].Address,
                        city: results[i].City,
                        province: results[i].Province,
                        country: results[i].Country,
                        zipCode: results[i].ZipCode,
                        emailAddress: results[i].EmailAddress,
                        telephoneNumber: results[i].TelephoneNumber,
                        mobileNumber: results[i].MobileNumber,
                        employer: results[i].Employer,
                        employerIndustry: results[i].EmployerIndustry,
                        noOfYearsEmployed: results[i].NoOfYearsEmployed,
                        position: results[i].Position,
                        employmentStatus: results[i].EmploymentStatus,
                        employerAddress: results[i].EmployerAddress,
                        employerCity: results[i].EmployerCity,
                        employerProvince: results[i].EmployerProvince,
                        employerCountry: results[i].EmployerCountry,
                        employerZipCode: results[i].EmployerZipCode,
                        employerTelephoneNumber: results[i].EmployerTelephoneNumber,
                        employerMobileNumber: results[i].EmployerMobileNumber,
                        spouseLastName: results[i].SpouseLastName,
                        spouseFirstName: results[i].SpouseFirstName,
                        spouseMiddleName: results[i].SpouseMiddleName,
                        spouseBirthDate: results[i].SpouseBirthDate,
                        spouseCitizen: results[i].SpouseCitizen,
                        spouseEmployer: results[i].SpouseEmployer,
                        spouseTIN: results[i].SpouseTIN,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        picture: results[i].Picture,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.customersSource.next(customers);
            }
            else {
                _this.customersSource.next(customers);
                _this.toastr.error("No customers.");
            }
        });
    };
    // customer list operations
    CustomerService.prototype.addCustomer = function (customer, btnAddCustomer) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Add";
        this.http.post(url, JSON.stringify(customer), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/customer', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddCustomer.removeAttribute("disabled");
                btnAddCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddCustomer.removeAttribute("disabled");
            btnAddCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    CustomerService.prototype.deleteCustomer = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.customerDeletedSource.next(1);
        }, function (error) {
            _this.customerDeletedSource.next(0);
        });
    };
    // customer detail
    CustomerService.prototype.getCustomer = function (id) {
        var _this = this;
        var customer;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                customer = {
                    id: result.Id,
                    customerCode: result.CustomerCode,
                    lastName: result.LastName,
                    firstName: result.FirstName,
                    middleName: result.MiddleName,
                    fullName: result.FullName,
                    civilStatus: result.CivilStatus,
                    gender: result.Gender,
                    birthDate: result.BirthDate,
                    citizen: result.Citizen,
                    tin: result.TIN,
                    idType: result.IdType,
                    idNumber: result.IdNumber,
                    address: result.Address,
                    city: result.City,
                    province: result.Province,
                    country: result.Country,
                    zipCode: result.ZipCode,
                    emailAddress: result.EmailAddress,
                    telephoneNumber: result.TelephoneNumber,
                    mobileNumber: result.MobileNumber,
                    employer: result.Employer,
                    employerIndustry: result.EmployerIndustry,
                    noOfYearsEmployed: result.NoOfYearsEmployed,
                    position: result.Position,
                    employmentStatus: result.EmploymentStatus,
                    employerAddress: result.EmployerAddress,
                    employerCity: result.EmployerCity,
                    employerProvince: result.EmployerProvince,
                    employerCountry: result.EmployerCountry,
                    employerZipCode: result.EmployerZipCode,
                    employerTelephoneNumber: result.EmployerTelephoneNumber,
                    employerMobileNumber: result.EmployerMobileNumber,
                    spouseLastName: result.SpouseLastName,
                    spouseFirstName: result.SpouseFirstName,
                    spouseMiddleName: result.SpouseMiddleName,
                    spouseBirthDate: result.SpouseBirthDate == "" ? _this.currentDateString : result.SpouseBirthDate,
                    spouseCitizen: result.SpouseCitizen,
                    spouseEmployer: result.SpouseEmployer,
                    spouseTIN: result.SpouseTIN,
                    remarks: result.Remarks,
                    status: result.Status,
                    picture: result.Picture,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime
                };
                _this.customerSource.next(customer);
            }
            else {
                _this.toastr.error("No data.");
                setTimeout(function () {
                    _this.router.navigate(["/customer"]);
                }, 1000);
            }
        });
    };
    // customer detail operations
    CustomerService.prototype.saveCustomer = function (project) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Save";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.customerSavedSource.next(1);
        }, function (error) {
            _this.customerSavedSource.next(0);
        });
    };
    CustomerService.prototype.lockCustomer = function (project) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Lock";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.customerLockedSource.next(1);
        }, function (error) {
            _this.customerLockedSource.next(0);
        });
    };
    CustomerService.prototype.unlockCustomer = function (project) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Unlock";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.customerUnlockedSource.next(1);
        }, function (error) {
            _this.customerUnlockedSource.next(0);
        });
    };
    CustomerService.prototype.uploadCustomerPicture = function (file, fileName) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/Blob/Upload";
        var blob;
        var formData = new FormData();
        formData.append("image", file, fileName);
        this.http
            .post(url, formData)
            .subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                blob = {
                    fileName: results[0].FileName,
                    fileUrl: results[0].FileUrl,
                    fileSizeInBytes: results[0].FileSizeInBytes,
                    fileSizeInKb: results[0].FileSizeInKb,
                };
                _this.customerPictureSource.next(blob);
                _this.toastr.success("Upload successful.");
            }
            else {
                _this.customerPictureSource.next(blob);
                _this.toastr.error("Uploading failed.");
            }
        }, function (error) {
            _this.customerPictureSource.next(blob);
            _this.toastr.error("Server error.");
        });
    };
    // combo boxes
    CustomerService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.toastr.error("No data.");
            }
        });
    };
    CustomerService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], CustomerService);
    return CustomerService;
}());



/***/ }),

/***/ "../../../../../src/app/footer/footer.index.html":
/***/ (function(module, exports) {

module.exports = "<footer class=\"app-footer\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-6\">\r\n                <b>{{company}}</b> {{version}}\r\n                <br />\r\n                {{support}}\r\n            </div>\r\n            <div class=\"col-lg-6\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                        <b>Created By: </b> {{ getCreatedBy() }}\r\n                        <br />\r\n                        <b>Created Date: </b> {{ getCreatedDateTime() }}\r\n                    </div>\r\n                    <div class=\"col-lg-8\">\r\n                        <b>Updated By: </b> {{ getUpdatedBy() }}\r\n                        <br />\r\n                        <b>Updated Date: </b> {{ getUpdatedDateTime() }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/footer/footer.index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FooterIndex; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__footer_service__ = __webpack_require__("../../../../../src/app/footer/footer.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// Angular

// Services

var FooterIndex = (function () {
    function FooterIndex(footerService) {
        this.footerService = footerService;
        this.company = "Priland";
        this.version = "Filbroker v1.0.20180312.HGM";
        this.support = "Innosoft Solutions +63 917 812 3982 (support@innosoft.ph)";
    }
    FooterIndex.prototype.ngOnInit = function () {
        this.getUsers();
    };
    FooterIndex.prototype.ngOnDestroy = function () {
        if (this.usersSub != null)
            this.usersSub.unsubscribe();
    };
    FooterIndex.prototype.getUsers = function () {
        var _this = this;
        this.footerService.getUsers();
        this.usersSub = this.footerService.usersObservable.subscribe(function (data) {
            _this.usersData = data;
        });
    };
    FooterIndex.prototype.getCreatedBy = function () {
        var createdBy = "";
        if (this.data != null && this.usersData != null) {
            if (this.usersData.length > 0) {
                for (var i = 0; i <= this.usersData.length - 1; i++) {
                    if (this.data.currentItem != null) {
                        if (this.usersData[i].id == this.data.currentItem.createdBy) {
                            createdBy = this.usersData[i].fullName;
                        }
                    }
                    else {
                        if (this.usersData[i].id == this.data.createdBy) {
                            createdBy = this.usersData[i].fullName;
                        }
                    }
                }
            }
        }
        return createdBy;
    };
    FooterIndex.prototype.getUpdatedBy = function () {
        var updatedBy = "";
        if (this.data != null && this.usersData != null) {
            if (this.usersData.length > 0) {
                for (var i = 0; i <= this.usersData.length - 1; i++) {
                    if (this.data.currentItem != null) {
                        if (this.usersData[i].id == this.data.currentItem.updatedBy) {
                            updatedBy = this.usersData[i].fullName;
                        }
                    }
                    else {
                        if (this.usersData[i].id == this.data.updatedBy) {
                            updatedBy = this.usersData[i].fullName;
                        }
                    }
                }
            }
        }
        return updatedBy;
    };
    FooterIndex.prototype.getCreatedDateTime = function () {
        var createdDateTime = "";
        if (this.data != null) {
            if (this.data.currentItem != null) {
                createdDateTime = this.data.currentItem.createdDateTime;
            }
            else {
                createdDateTime = this.data.createdDateTime;
            }
        }
        return createdDateTime;
    };
    FooterIndex.prototype.getUpdatedDateTime = function () {
        var updatedDateTime = "";
        if (this.data != null) {
            if (this.data.currentItem != null) {
                updatedDateTime = this.data.currentItem.updatedDateTime;
            }
            else {
                updatedDateTime = this.data.updatedDateTime;
            }
        }
        return updatedDateTime;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], FooterIndex.prototype, "data", void 0);
    FooterIndex = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: "app-footer",
            template: __webpack_require__("../../../../../src/app/footer/footer.index.html"),
            styles: [__webpack_require__("../../../../../src/app/footer/footer.style.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__footer_service__["a" /* FooterService */]])
    ], FooterIndex);
    return FooterIndex;
}());



/***/ }),

/***/ "../../../../../src/app/footer/footer.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FooterService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// Angular



// Wijmo

// Async

var FooterService = (function () {
    function FooterService(router, http) {
        this.router = router;
        this.http = http;
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
    }
    FooterService.prototype.getUsers = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var users = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.usersSource.next(users);
            }
        });
    };
    FooterService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], FooterService);
    return FooterService;
}());



/***/ }),

/***/ "../../../../../src/app/footer/footer.style.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".app-footer {\r\n    background-color: #212529;\r\n    color: gray;\r\n    padding: 1em;\r\n    font-size: 70%;\r\n    position: fixed;\r\n    bottom: 0;\r\n    width: 100%;\r\n    padding-right: 250px;\r\n    z-index: 1000;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/home/home.landing.html":
/***/ (function(module, exports) {

module.exports = "<!-- Navigation -->\r\n<nav class=\"navbar navbar-light bg-light fixed-top custom-navbar\">\r\n    <div class=\"container\">\r\n        <a routerLink=\"/\" class=\"navbar-brand custom-narbar-brand\">\r\n            <img src=\"../../assets/landing/img/filbroker logo.png\" />\r\n        </a>\r\n        <a routerLink=\"account/login\" class=\"btn btn-primary\">Sign In</a>\r\n    </div>\r\n</nav>\r\n\r\n<!-- Masthead -->\r\n<header class=\"masthead text-white text-center\">\r\n    <div class=\"overlay\"></div>\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-xl-9 mx-auto\">\r\n                <br /><br /><br /><br /><br /><br />\r\n            </div>\r\n            <div class=\"col-md-10 col-lg-8 col-xl-7 mx-auto\">\r\n                <a routerLink=\"/account/login\" class=\"btn btn-lg btn-primary\">Get Started!</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</header>\r\n\r\n<!-- Icons Grid -->\r\n<!-- <section class=\"features-icons text-center\">\r\n    <div class=\"container\">\r\n        <h3>About Filbroker</h3>\r\n        <p class=\"lead mb-0\">Priland Development Corporation is a Cebuano real estate development company that emerged from the outlook to raise\r\n            and develop a contemporary community in Cebu and to fill in the gap on what the real estate market really needs.\r\n            Thus, we seek to provide diversified projects in prominent locations and ensure the sustainability of such developments.\r\n            We made it our mission to build your aspirations to life and to redefine the quality of life in Cebu, one home\r\n            at a time.</p>\r\n    </div>\r\n</section> -->\r\n\r\n<!-- Image Showcases -->\r\n<section class=\"showcase bg-light \">\r\n    <div class=\"container-fluid p-0\">\r\n        <div class=\"row no-gutters\">\r\n\r\n            <div class=\"col-lg-7 order-lg-2 text-white showcase-img\" style=\"background-image: url('../../assets/landing_template/img/dashboard.png');\"></div>\r\n            <div class=\"col-lg-5 order-lg-1 my-auto showcase-text\">\r\n                <img src=\"../../assets/landing/img/filbroker logo.png\" width=\"400\" />\r\n                <br /><br />\r\n                <p class=\"lead mb-0\">Manages real-eastate assets with ease using the cloud.</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<!-- Testimonials -->\r\n<section class=\"testimonials text-center\">\r\n    <div class=\"container\">\r\n        <h2 class=\"mb-5\">About Us</h2>\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-4\">\r\n                <div class=\"testimonial-item mx-auto mb-5 mb-lg-0\">\r\n                    <img class=\"img-fluid rounded-circle mb-3\" src=\"../../assets/landing_template/img/jerico.png\" alt=\"\">\r\n                    <h5>Jerico Cañete</h5>\r\n                    <p class=\"font-weight-light mb-0\">Chief Executive Officer (CEO)</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-4\">\r\n                <div class=\"testimonial-item mx-auto mb-5 mb-lg-0\">\r\n                    <img class=\"img-fluid rounded-circle mb-3\" src=\"../../assets/landing_template/img/HG.jpg\" alt=\"\">\r\n                    <h5>Harold Glenn Minerva</h5>\r\n                    <p class=\"font-weight-light mb-0\">Chief Operating Officer (COO)</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-4\">\r\n                <div class=\"testimonial-item mx-auto mb-5 mb-lg-0\">\r\n                    <img class=\"img-fluid rounded-circle mb-3\" src=\"../../assets/landing_template/img/noah.jpg\" alt=\"\">\r\n                    <h5>Noah Oliver Rigonan</h5>\r\n                    <p class=\"font-weight-light mb-0\">Chief Technical Officer (CTO)</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n\r\n<section id=\"contact\" class=\"contact-section\">\r\n    <div class=\"container\">\r\n        <br />\r\n        <div class=\"row\">\r\n            <div class=\"col-md-5\">\r\n                <div class=\"text-white\">\r\n                    <h2 class=\"\">Contact Us!</h2>\r\n                    <br />\r\n                    <p>\r\n                        Ready to subscribe with us? That's great! Give us a call or send us an email and we will get back to you as soon as possible!\r\n                    </p>\r\n                    <br />\r\n                    <br />\r\n                    <p>\r\n                        <i class=\"fa fa-mobile fa-fw\"></i> &nbsp; 0936-338-2541 (TM) / 0932-609-4459 (Sun)\r\n                        <br />\r\n                        <i class=\"fa fa-phone fa-fw\"></i> &nbsp; (032) 263-2912 / (032) 520-7245 / (032) 415-1507\r\n                        <br />\r\n                        <i class=\"fa fa-envelope-o fa-fw\" data-wow-delay=\".1s\"></i> &nbsp; info@innosoft.ph\r\n                    </p>\r\n                    <br /> For More Information, visit:\r\n                    <br />\r\n                    <a href=\"http://www.innosoft.ph\" target=\"_blank\">\r\n                        <span class=\"label label-info\">\r\n                            www.innosoft.ph</span>\r\n                    </a>\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-7\">\r\n                <iframe src=\"https://www.google.com/maps/embed?pb=!1m26!1m12!1m3!1d3925.3294653199337!2d123.88335311472697!3d10.315496020352837!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m11!3e6!4m3!3m2!1d10.3155472!2d123.8854789!4m5!1s0x33a99eb4d4f75c7b%3A0x91d2680e9eae4ce6!2sInnosoft+Solutions%2C+V+Rama+Ave%2C+Cebu+City%2C+6000+Cebu!3m2!1d10.3154656!2d123.88562189999999!5e0!3m2!1sen!2sph!4v1524815768895\"\r\n                    style=\"width: 100%; height: 450px;\" frameborder=\"0\" allowfullscreen></iframe>\r\n            </div>\r\n        </div>\r\n        <br />\r\n    </div>\r\n</section>\r\n\r\n<!-- Footer -->\r\n<footer class=\"footer bg-light\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-left my-auto\">\r\n                <ul class=\"list-inline mb-2\">\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">About</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Contact</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Terms of Use</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Privacy Policy</a>\r\n                    </li>\r\n                </ul>\r\n                <p class=\"text-muted small mb-4 mb-lg-0\">&copy; Filbroker 2018. All Rights Reserved.</p>\r\n            </div>\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-right my-auto\">\r\n                <ul class=\"list-inline mb-0\">\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-facebook fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-twitter fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-instagram fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/home/home.landing.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HomeLanding; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var HomeLanding = (function () {
    function HomeLanding(toastr, vcr, router) {
        this.toastr = toastr;
        this.vcr = vcr;
        this.router = router;
        this.title = 'Home';
        this.login = "Login";
        this.toastr.setRootViewContainerRef(vcr);
    }
    HomeLanding.prototype.ngOnInit = function () {
        if (localStorage.getItem("username") == null) {
            this.login = "Login";
        }
        else {
            this.login = "Logout (" + localStorage.getItem("username") + ")";
        }
    };
    HomeLanding.prototype.loginClick = function () {
        if (localStorage.getItem("username") == null) {
            this.router.navigate(['/account/login']);
        }
        else {
            localStorage.removeItem('access_token');
            localStorage.removeItem('expires_in');
            localStorage.removeItem('token_type');
            localStorage.removeItem('username');
            this.login = "Login";
        }
    };
    HomeLanding = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/home/home.landing.html"),
            styles: [__webpack_require__("../../../../../src/app/home/home.style.css")],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */]])
    ], HomeLanding);
    return HomeLanding;
}());



/***/ }),

/***/ "../../../../../src/app/home/home.style.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "body {\r\n  font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n}\r\n\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n  font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n  font-weight: 700;\r\n}\r\n\r\nheader.masthead {\r\n  position: relative;\r\n  background-color: #202122;\r\n  background: url(" + __webpack_require__("../../../../../src/assets/landing_template/img/dahlia.jpg") + ") no-repeat center center;\r\n  background-size: cover;\r\n  padding-top: 8rem;\r\n  padding-bottom: 8rem;\r\n}\r\n\r\nheader.masthead .overlay {\r\n  position: absolute;\r\n  background-color: #212529;\r\n  height: 100%;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0.8;\r\n}\r\n\r\nheader.masthead h1 {\r\n  font-size: 2rem;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  header.masthead {\r\n    padding-top: 18rem;\r\n    padding-bottom: 18rem;\r\n  }\r\n  header.masthead h1 {\r\n    font-size: 3rem;\r\n  }\r\n}\r\n\r\n.showcase .showcase-text {\r\n  padding: 3rem;\r\n}\r\n\r\n.showcase .showcase-img {\r\n  min-height: 30rem;\r\n  background-size: cover;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .showcase .showcase-text {\r\n    padding: 7rem;\r\n  }\r\n}\r\n\r\n.features-icons {\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.features-icons .features-icons-item {\r\n  max-width: 20rem;\r\n}\r\n\r\n.features-icons .features-icons-item .features-icons-icon {\r\n  height: 7rem;\r\n}\r\n\r\n.features-icons .features-icons-item .features-icons-icon i {\r\n  font-size: 4.5rem;\r\n}\r\n\r\n.features-icons .features-icons-item:hover .features-icons-icon i {\r\n  font-size: 5rem;\r\n}\r\n\r\n.testimonials {\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.testimonials .testimonial-item {\r\n  max-width: 18rem;\r\n}\r\n\r\n.testimonials .testimonial-item img {\r\n  max-width: 12rem;\r\n  box-shadow: 0px 5px 5px 0px #adb5bd;\r\n}\r\n\r\n.call-to-action {\r\n  position: relative;\r\n  background-color: #343a40;\r\n  background: url(" + __webpack_require__("../../../../../src/assets/landing_template/img/bg-masthead.jpg") + ") no-repeat center center;\r\n  background-size: cover;\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.call-to-action .overlay {\r\n  position: absolute;\r\n  background-color: #212529;\r\n  height: 100%;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0.3;\r\n}\r\n\r\nfooter.footer {\r\n  padding-top: 4rem;\r\n  padding-bottom: 4rem;\r\n}\r\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/menu/menu.dashboard.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a href=\"/menu\">Menu</a>\r\n            </li>\r\n        </ol>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/project\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/inspection.svg\" />\r\n                    <br />\r\n                    <h4>Project</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/unit\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/home.svg\" />\r\n                    <br />\r\n                    <h4>Unit</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/checklist\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/checkmark.svg\" />\r\n                    <br />\r\n                    <h4>Checklist</h4>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/customer\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/businesswoman.svg\" />\r\n                    <br />\r\n                    <h4>Customer</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/broker\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/handshake.svg\" />\r\n                    <br />\r\n                    <h4>broker</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/reports\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/print.svg\" />\r\n                    <br />\r\n                    <h4>Reports</h4>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/soldUnit\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/sales_performance.svg\" />\r\n                    <br />\r\n                    <h4>Sold Unit</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/commission\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/money_transfer.svg\" />\r\n                    <br />\r\n                    <h4>Commission</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/user\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/key.svg\" />\r\n                    <br />\r\n                    <h4>User</h4>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <app-footer [data]=\"\"></app-footer>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/menu/menu.dashboard.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuDashboard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular

// wijmo




// services

var MenuDashboard = (function () {
    function MenuDashboard(securityService, toastr, viewContainer, router) {
        this.securityService = securityService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.title = 'Dashboard';
        this.unitQuery = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    MenuDashboard.prototype.ngOnInit = function () {
        var data = new __WEBPACK_IMPORTED_MODULE_1_wijmo_wijmo__["ObservableArray"]();
        data.push({
            menu1: "project",
            menu2: "customer",
            menu3: "soldUnit"
        });
        data.push({
            menu1: "unit",
            menu2: "broker",
            menu3: "commission"
        });
        data.push({
            menu1: "checklist",
            menu2: "reports",
            menu3: "user"
        });
        this.menuData = data;
        this.menuCollection = new __WEBPACK_IMPORTED_MODULE_1_wijmo_wijmo__["CollectionView"](this.menuData);
    };
    MenuDashboard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/menu/menu.dashboard.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */]])
    ], MenuDashboard);
    return MenuDashboard;
}());



/***/ }),

/***/ "../../../../../src/app/menu/menu.index.html":
/***/ (function(module, exports) {

module.exports = "<nav class=\"navbar navbar-expand-lg bg-light fixed-top custom-navbar\" id=\"mainNav\">\r\n  <a class=\"navbar-brand custom-narbar-brand\" routerLink=\"/\">\r\n    <img src=\"../../assets/landing/img/filbroker logo.png\" />\r\n  </a>\r\n\r\n  <button class=\"navbar-toggler navbar-toggler-right\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\"\r\n    aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n    <span class=\"navbar-toggler-icon\">\r\n      <i class=\"fa fa-bars\" style=\"font-size: 30px; color: #212529;\"></i>\r\n    </span>\r\n  </button>\r\n\r\n  <div class=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n    <ul class=\"navbar-nav navbar-sidenav collapse\" id=\"exampleAccordion\" [class.collapse]=\"isCollapsed3\">\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/menu\">\r\n          <img class=\"\" src=\"../../assets/svg/grid.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Dashboard</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Components\">\r\n        <a class=\"nav-link nav-link-collapse collapsed\" data-toggle=\"collapse\" data-parent=\"#exampleAccordion\" (click)=\"isCollapsed1 = !isCollapsed1\">\r\n          <img class=\"\" src=\"../../assets/svg/inspection.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\"> Project Setup</span>\r\n        </a>\r\n        <ul class=\"sidenav-second-level collapse\" [class.collapse]=\"isCollapsed1\">\r\n          <li>\r\n            <a routerLink=\"/project\">Project</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/unit\">Unit</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/checklist\">Checklist</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/customer\">\r\n          <img class=\"\" src=\"../../assets/svg/businessman.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Customer</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/broker\">\r\n          <img class=\"\" src=\"../../assets/svg/handshake.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Broker</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/soldUnit\">\r\n          <img class=\"\" src=\"../../assets/svg/sales_performance.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Sold Unit</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/commission\">\r\n          <img class=\"\" src=\"../../assets/svg/money_transfer.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Commission</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Example Pages\">\r\n        <a class=\"nav-link nav-link-collapse collapsed\" data-toggle=\"collapse\" data-parent=\"#exampleAccordion\" (click)=\"isCollapsed2 = !isCollapsed2\">\r\n          <img class=\"\" src=\"../../assets/svg/print.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Reports</span>\r\n        </a>\r\n        <ul class=\"sidenav-second-level collapse\" [class.collapse]=\"isCollapsed2\">\r\n          <li>\r\n            <a routerLink=\"/reports\">Sold Units</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/reports\">Checklist</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/reports\">Activities</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/reports\">Commissions</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Link\">\r\n        <a class=\"nav-link\" routerLink=\"/user\">\r\n          <img class=\"\" src=\"../../assets/svg/key.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">User</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Link\">\r\n        <a class=\"nav-link\" routerLink=\"/settings\">\r\n          <img class=\"\" src=\"../../assets/svg/settings.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Settings</span>\r\n        </a>\r\n      </li>\r\n\r\n    </ul>\r\n    \r\n    <!-- <ul class=\"navbar-nav sidenav-toggler\">\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link text-center\" id=\"sidenavToggler\" (click)=\"isCollapsed3 = !isCollapsed3\">\r\n          <i class=\"fa fa-fw fa-angle-left\"></i>\r\n        </a>\r\n      </li>\r\n    </ul> -->\r\n\r\n    <ul class=\"navbar-nav ml-auto\">\r\n      <!--<li class=\"nav-item dropdown\">\r\n          <a class=\"nav-link dropdown-toggle mr-lg-2\" id=\"messagesDropdown\" href=\"#\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n            <i class=\"fa fa-fw fa-envelope\"></i>\r\n            <span class=\"d-lg-none\">Messages\r\n              <span class=\"badge badge-pill badge-primary\">0 New</span>\r\n            </span>\r\n            <span class=\"indicator text-primary d-none d-lg-block\">\r\n              <i class=\"fa fa-fw fa-circle\"></i>\r\n            </span>\r\n          </a>\r\n          <div class=\"dropdown-menu\" aria-labelledby=\"messagesDropdown\">\r\n            <h6 class=\"dropdown-header\">New Messages:</h6>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <strong>David Miller</strong>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">Hey there! This new version of SB Admin is pretty awesome! These messages clip off when they reach the end of the box so they don't overflow over to the sides!</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <strong>Jane Smith</strong>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">I was wondering if you could meet for an appointment at 3:00 instead of 4:00. Thanks!</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <strong>John Doe</strong>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">I've sent the final files over to you for review. When you're able to sign off of them let me know and we can discuss distribution.</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item small\" href=\"#\">View all messages</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"nav-item dropdown\">\r\n          <a class=\"nav-link dropdown-toggle mr-lg-2\" id=\"alertsDropdown\" href=\"#\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n            <i class=\"fa fa-fw fa-bell\"></i>\r\n            <span class=\"d-lg-none\">Alerts\r\n              <span class=\"badge badge-pill badge-warning\">6 New</span>\r\n            </span>\r\n            <span class=\"indicator text-warning d-none d-lg-block\">\r\n              <i class=\"fa fa-fw fa-circle\"></i>\r\n            </span>\r\n          </a>\r\n          <div class=\"dropdown-menu\" aria-labelledby=\"alertsDropdown\">\r\n            <h6 class=\"dropdown-header\">New Alerts:</h6>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <span class=\"text-success\">\r\n                <strong>\r\n                  <i class=\"fa fa-long-arrow-up fa-fw\"></i>Status Update</strong>\r\n              </span>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">This is an automated server response message. All systems are online.</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <span class=\"text-danger\">\r\n                <strong>\r\n                  <i class=\"fa fa-long-arrow-down fa-fw\"></i>Status Update</strong>\r\n              </span>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">This is an automated server response message. All systems are online.</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <span class=\"text-success\">\r\n                <strong>\r\n                  <i class=\"fa fa-long-arrow-up fa-fw\"></i>Status Update</strong>\r\n              </span>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">This is an automated server response message. All systems are online.</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item small\" href=\"#\">View all alerts</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <form class=\"form-inline my-2 my-lg-0 mr-lg-2\">\r\n            <div class=\"input-group\">\r\n              <input class=\"form-control\" type=\"text\" placeholder=\"Search for...\">\r\n              <span class=\"input-group-btn\">\r\n                <button class=\"btn btn-primary\" type=\"button\">\r\n                  <i class=\"fa fa-search\"></i>\r\n                </button>\r\n              </span>\r\n            </div>\r\n          </form>\r\n        </li> -->\r\n      <!-- <li class=\"nav-item\">\r\n            <a href=\"#about\" class=\"nav-link\">About</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n            <a href=\"#contact\" class=\"nav-link\">Contact Us</a>\r\n        </li> -->\r\n      <li class=\"nav-item\">\r\n        <img class=\"\" src=\"../../assets/svg/businessman.svg\" height=\"35\" />\r\n        <a (click)=\"loginClick()\" class=\"nav-link-text\">{{login}}</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</nav>"

/***/ }),

/***/ "../../../../../src/app/menu/menu.index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuIndex; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// Angular



var MenuIndex = (function () {
    function MenuIndex(toastr, vcr, router) {
        this.toastr = toastr;
        this.vcr = vcr;
        this.router = router;
        this.title = 'Menu';
        this.login = "Login";
        this.isCollapsed1 = true;
        this.isCollapsed2 = true;
        this.toastr.setRootViewContainerRef(vcr);
    }
    MenuIndex.prototype.ngOnInit = function () {
        if (localStorage.getItem("username") == null) {
            this.router.navigate(['/account/login']);
        }
        else {
            this.login = "Logout (" + localStorage.getItem("username") + ")";
        }
    };
    MenuIndex.prototype.loginClick = function () {
        var _this = this;
        if (localStorage.getItem("username") == null) {
            this.router.navigate(['/account/login']);
        }
        else {
            localStorage.removeItem('access_token');
            localStorage.removeItem('expires_in');
            localStorage.removeItem('token_type');
            localStorage.removeItem('username');
            this.toastr.success("Logout successful.");
            setTimeout(function () {
                _this.router.navigate(['/']);
            }, 1000);
        }
    };
    MenuIndex = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'menu-root',
            template: __webpack_require__("../../../../../src/app/menu/menu.index.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */]])
    ], MenuIndex);
    return MenuIndex;
}());



/***/ }),

/***/ "../../../../../src/app/model/model.mst.unit.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MstUnit; });
var MstUnit = (function () {
    function MstUnit() {
    }
    return MstUnit;
}());



/***/ }),

/***/ "../../../../../src/app/pdf/pdf.index.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n        \r\n        <div class=\"col-lg-12\">\r\n            <table border=\"0\" style=\"width: 100%;\">\r\n                <tr>\r\n                    <td style=\"width: 59%;\">\r\n                        <h4>{{title}}</h4>\r\n                    </td>\r\n                    <td style=\"width: 1%;\"></td>\r\n                    <td style=\"width: 40%;\" align=\"right\">\r\n                        <button class=\"btn btn-primary\" (click)=\"btnPrintPDFClick()\" id=\"btnPrintPDF\">\r\n                            <i class=\"fa fa-print fa-fw\"></i> Print\r\n                        </button>\r\n                        <button class=\"btn btn-danger\" (click)=\"btnClosePDFClick()\" id=\"btnClosePDF\">\r\n                            <i class=\"fa fa-close fa-fw\"></i> Close\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n\r\n        <div class=\"col-lg-12\">\r\n            <pdf-viewer [src]=\"pdfUrl\" [render-text]=\"true\" style=\"display: block;\"></pdf-viewer>\r\n            <iframe id=\"printPDF\" name=\"printPDF\" style=\"width:0;height:0;border:0; border:none;\"></iframe>\r\n        </div>\r\n\r\n    </div> \r\n    \r\n    <app-footer [data]=\"\"></app-footer>\r\n\r\n</div> "

/***/ }),

/***/ "../../../../../src/app/pdf/pdf.index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PDFIndex; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pdf_service__ = __webpack_require__("../../../../../src/app/pdf/pdf.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// services

var PDFIndex = (function () {
    // =======
    // angular
    // =======
    function PDFIndex(pdfService, activatedRoute, location) {
        this.pdfService = pdfService;
        this.activatedRoute = activatedRoute;
        this.location = location;
        this.title = "PDF";
        this.report = "";
        this.id = 0;
    }
    PDFIndex.prototype.ngOnInit = function () {
        var _this = this;
        this.activatedRoute.params.subscribe(function (params) {
            _this.report = params['report'];
            _this.id = params['id'];
            if (_this.report == "customer")
                _this.getPDFCustomer(_this.id);
            if (_this.report == "broker")
                _this.getPDFBroker(_this.id);
            if (_this.report == "checklist")
                _this.getPDFChecklist(_this.id);
            if (_this.report == "soldunitproposal")
                _this.getPDFSoldUnitProposal(_this.id);
            if (_this.report == "soldunitcontract")
                _this.getPDFSoldUnitContract(_this.id);
            if (_this.report == "soldunitequityschedule")
                _this.getPDFSoldUnitEquitySchedule(_this.id);
        });
    };
    PDFIndex.prototype.ngOnDestroy = function () {
        if (this.pdfCustomerSub != null)
            this.pdfCustomerSub.unsubscribe();
        if (this.pdfBrokerSub != null)
            this.pdfBrokerSub.unsubscribe();
        if (this.pdfChecklistSub != null)
            this.pdfChecklistSub.unsubscribe();
        if (this.pdfSoldUnitProposalSub != null)
            this.pdfSoldUnitProposalSub.unsubscribe();
        if (this.pdfSoldUnitContractSub != null)
            this.pdfSoldUnitContractSub.unsubscribe();
        if (this.pdfSoldUnitEquityScheduleSub != null)
            this.pdfSoldUnitEquityScheduleSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    PDFIndex.prototype.getPDFCustomer = function (id) {
        var _this = this;
        this.pdfService.getPDFCustomer(id);
        this.pdfCustomerSub = this.pdfService.pdfCustomerObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFBroker = function (id) {
        var _this = this;
        this.pdfService.getPDFBroker(id);
        this.pdfBrokerSub = this.pdfService.pdfBrokerObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFChecklist = function (id) {
        var _this = this;
        this.pdfService.getPDFChecklist(id);
        this.pdfChecklistSub = this.pdfService.pdfChecklistObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFSoldUnitProposal = function (id) {
        var _this = this;
        this.pdfService.getPDFSoldUnitProposal(id);
        this.pdfSoldUnitProposalSub = this.pdfService.pdfSoldUnitProposalObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFSoldUnitContract = function (id) {
        var _this = this;
        this.pdfService.getPDFSoldUnitContract(id);
        this.pdfSoldUnitContractSub = this.pdfService.pdfSoldUnitContractObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFSoldUnitEquitySchedule = function (id) {
        var _this = this;
        this.pdfService.getPDFSoldUnitEquitySchedule(id);
        this.pdfSoldUnitEquityScheduleSub = this.pdfService.pdfSoldUnitEquityScheduleObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    // ======
    // events
    // ======
    PDFIndex.prototype.btnPrintPDFClick = function () {
        window.frames["printPDF"].focus();
        window.frames["printPDF"].print();
    };
    PDFIndex.prototype.btnClosePDFClick = function () {
        this.location.back();
    };
    PDFIndex = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/pdf/pdf.index.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__pdf_service__["a" /* PDFService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], PDFIndex);
    return PDFIndex;
}());



/***/ }),

/***/ "../../../../../src/app/pdf/pdf.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PDFService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// async

var PDFService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function PDFService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        this.pdfCustomerSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfCustomerObservable = this.pdfCustomerSource.asObservable();
        this.pdfBrokerSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfBrokerObservable = this.pdfBrokerSource.asObservable();
        this.pdfChecklistSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfChecklistObservable = this.pdfChecklistSource.asObservable();
        this.pdfSoldUnitProposalSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfSoldUnitProposalObservable = this.pdfSoldUnitProposalSource.asObservable();
        this.pdfSoldUnitContractSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfSoldUnitContractObservable = this.pdfSoldUnitContractSource.asObservable();
        this.pdfSoldUnitEquityScheduleSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfSoldUnitEquityScheduleObservable = this.pdfSoldUnitEquityScheduleSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    PDFService.prototype.getPDFCustomer = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/PDF/Customer/" + id;
        console.log(url);
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfCustomerSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFBroker = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/PDF/Broker/" + id;
        console.log(url);
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfBrokerSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFChecklist = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/PDF/Checklist/" + id;
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfChecklistSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFSoldUnitProposal = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/PDF/SoldUnitProposal/" + id;
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfSoldUnitProposalSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFSoldUnitContract = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/PDF/SoldUnitContract/" + id;
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfSoldUnitContractSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFSoldUnitEquitySchedule = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/PDF/SoldUnitEquitySchedule/" + id;
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfSoldUnitEquityScheduleSource.next(pdf);
        });
    };
    PDFService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], PDFService);
    return PDFService;
}());



/***/ }),

/***/ "../../../../../src/app/project/project.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a href=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a href=\"/project\">Project List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, e.g., locked, unclocked, save, etc. -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button [disabled]=\"project.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockProjectClick()\" id=\"btnLockProject\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button [disabled]=\"!project.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockProjectClick()\" id=\"btnUnlockProject\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button [disabled]=\"project.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveProjectClick()\" id=\"btnSaveProject\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/project\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- detail fields -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Project Code</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [disabled]=\"project.isLocked\" [(ngModel)]=\"project.projectCode\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Project</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [disabled]=\"project.isLocked\" [(ngModel)]=\"project.project\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Address</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [disabled]=\"project.isLocked\" [(ngModel)]=\"project.address\" rows=\"5\" class=\"form-control\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbProjectStatus [isDisabled]=\"project.isLocked\" [itemsSource]=\"cmbProjectStatusData\" [isEditable]=\"false\"\r\n                                    [isRequired]=\"true\" [displayMemberPath]=\"'description'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"project.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Logo</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-sm-8\">\r\n                                        <img [src]=\"this.project.projectLogo\" class=\"rounded\" style=\"width: 100%;\">\r\n                                    </div>\r\n                                    <div class=\"col-sm-4\">\r\n                                        <label class=\"btn btn-primary pull-right\" [hidden]=\"project.isLocked\">\r\n                                            <input type=\"file\" (change)=\"btnUploadProjectLogoClick($event)\" name=\"btnUploadProjectLogo\" accept=\"image/*\" style=\"display:none;\"> Upload\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n        <br />\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h6>House Model</h6>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button type=\"button\" class=\"btn btn-primary\" (click)=\"btnAddHouseModelsClick()\">\r\n                                <i class=\"fa fa-plus\"></i> Add\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdHouseModels [itemsSource]=\"fgdHouseModelsCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" [disabled]=\"project.isLocked\" (click)=\"btnEditHouseModelsClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" [disabled]=\"project.isLocked\" (click)=\"btnDeleteHouseModelsClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'houseModelCode'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Model'\" [binding]=\"'houseModel'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'TFA (sqm)'\" [binding]=\"'tfa'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-md-12 btn-group\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdHouseModelsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdHouseModelsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdHouseModelsCollection.pageIndex + 1 }} / {{ fgdHouseModelsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdHouseModelsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdHouseModelsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"project\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->\r\n\r\n\r\n\r\n\r\n<!-- delete house model prompt modal-->\r\n<div id=\"mdlHouseModelDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlHouseModelDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete House Model</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdHouseModelsCollection.currentItem != null ? fgdHouseModelsCollection.currentItem.houseModel : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkHouseModelDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkHouseModelDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseHouseModelDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseHouseModelDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- edit house model modal-->\r\n<div id=\"mdlHouseModelEdit\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlHouseModelEditShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Edit House Model</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Code</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"houseModel.houseModelCode\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">House Model</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"houseModel.houseModel\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Total Floor Area (sqm)</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-number [(value)]=\"houseModel.tfa\">\r\n                        </wj-input-number>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Price</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-number [(value)]=\"houseModel.price\">\r\n                        </wj-input-number>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveHouseModelEditModal\" class=\"btn btn-success\" (click)=\"btnSaveHouseModelEditModalClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseHouseModelEditModal\" class=\"btn btn-danger\" (click)=\"btnCloseHouseModelEditModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/project/project.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProjectDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__project_service__ = __webpack_require__("../../../../../src/app/project/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// service(s)


// wijmo

// message box

var ProjectDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function ProjectDetail(projectService, router, toastr, viewContainer, activatedRoute, location, securityService) {
        this.projectService = projectService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.location = location;
        this.securityService = securityService;
        // =================
        // public properties
        // =================
        this.title = 'Project Detail';
        // model(s)
        this.project = {
            id: 0,
            projectCode: "",
            project: "",
            address: "",
            status: "",
            projectLogo: "",
            isLocked: false,
            createdBy: 1,
            createdDateTime: "",
            updatedBy: 1,
            updatedDateTime: ""
        };
        this.houseModel = {
            id: 0,
            houseModelCode: "",
            houseModel: "",
            projectId: 0,
            project: "",
            tfa: 0,
            price: 0,
            isLocked: true,
            createdBy: 0,
            createdDateTime: "",
            updatedBy: 0,
            updatedDateTime: ""
        };
        // detail line1 (house model) modals
        this.mdlHouseModelDeleteShow = false;
        this.mdlHouseModelEditShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    ProjectDetail.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdHouseModelsData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdHouseModelsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdHouseModelsData);
        if (this.securityService.openPage("PROJECT DETAIL") == true) {
            this.getProject();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    ProjectDetail.prototype.ngOnDestroy = function () {
        if (this.projectSub != null)
            this.projectSub.unsubscribe();
        if (this.projectSavedSub != null)
            this.projectSavedSub.unsubscribe();
        if (this.projectLockedSub != null)
            this.projectLockedSub.unsubscribe();
        if (this.projectUnlockedSub != null)
            this.projectUnlockedSub.unsubscribe();
        if (this.projectStatusSub != null)
            this.projectStatusSub.unsubscribe();
        if (this.houseModelsSub != null)
            this.houseModelsSub.unsubscribe();
        if (this.houseModelSavedSub != null)
            this.houseModelSavedSub.unsubscribe();
        if (this.houseModelDeletedSub != null)
            this.houseModelDeletedSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    ProjectDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail and detail line1 (house models)
    ProjectDetail.prototype.getProject = function () {
        var _this = this;
        this.projectService.getProject(this.getIdParameter());
        this.projectSub = this.projectService.projectObservable
            .subscribe(function (data) {
            _this.project.id = data.id;
            _this.project.projectCode = data.projectCode;
            _this.project.project = data.project;
            _this.project.address = data.address;
            _this.project.status = data.status;
            _this.project.projectLogo = data.projectLogo;
            _this.project.isLocked = data.isLocked;
            _this.project.createdBy = data.createdBy;
            _this.project.createdDateTime = data.createdDateTime;
            _this.project.updatedBy = data.updatedBy;
            _this.project.updatedDateTime = data.updatedDateTime;
            _this.getProjectStatus(data.status);
            _this.getHouseModels();
        });
    };
    ProjectDetail.prototype.getHouseModels = function () {
        var _this = this;
        this.projectService.getHouseModelsPerProject(this.project.id);
        this.houseModelsSub = this.projectService.houseModelsObservable.subscribe(function (data) {
            _this.fgdHouseModelsData = data;
            _this.fgdHouseModelsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](_this.fgdHouseModelsData);
            _this.fgdHouseModelsCollection.pageSize = 15;
            _this.fgdHouseModelsCollection.trackChanges = true;
        });
    };
    // combo boxes
    ProjectDetail.prototype.getProjectStatus = function (defaultValue) {
        var _this = this;
        this.projectService.getDropDowns();
        this.projectStatusSub = this.projectService.dropDownsObservable.subscribe(function (data) {
            var projectStatuses = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "PROJECT STATUS") {
                        projectStatuses.push({
                            id: data[i].id,
                            category: data[i].category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbProjectStatusData = projectStatuses;
            setTimeout(function () {
                _this.project.status = defaultValue;
            }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operation
    ProjectDetail.prototype.btnSaveProjectClick = function () {
        var _this = this;
        var btnSaveProject = document.getElementById("btnSaveProject");
        btnSaveProject.setAttribute("disabled", "disabled");
        btnSaveProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.projectService.saveProject(this.project);
        this.projectSavedSub = this.projectService.projectSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveProject.removeAttribute("disabled");
                btnSaveProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveProject.removeAttribute("disabled");
                btnSaveProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    ProjectDetail.prototype.btnLockProjectClick = function () {
        var _this = this;
        var btnLockProject = document.getElementById("btnLockProject");
        btnLockProject.setAttribute("disabled", "disabled");
        btnLockProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.projectService.lockProject(this.project);
        this.projectLockedSub = this.projectService.projectLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.project.isLocked = true;
                btnLockProject.removeAttribute("disabled");
                btnLockProject.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockProject.removeAttribute("disabled");
                btnLockProject.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    ProjectDetail.prototype.btnUnlockProjectClick = function () {
        var _this = this;
        var btnUnlockProject = document.getElementById("btnUnlockProject");
        btnUnlockProject.setAttribute("disabled", "disabled");
        btnUnlockProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.projectService.unlockProject(this.project);
        this.projectUnlockedSub = this.projectService.projectUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.project.isLocked = false;
                btnUnlockProject.removeAttribute("disabled");
                btnUnlockProject.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockProject.removeAttribute("disabled");
                btnUnlockProject.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    // detail line1 (house models) operation
    ProjectDetail.prototype.btnAddHouseModelsClick = function () {
        this.houseModel.id = 0;
        this.houseModel.houseModelCode = "";
        this.houseModel.houseModel = "";
        this.houseModel.projectId = this.project.id;
        this.houseModel.project = this.project.project;
        this.houseModel.tfa = 0;
        this.houseModel.price = 0;
        this.houseModel.isLocked = true;
        this.houseModel.createdBy = 0;
        this.houseModel.createdDateTime = "";
        this.houseModel.updatedBy = 0;
        this.houseModel.updatedDateTime = "";
        this.mdlHouseModelEditShow = true;
    };
    ProjectDetail.prototype.btnEditHouseModelsClick = function () {
        var selectedHouseModel = this.fgdHouseModelsCollection.currentItem;
        this.houseModel.id = selectedHouseModel.id;
        this.houseModel.houseModelCode = selectedHouseModel.houseModelCode;
        this.houseModel.houseModel = selectedHouseModel.houseModel;
        this.houseModel.projectId = selectedHouseModel.projectId;
        this.houseModel.project = selectedHouseModel.project;
        this.houseModel.tfa = selectedHouseModel.tfa;
        this.houseModel.price = selectedHouseModel.price;
        this.houseModel.isLocked = selectedHouseModel.isLocked;
        this.houseModel.createdBy = selectedHouseModel.createdBy;
        this.houseModel.createdDateTime = selectedHouseModel.createdDateTime;
        this.houseModel.updatedBy = selectedHouseModel.updatedBy;
        this.houseModel.updatedDateTime = selectedHouseModel.updatedDateTime;
        this.mdlHouseModelEditShow = true;
    };
    ProjectDetail.prototype.btnDeleteHouseModelsClick = function () {
        this.mdlHouseModelDeleteShow = true;
    };
    // detail line1 (house models) delete modal operation
    ProjectDetail.prototype.btnOkHouseModelDeleteModalClick = function () {
        var _this = this;
        var btnOkHouseModelDeleteModal = document.getElementById("btnOkHouseModelDeleteModal");
        var btnCloseHouseModelDeleteModal = document.getElementById("btnCloseHouseModelDeleteModal");
        btnOkHouseModelDeleteModal.setAttribute("disabled", "disabled");
        btnCloseHouseModelDeleteModal.setAttribute("disabled", "disabled");
        var selectedHouseModel = this.fgdHouseModelsCollection.currentItem;
        this.projectService.deleteHouseModel(selectedHouseModel.id);
        this.houseModelDeletedSub = this.projectService.houseModelDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdHouseModelsCollection.remove(selectedHouseModel);
                btnOkHouseModelDeleteModal.removeAttribute("disabled");
                btnCloseHouseModelDeleteModal.removeAttribute("disabled");
                _this.mdlHouseModelDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkHouseModelDeleteModal.removeAttribute("disabled");
                btnCloseHouseModelDeleteModal.removeAttribute("disabled");
            }
        });
    };
    ProjectDetail.prototype.btnCloseHouseModelDeleteModalClick = function () {
        this.mdlHouseModelDeleteShow = false;
    };
    // detail line1 (house models) edit modal operation
    ProjectDetail.prototype.btnSaveHouseModelEditModalClick = function () {
        var _this = this;
        var btnSaveHouseModelEditModal = document.getElementById("btnSaveHouseModelEditModal");
        var btnCloseHouseModelEditModal = document.getElementById("btnCloseHouseModelEditModal");
        btnSaveHouseModelEditModal.setAttribute("disabled", "disabled");
        btnSaveHouseModelEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseHouseModelEditModal.setAttribute("disabled", "disabled");
        this.projectService.saveHouseModel(this.houseModel);
        this.houseModelSavedSub = this.projectService.houseModelSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveHouseModelEditModal.removeAttribute("disabled");
                btnSaveHouseModelEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseHouseModelEditModal.removeAttribute("disabled");
                _this.mdlHouseModelEditShow = false;
                _this.getHouseModels();
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveHouseModelEditModal.removeAttribute("disabled");
                btnSaveHouseModelEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseHouseModelEditModal.removeAttribute("disabled");
            }
        });
    };
    ProjectDetail.prototype.btnCloseHouseModelEditModalClick = function () {
        this.mdlHouseModelEditShow = false;
    };
    // upload logo
    ProjectDetail.prototype.btnUploadProjectLogoClick = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.projectService.uploadProjectLogo(target.files[0], "PROJECT-" + this.project.projectCode + "-" + Date.now());
            this.projectLogoSub = this.projectService.projectLogoObservable
                .subscribe(function (data) {
                _this.project.projectLogo = data.fileUrl;
            });
        }
    };
    ProjectDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/project/project.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__project_service__["a" /* ProjectService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"],
            __WEBPACK_IMPORTED_MODULE_4__security_security_service__["a" /* SecurityService */]])
    ], ProjectDetail);
    return ProjectDetail;
}());



/***/ }),

/***/ "../../../../../src/app/project/project.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnAddProjectClick()\" id=\"btnAddProject\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdProjects [itemsSource]=\"fgdProjectsCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditProjectClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteProjectClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'projectCode'\" [isReadOnly]=\"true\" [width]=\"'1.5*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'project'\" [isReadOnly]=\"true\" [width]=\"'2*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Address'\" [binding]=\"'address'\" [isReadOnly]=\"true\" [width]=\"'3*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\" [width]=\"'1.5*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdProjectsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdProjectsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdProjectsCollection.pageIndex + 1 }} / {{ fgdProjectsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdProjectsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdProjectsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdProjectsCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete project modal -->\r\n<div id=\"mdlProjectDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlProjectDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Project</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdProjectsCollection.currentItem != null ? fgdProjectsCollection.currentItem.project : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkProjectDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkProjectDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseProjectDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseProjectDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/project/project.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProjectList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__project_service__ = __webpack_require__("../../../../../src/app/project/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// service(s)


// wijmo

// message box

var ProjectList = (function () {
    // =============
    // angular class
    // =============
    // constructor
    function ProjectList(projectService, toastr, viewContainer, router, location, securityService) {
        this.projectService = projectService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.location = location;
        this.securityService = securityService;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Project List';
        this.project = {
            id: 0,
            projectCode: "",
            project: "",
            address: "",
            status: "OPEN",
            projectLogo: "",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString
        };
        this.mdlProjectDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    ProjectList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdProjectsData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdProjectsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdProjectsData);
        if (this.securityService.openPage("PROJECT LIST") == true) {
            this.getProjects();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    ProjectList.prototype.ngOnDestroy = function () {
        if (this.projectDeletedSub != null)
            this.projectDeletedSub.unsubscribe();
        if (this.projectsSub != null)
            this.projectsSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    // project list
    ProjectList.prototype.getProjects = function () {
        var _this = this;
        var projects = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.projectService.getProjects();
        this.projectsSub = this.projectService.projectsObservable.subscribe(function (data) {
            if (data.length > 0) {
                _this.fgdProjectsData = data;
                _this.fgdProjectsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](_this.fgdProjectsData);
                _this.fgdProjectsCollection.pageSize = 15;
                _this.fgdProjectsCollection.trackChanges = true;
            }
        });
    };
    // ======
    // events
    // ======
    // project list operations
    ProjectList.prototype.btnAddProjectClick = function () {
        var btnAddProject = document.getElementById("btnAddProject");
        btnAddProject.setAttribute("disabled", "true");
        btnAddProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.projectService.addProject(this.project, btnAddProject);
    };
    ProjectList.prototype.btnEditProjectClick = function () {
        var selectedProject = this.fgdProjectsCollection.currentItem;
        this.router.navigate(['/project', selectedProject.id]);
    };
    ProjectList.prototype.btnDeleteProjectClick = function () {
        this.mdlProjectDeleteShow = true;
    };
    // project delete modal operations
    ProjectList.prototype.btnOkProjectDeleteModalClick = function () {
        var _this = this;
        var btnOkProjectDeleteModal = document.getElementById("btnOkProjectDeleteModal");
        var btnCloseProjectDeleteModal = document.getElementById("btnCloseProjectDeleteModal");
        var selectedProject = this.fgdProjectsCollection.currentItem;
        btnOkProjectDeleteModal.setAttribute("disabled", "disabled");
        btnCloseProjectDeleteModal.setAttribute("disabled", "disabled");
        this.projectService.deleteProject(selectedProject.id);
        this.projectDeletedSub = this.projectService.projectDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdProjectsCollection.remove(selectedProject);
                btnOkProjectDeleteModal.removeAttribute("disabled");
                btnCloseProjectDeleteModal.removeAttribute("disabled");
                _this.mdlProjectDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkProjectDeleteModal.removeAttribute("disabled");
                btnCloseProjectDeleteModal.removeAttribute("disabled");
            }
        });
    };
    ProjectList.prototype.btnCloseProjectDeleteModalClick = function () {
        this.mdlProjectDeleteShow = false;
    };
    ProjectList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/project/project.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__project_service__["a" /* ProjectService */],
            __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"],
            __WEBPACK_IMPORTED_MODULE_4__security_security_service__["a" /* SecurityService */]])
    ], ProjectList);
    return ProjectList;
}());



/***/ }),

/***/ "../../../../../src/app/project/project.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProjectService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var ProjectService = (function () {
    // =============
    // angular class
    // =============
    // constructor
    function ProjectService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // list
        this.projectsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectsObservable = this.projectsSource.asObservable();
        // detail
        this.projectSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectObservable = this.projectSource.asObservable();
        // detail operations
        this.projectDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectDeletedObservable = this.projectDeletedSource.asObservable();
        this.projectSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectSavedObservable = this.projectSavedSource.asObservable();
        this.projectLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectLockedObservable = this.projectLockedSource.asObservable();
        this.projectUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectUnlockedObservable = this.projectUnlockedSource.asObservable();
        // Blob, logo pictire
        this.projectLogoSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectLogoObservable = this.projectLogoSource.asObservable();
        // dropdown list
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
        // detail lines1 (house models) list
        this.houseModelsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.houseModelsObservable = this.houseModelsSource.asObservable();
        // detail lines1 (house models) operations
        this.houseModelDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.houseModelDeletedObservable = this.houseModelDeletedSource.asObservable();
        this.houseModelSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.houseModelSavedObservable = this.houseModelSavedSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // project listing
    ProjectService.prototype.getProjects = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/List";
        var projects = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    projects.push({
                        id: results[i].Id,
                        projectCode: results[i].ProjectCode,
                        project: results[i].Project,
                        address: results[i].Address,
                        status: results[i].Status,
                        projectLogo: results[i].ProjectLogo,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.projectsSource.next(projects);
            }
            else {
                _this.toastr.error("No data.");
            }
        });
    };
    // project listing operations
    ProjectService.prototype.addProject = function (project, btnAddProject) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Add";
        this.http.post(url, JSON.stringify(project), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/project', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddProject.removeAttribute("disabled");
                btnAddProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddProject.removeAttribute("disabled");
            btnAddProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    ProjectService.prototype.deleteProject = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.projectDeletedSource.next(1);
        }, function (error) {
            _this.projectDeletedSource.next(0);
        });
    };
    // project detail
    ProjectService.prototype.getProject = function (id) {
        var _this = this;
        var project;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                project = {
                    id: result.Id,
                    projectCode: result.ProjectCode,
                    project: result.Project,
                    address: result.Address,
                    status: result.Status,
                    projectLogo: result.ProjectLogo,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime
                };
                _this.projectSource.next(project);
            }
            else {
                _this.toastr.error("No data.");
                setTimeout(function () {
                    _this.router.navigate(["/project"]);
                }, 1000);
            }
        });
    };
    // project detail operations
    ProjectService.prototype.saveProject = function (project) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Save";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.projectSavedSource.next(1);
        }, function (error) {
            _this.projectSavedSource.next(0);
        });
    };
    ProjectService.prototype.lockProject = function (project) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Lock";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.projectLockedSource.next(1);
        }, function (error) {
            _this.projectLockedSource.next(0);
        });
    };
    ProjectService.prototype.unlockProject = function (project) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Unlock";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.projectUnlockedSource.next(1);
        }, function (error) {
            _this.projectUnlockedSource.next(0);
        });
    };
    ProjectService.prototype.uploadProjectLogo = function (file, fileName) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/Blob/Upload";
        var blob;
        var formData = new FormData();
        formData.append("image", file, fileName);
        this.http
            .post(url, formData)
            .subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                blob = {
                    fileName: results[0].FileName,
                    fileUrl: results[0].FileUrl,
                    fileSizeInBytes: results[0].FileSizeInBytes,
                    fileSizeInKb: results[0].FileSizeInKb,
                };
                _this.projectLogoSource.next(blob);
                _this.toastr.success("Upload successful.");
            }
            else {
                _this.projectLogoSource.next(blob);
                _this.toastr.error("Uploading failed.");
            }
        }, function (error) {
            _this.projectLogoSource.next(blob);
            _this.toastr.error("Server error.");
        });
    };
    // combo boxes
    ProjectService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.toastr.error("No data.");
            }
        });
    };
    // get house models per project
    ProjectService.prototype.getHouseModelsPerProject = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/ListPerProjectId/" + id;
        var houseModels = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    houseModels.push({
                        id: results[i].Id,
                        houseModelCode: results[i].HouseModelCode,
                        houseModel: results[i].HouseModel,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        tfa: results[i].TFA,
                        price: results[i].Price,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime,
                    });
                }
                _this.houseModelsSource.next(houseModels);
            }
            else {
                _this.houseModelsSource.next(houseModels);
                _this.toastr.error("No house models for this project.");
            }
        });
    };
    // house models operation
    ProjectService.prototype.saveHouseModel = function (houseModel) {
        var _this = this;
        if (houseModel.id == 0) {
            var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/Add";
            this.http.post(url, JSON.stringify(houseModel), this.options).subscribe(function (response) {
                _this.houseModelSavedSource.next(1);
            }, function (error) {
                _this.houseModelSavedSource.next(0);
            });
        }
        else {
            var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/Save";
            this.http.put(url, JSON.stringify(houseModel), this.options).subscribe(function (response) {
                _this.houseModelSavedSource.next(1);
            }, function (error) {
                _this.houseModelSavedSource.next(0);
            });
        }
    };
    ProjectService.prototype.deleteHouseModel = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.houseModelDeletedSource.next(1);
        }, function (error) {
            _this.houseModelDeletedSource.next(0);
        });
    };
    ProjectService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], ProjectService);
    return ProjectService;
}());



/***/ }),

/***/ "../../../../../src/app/reports/reports.index.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons-->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnEmailReport\" class=\"btn btn-primary\" (click)=\"btnEmailReportClick()\">\r\n                                <i class=\"fa fa-envelope-o fa-fw\"></i> E-mail\r\n                            </button>\r\n                            <button id=\"btnCSVReport\" class=\"btn btn-primary\" (click)=\"btnCSVReportClick()\">\r\n                                <i class=\"fa fa-file-excel-o fa-fw\"></i> CSV\r\n                            </button>\r\n                            <button id=\"btnCloseReport\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- filters -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date Start:\r\n                                </span>\r\n                                <wj-input-date #calDateStart [(ngModel)]=\"calDateStartData\" (textChanged)=\"getReports()\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date End:\r\n                                </span>\r\n                                <wj-input-date #calDateEnd [(ngModel)]=\"calDateEndData\" (textChanged)=\"getReports()\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 49%;\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <br />\r\n\r\n        <!-- tabs -->\r\n        <ul class=\"nav nav-tabs\" role=\"tablist\" style=\"width:100%\">\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[0], 'nav-link': true }\" (click)=\"tabDetail1Click(0)\" data-toggle=\"tab\" role=\"tab\">Sold Units</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[1], 'nav-link': true }\" (click)=\"tabDetail1Click(1)\" data-toggle=\"tab\" role=\"tab\">Checklist Requirements</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[2], 'nav-link': true }\" (click)=\"tabDetail1Click(2)\" data-toggle=\"tab\" role=\"tab\">Activities</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[3], 'nav-link': true }\" (click)=\"tabDetail1Click(3)\" data-toggle=\"tab\" role=\"tab\">Commission</a>\r\n            </li>\r\n        </ul>\r\n        <br />\r\n\r\n        <!-- tab content -->\r\n        <div class=\"tab-content\" style=\"width:100%\">\r\n\r\n            <!-- sold unit tab -->\r\n            <div [ngClass]=\"{'active': tabDetail1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdSoldUnits [itemsSource]=\"fgdSoldUnitsCollection\" [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Number'\" [binding]=\"'soldUnitNumber'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'soldUnitDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'project'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unit'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'customer'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Broker'\" [binding]=\"'broker'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitsCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitsCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdSoldUnitsCollection.pageIndex + 1 }} / {{ fgdSoldUnitsCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitsCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitsCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- checklist tab -->\r\n            <div [ngClass]=\"{'active': tabDetail1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdChecklistRequirements [itemsSource]=\"fgdChecklistRequirementsCollection\" [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'soldUnitDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'project'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unit'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'customer'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'No'\" [binding]=\"'checklistRequirementNo'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Checklist'\" [binding]=\"'checklistRequirement'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistRequirementsCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistRequirementsCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdChecklistRequirementsCollection.pageIndex + 1 }} / {{ fgdChecklistRequirementsCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistRequirementsCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistRequirementsCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- activities tab -->\r\n            <div [ngClass]=\"{'active': tabDetail1[2], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdRequirementActivities [itemsSource]=\"fgdRequirementActivitiesCollection\" [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'activityDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Activity'\" [binding]=\"'activity'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'User'\" [binding]=\"'user'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'project'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unitCode'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'customer'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdRequirementActivitiesCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdRequirementActivitiesCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdRequirementActivitiesCollection.pageIndex + 1 }} / {{ fgdRequirementActivitiesCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdRequirementActivitiesCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdRequirementActivitiesCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- commission tab -->\r\n            <div [ngClass]=\"{'active': tabDetail1[3], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdCommissionRequests [itemsSource]=\"fgdCommissionRequestsCollection\" [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Number'\" [binding]=\"'commissionRequestNumber'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'commissionRequestDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Broker'\" [binding]=\"'broker'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Sold Unit'\" [binding]=\"'soldUnit'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Amount'\" [binding]=\"'amount'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionRequestsCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionRequestsCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdCommissionRequestsCollection.pageIndex + 1 }} / {{ fgdCommissionRequestsCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionRequestsCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionRequestsCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp footer -->\r\n    <app-footer [data]=\"\"></app-footer>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/reports/reports.index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReportsIndex; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__reports_service__ = __webpack_require__("../../../../../src/app/reports/reports.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// services


var ReportsIndex = (function () {
    // =======
    // angular
    // =======
    // constructor
    function ReportsIndex(reportsService, toastr, viewContainer, router, securityService, location) {
        this.reportsService = reportsService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // =================
        // public properties
        // =================
        this.title = 'Reports';
        this.tabDetail1 = new Array(true, false, false, false);
        // filters
        this.calDateStartData = new Date();
        this.calDateEndData = new Date();
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    ReportsIndex.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdSoldUnitsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitsData);
        this.fgdCommissionRequestsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdCommissionRequestsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdCommissionRequestsData);
        this.fgdRequirementActivitiesData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdRequirementActivitiesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdRequirementActivitiesData);
        if (this.securityService.openPage("REPORTS") == true) {
            this.getReports();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    ReportsIndex.prototype.ngOnDestroy = function () {
        if (this.soldUnitsSub != null)
            this.soldUnitsSub.unsubscribe();
        if (this.commissionRequestsSub != null)
            this.commissionRequestsSub.unsubscribe();
        if (this.requirementActivitiesSub != null)
            this.requirementActivitiesSub.unsubscribe();
        if (this.checklistRequirementsSub != null)
            this.checklistRequirementsSub.unsubscribe();
        if (this.sendEmailSub != null)
            this.sendEmailSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    ReportsIndex.prototype.getReports = function () {
        var dateStart = [this.calDateStartData.getFullYear(), this.calDateStartData.getMonth() + 1, this.calDateStartData.getDate()].join('-');
        var dateEnd = [this.calDateEndData.getFullYear(), this.calDateEndData.getMonth() + 1, this.calDateEndData.getDate()].join('-');
        this.getUnitSolds(dateStart, dateEnd);
        this.getCommissionRequests(dateStart, dateEnd);
        this.getRequirementActivities(dateStart, dateEnd);
        this.getChecklistRequirements(dateStart, dateEnd);
    };
    ReportsIndex.prototype.getUnitSolds = function (dateStart, dateEnd) {
        var _this = this;
        this.reportsService.getSoldUnitSummary(dateStart, dateEnd);
        this.soldUnitsSub = this.reportsService.soldUnitsObservable.subscribe(function (data) {
            _this.fgdSoldUnitsData = data;
            _this.fgdSoldUnitsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitsData);
            _this.fgdSoldUnitsCollection.pageSize = 15;
            _this.fgdSoldUnitsCollection.trackChanges = true;
        });
    };
    ReportsIndex.prototype.getCommissionRequests = function (dateStart, dateEnd) {
        var _this = this;
        this.reportsService.getCommissionRequestSummary(dateStart, dateEnd);
        this.commissionRequestsSub = this.reportsService.commissionRequestsObservable.subscribe(function (data) {
            _this.fgdCommissionRequestsData = data;
            _this.fgdCommissionRequestsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdCommissionRequestsData);
            _this.fgdCommissionRequestsCollection.pageSize = 15;
            _this.fgdCommissionRequestsCollection.trackChanges = true;
        });
    };
    ReportsIndex.prototype.getRequirementActivities = function (dateStart, dateEnd) {
        var _this = this;
        this.reportsService.getSoldUnitRequirementActivitySummary(dateStart, dateEnd);
        this.requirementActivitiesSub = this.reportsService.soldUnitRequirementActivitiesObservable.subscribe(function (data) {
            _this.fgdRequirementActivitiesData = data;
            _this.fgdRequirementActivitiesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdRequirementActivitiesData);
            _this.fgdRequirementActivitiesCollection.pageSize = 15;
            _this.fgdRequirementActivitiesCollection.trackChanges = true;
        });
    };
    ReportsIndex.prototype.getChecklistRequirements = function (dateStart, dateEnd) {
        var _this = this;
        this.reportsService.getSoldUnitChecklistSummary(dateStart, dateEnd);
        this.checklistRequirementsSub = this.reportsService.soldUnitChecklistRequirementObservable.subscribe(function (data) {
            _this.fgdChecklistRequirementsData = data;
            _this.fgdChecklistRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdChecklistRequirementsData);
            _this.fgdChecklistRequirementsCollection.pageSize = 15;
            _this.fgdChecklistRequirementsCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // report activity
    ReportsIndex.prototype.generateCSV = function () {
        var data = "";
        var collection;
        var fileName = "";
        if (this.tabDetail1[0] == true) {
            data = 'Sold Unit Summary Report' + '\r\n\n';
            collection = this.fgdSoldUnitsCollection;
            fileName = "report-soldUnit.csv";
        }
        else if (this.tabDetail1[1] == true) {
            data = 'Sold Unit Checklist Requirement Report' + '\r\n\n';
            collection = this.fgdChecklistRequirementsCollection;
            fileName = "report-soldUnitChecklist.csv";
        }
        else if (this.tabDetail1[2] == true) {
            data = 'Sold Unit Checklist Requirement Activity Report' + '\r\n\n';
            collection = this.fgdRequirementActivitiesCollection;
            fileName = "report-soldUnitChecklistActivities.csv";
        }
        else if (this.tabDetail1[3] == true) {
            data = 'Commission Request Summary Report' + '\r\n\n';
            collection = this.fgdCommissionRequestsCollection;
            fileName = "report-commissionRequest.csv";
        }
        if (data != "") {
            var label = '';
            for (var s in collection.items[0]) {
                label += s + ',';
            }
            label = label.slice(0, -1);
            data += label + '\r\n';
            collection.moveToFirstPage();
            for (var p = 0; p < collection.pageCount; p++) {
                for (var i = 0; i < collection.items.length; i++) {
                    var row = '';
                    for (var s in collection.items[i]) {
                        row += '"' + collection.items[i][s] + '",';
                    }
                    row.slice(0, row.length - 1);
                    data += row + '\r\n';
                }
                collection.moveToNextPage();
            }
        }
        return new Blob([data], { type: 'text/csv;charset=utf-8;' });
    };
    ReportsIndex.prototype.btnCSVReportClick = function () {
        var fileName = "";
        if (this.tabDetail1[0] == true) {
            fileName = "report-soldUnit.csv";
        }
        else if (this.tabDetail1[1] == true) {
            fileName = "report-soldUnitChecklist.csv";
        }
        else if (this.tabDetail1[2] == true) {
            fileName = "report-soldUnitChecklistActivities.csv";
        }
        else if (this.tabDetail1[3] == true) {
            fileName = "report-commissionRequest.csv";
        }
        var csvData = this.generateCSV();
        var csvURL = window.URL.createObjectURL(csvData);
        var tempLink = document.createElement('a');
        tempLink.href = csvURL;
        tempLink.setAttribute('download', fileName);
        tempLink.click();
    };
    ReportsIndex.prototype.btnEmailReportClick = function () {
        var _this = this;
        var csvData = this.generateCSV();
        var fileName = "";
        if (this.tabDetail1[0] == true) {
            fileName = "report-soldUnit.csv";
        }
        else if (this.tabDetail1[1] == true) {
            fileName = "report-soldUnitChecklist.csv";
        }
        else if (this.tabDetail1[2] == true) {
            fileName = "report-soldUnitChecklistActivities.csv";
        }
        else if (this.tabDetail1[3] == true) {
            fileName = "report-commissionRequest.csv";
        }
        this.reportsService.sendEmail(csvData, fileName);
        this.sendEmailSub = this.reportsService.sendEmailObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Email sent.");
            }
            else {
                _this.toastr.error("Error sending email.");
            }
        });
    };
    // detail tab index click
    ReportsIndex.prototype.tabDetail1Click = function (index) {
        var dateStart = [this.calDateStartData.getFullYear(), this.calDateStartData.getMonth() + 1, this.calDateStartData.getDate()].join('-');
        var dateEnd = [this.calDateEndData.getFullYear(), this.calDateEndData.getMonth() + 1, this.calDateEndData.getDate()].join('-');
        for (var i = 0; i <= this.tabDetail1.length - 1; i++) {
            if (index == i)
                this.tabDetail1[i] = true;
            else
                this.tabDetail1[i] = false;
        }
        if (index == 0)
            this.getUnitSolds(dateStart, dateEnd);
        if (index == 1)
            this.getChecklistRequirements(dateStart, dateEnd);
        if (index == 2)
            this.getRequirementActivities(dateStart, dateEnd);
        if (index == 3)
            this.getCommissionRequests(dateStart, dateEnd);
    };
    ReportsIndex = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/reports/reports.index.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__reports_service__["a" /* ReportsService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], ReportsIndex);
    return ReportsIndex;
}());



/***/ }),

/***/ "../../../../../src/app/reports/reports.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReportsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var ReportsService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function ReportsService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // sold unit summary list
        this.soldUnitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitsObservable = this.soldUnitsSource.asObservable();
        // commission request summary list
        this.commissionRequestsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionRequestsObservable = this.commissionRequestsSource.asObservable();
        // sold unit requirement activity summary list
        this.soldUnitRequirementActivitiesSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementActivitiesObservable = this.soldUnitRequirementActivitiesSource.asObservable();
        // sold unit checklist requirement
        this.soldUnitChecklistRequirementSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitChecklistRequirementObservable = this.soldUnitChecklistRequirementSource.asObservable();
        // sending email
        this.sendEmailSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.sendEmailObservable = this.sendEmailSource.asObservable();
    }
    ReportsService.prototype.getSoldUnitSummary = function (dateStart, dateEnd) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/RepSummary/ListSoldUnitPerDates/" + dateStart + "/" + dateEnd;
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnits.push({
                        id: results[i].Id,
                        soldUnitNumber: results[i].SoldUnitNumber,
                        soldUnitDate: results[i].SoldUnitDate,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        unitId: results[i].UnitId,
                        unit: results[i].Unit,
                        customerId: results[i].CustomerId,
                        customer: results[i].Customer,
                        brokerId: results[i].BrokerId,
                        broker: results[i].Broker,
                        agent: results[i].Agent,
                        brokerCoordinator: results[i].BrokerCoordinator,
                        checklistId: results[i].ChecklistId,
                        checklist: results[i].Checklist,
                        price: results[i].Price,
                        equityValue: results[i].EquityValue,
                        equityPercent: results[i].EquityPercent,
                        discount: results[i].Discount,
                        reservation: results[i].Reservation,
                        netEquity: results[i].NetEquity,
                        netEquityInterest: results[i].NetEquityInterest,
                        netEquityNoOfPayments: results[i].NetEquityNoOfPayments,
                        netEquityAmortization: results[i].NetEquityAmortization,
                        balance: results[i].Balance,
                        balanceInterest: results[i].BalanceInterest,
                        balanceNoOfPayments: results[i].BalanceNoOfPayments,
                        balanceAmortization: results[i].BalanceAmortization,
                        totalInvestment: results[i].TotalInvestment,
                        paymentOptions: results[i].PaymentOptions,
                        financing: results[i].Financing,
                        remarks: results[i].Remarks,
                        preparedBy: results[i].PreparedBy,
                        preparedByUser: results[i].PreparedByUser,
                        checkedBy: results[i].CheckedBy,
                        checkedByUser: results[i].CheckedByUser,
                        approvedBy: results[i].ApprovedBy,
                        approvedByUser: results[i].ApprovedByUser,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.soldUnitsSource.next(soldUnits);
            }
            else {
                _this.soldUnitsSource.next(soldUnits);
                _this.toastr.error("No sold units.");
            }
        });
    };
    ReportsService.prototype.getCommissionRequestSummary = function (dateStart, dateEnd) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/RepSummary/ListCommissionRequestPerDates/" + dateStart + "/" + dateEnd;
        var commissionRequests = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    commissionRequests.push({
                        id: results[i].Id,
                        commissionRequestNumber: results[i].CommissionRequestNumber,
                        commissionRequestDate: results[i].CommissionRequestDate,
                        brokerId: results[i].BrokerId,
                        broker: results[i].Broker,
                        soldUnitId: results[i].SoldUnitId,
                        soldUnit: results[i].SoldUnit,
                        commissionNumber: results[i].CommissionNumber,
                        amount: results[i].Amount,
                        remarks: results[i].Remarks,
                        preparedBy: results[i].PreparedBy,
                        preparedByUser: results[i].PreparedByUser,
                        checkedBy: results[i].CheckedBy,
                        checkedByUser: results[i].CheckedByUser,
                        approvedBy: results[i].ApprovedBy,
                        approvedByUser: results[i].ApprovedByUser,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.commissionRequestsSource.next(commissionRequests);
            }
            else {
                _this.commissionRequestsSource.next(commissionRequests);
                _this.toastr.error("No commissions requests.");
            }
        });
    };
    ReportsService.prototype.getSoldUnitRequirementActivitySummary = function (dateStart, dateEnd) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/RepSummary/ListSoldUnitRequirementActivityPerDates/" + dateStart + "/" + dateEnd;
        var soldUnitRequirementActivities = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitRequirementActivities.push({
                        id: results[i].Id,
                        soldUnitRequirementId: results[i].SoldUnitRequirementId,
                        activityDate: results[i].ActivityDate,
                        activity: results[i].Activity,
                        remarks: results[i].Remarks,
                        userId: results[i].UserId,
                        user: results[i].User,
                        checklistRequirement: results[i].ChecklistRequirement,
                        soldUnitNumber: results[i].SoldUnitNumber,
                        project: results[i].Project,
                        unitCode: results[i].UnitCode,
                        customer: results[i].Customer
                    });
                }
                _this.soldUnitRequirementActivitiesSource.next(soldUnitRequirementActivities);
            }
            else {
                _this.soldUnitRequirementActivitiesSource.next(soldUnitRequirementActivities);
                _this.toastr.error("No sold unit requirement activities.");
            }
        });
    };
    ReportsService.prototype.getSoldUnitChecklistSummary = function (dateStart, dateEnd) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/RepSummary/ListSoldUnitChecklistPerDates/" + dateStart + "/" + dateEnd;
        var soldUnitChecklist = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitChecklist.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        checklistRequirementId: results[i].ChecklistRequirementId,
                        checklistRequirement: results[i].ChecklistRequirement,
                        checklistRequirementNo: results[i].ChecklistRequirementNo,
                        checklistCategory: results[i].ChecklistCategory,
                        checklistType: results[i].ChecklistType,
                        checklistWithAttachments: results[i].ChecklistWithAttachments,
                        attachment1: results[i].Attachment1,
                        attachment2: results[i].Attachment2,
                        attachment3: results[i].Attachment3,
                        attachment4: results[i].Attachment4,
                        attachment5: results[i].Attachment5,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        statusDate: results[i].StatusDate,
                        soldUnitNumber: results[i].SoldUnitNumber,
                        soldUnitDate: results[i].SoldUnitDate,
                        project: results[i].Project,
                        unit: results[i].Unit,
                        customer: results[i].Customer
                    });
                }
                _this.soldUnitChecklistRequirementSource.next(soldUnitChecklist);
            }
            else {
                _this.soldUnitChecklistRequirementSource.next(soldUnitChecklist);
                _this.toastr.error("No sold unit checklist requirements.");
            }
        });
    };
    ReportsService.prototype.sendEmail = function (attachment, filename) {
        var _this = this;
        var mailgunUrl = "sandbox56506e2182a34cddae6690198eb6627f.mailgun.org";
        var apiKey = "YXBpOmtleS1iYmIxNmY2ZTZmZGU0MGQ2YWJkZTNmOWJiYjAyMTlhZA==";
        var url = "https://api.mailgun.net/v3/" + mailgunUrl + "/messages";
        var formData = new FormData();
        formData.append('to', 'hgminerva@gmail.com');
        formData.append('from', "hgminerva@innosoft.ph");
        formData.append('subject', "PRILAND REPORTS");
        formData.append('text', "See attachments.");
        formData.append('attachment', attachment, filename);
        var emailHeaders = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            "Authorization": "Basic " + apiKey
        });
        var emailOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: emailHeaders });
        this.http.post(url, formData, emailOptions)
            .subscribe(function (result) {
            _this.sendEmailSource.next(1);
        }, function (error) {
            _this.sendEmailSource.next(0);
        });
    };
    ReportsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], ReportsService);
    return ReportsService;
}());



/***/ }),

/***/ "../../../../../src/app/security/security.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SecurityService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var SecurityService = (function () {
    function SecurityService() {
    }
    SecurityService.prototype.openPage = function (page) {
        var openFlag = false;
        if (localStorage.getItem("userRights") != null) {
            try {
                var userRights = JSON.parse(localStorage.getItem("userRights"));
                for (var i = 0; i <= userRights.length - 1; i++) {
                    if (userRights[i].page == page) {
                        openFlag = true;
                    }
                }
            }
            catch (e) {
                console.log(e);
            }
        }
        return openFlag;
    };
    SecurityService.prototype.secureActivity = function (page, activity) {
        return true;
    };
    SecurityService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], SecurityService);
    return SecurityService;
}());



/***/ }),

/***/ "../../../../../src/app/settings/settings.index.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnSaveSettingsClick()\" id=\"btnSaveSettings\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- fields  -->\r\n            <div class=\"card-body\">\r\n\r\n                <!-- tabs -->\r\n                <ul class=\"nav nav-tabs\" role=\"tablist\" style=\"width:100%\">\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[0], 'nav-link': true }\" (click)=\"tabDetail1Click(0)\" data-toggle=\"tab\" role=\"tab\">Company and Software</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[1], 'nav-link': true }\" (click)=\"tabDetail1Click(1)\" data-toggle=\"tab\" role=\"tab\">User Tagging</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[2], 'nav-link': true }\" (click)=\"tabDetail1Click(2)\" data-toggle=\"tab\" role=\"tab\">Foot Notes</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[3], 'nav-link': true }\" (click)=\"tabDetail1Click(3)\" data-toggle=\"tab\" role=\"tab\">Sold Unit Proposal</a>\r\n                    </li>\r\n                </ul>\r\n                <br />\r\n\r\n                <!-- tab content -->\r\n                <div class=\"tab-content\" style=\"width:100%\">\r\n                    <div [ngClass]=\"{'active': tabDetail1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-9\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Company</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"settings.company\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Software Version</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [disabled]=\"true\" [(ngModel)]=\"settings.softwareVersion\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Software Developer</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [disabled]=\"true\" [(ngModel)]=\"settings.softwareDeveloper\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"{'active': tabDetail1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-9\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Sold Unit Checked By</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbSoldUnitCheckedBy [itemsSource]=\"cmbUsersData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                            [selectedValuePath]=\"'id'\" [(ngModel)]=\"settings.soldUnitCheckedBy\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Sold Unit Approved By</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbSoldUnitApprovedBy [itemsSource]=\"cmbUsersData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                            [selectedValuePath]=\"'id'\" [(ngModel)]=\"settings.soldUnitApprovedBy\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Commission Request Checked By</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbCommissionRequestCheckedBy [itemsSource]=\"cmbUsersData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                            [selectedValuePath]=\"'id'\" [(ngModel)]=\"settings.commissionRequestCheckedBy\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Commission Request Approved By</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbCommissionRequestApprovedBy [itemsSource]=\"cmbUsersData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                            [selectedValuePath]=\"'id'\" [(ngModel)]=\"settings.commissionRequestApprovedBy\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"{'active': tabDetail1[2], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-9\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Proposal Foot Note</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [(ngModel)]=\"settings.proposalFootNote\" rows=\"8\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Broker Foot Note</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [(ngModel)]=\"settings.brokerFootNote\" rows=\"8\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"{'active': tabDetail1[3], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-9\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Total Investment</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [(ngModel)]=\"settings.totalInvestment\" rows=\"8\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                                                                </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Payment Options</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [(ngModel)]=\"settings.paymentOptions\" rows=\"8\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Financing</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [(ngModel)]=\"settings.financing\" rows=\"8\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <br />\r\n\r\n        <!-- dropdown settings -->\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <p class=\"float-right\">\r\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"btnAddDropDownClick()\">\r\n                        <i class=\"fa fa-plus\"></i> Add\r\n                    </button>\r\n                </p>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdDropDowns [itemsSource]=\"fgdDropDownsCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditDropDownClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteDropDownClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Category'\" [binding]=\"'category'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Description'\" [binding]=\"'description'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Value'\" [binding]=\"'value'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdDropDownsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdDropDownsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdDropDownsCollection.pageIndex + 1 }} / {{ fgdDropDownsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdDropDownsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdDropDownsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <app-footer [data]=\"settings\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->\r\n\r\n\r\n\r\n\r\n<!-- delete drop down modal -->\r\n<div id=\"mdlDropDownDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlDropDownDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Drop Down</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdDropDownsCollection.currentItem != null ? fgdDropDownsCollection.currentItem.description : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkDropDownDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkDropDownDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseDropDownDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseDropDownDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- edit drop down modal -->\r\n<div id=\"mdlDropDownEdit\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlDropDownEditShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Edit Drop Down</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-3 col-form-label text-right\">Category</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <input [(ngModel)]=\"dropDown.category\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-3 col-form-label text-right\">Description</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <input [(ngModel)]=\"dropDown.description\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-3 col-form-label text-right\">Value</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <input [(ngModel)]=\"dropDown.value\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveDropDownEditModal\" class=\"btn btn-success\" (click)=\"btnSaveDropDownEditModalClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseDrownDownEditModal\" class=\"btn btn-danger\" (click)=\"btnCloseDrownDownEditModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/settings/settings.index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsIndex; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__settings_service__ = __webpack_require__("../../../../../src/app/settings/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var SettingsIndex = (function () {
    // =======
    // angular
    // =======
    // constructor
    function SettingsIndex(settingsService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.settingsService = settingsService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        this.tabDetail1 = new Array(true, false, false, false);
        // =================
        // public properties
        // =================
        this.title = 'Settings';
        // model(s)
        this.settings = {
            id: 0,
            company: "",
            softwareVersion: "",
            softwareDeveloper: "",
            soldUnitCheckedBy: 0,
            soldUnitCheckedByUser: "",
            soldUnitApprovedBy: 0,
            soldUnitApprovedByUser: "",
            commissionRequestCheckedBy: 0,
            commissionRequestCheckedByUser: "",
            commissionRequestApprovedBy: 0,
            commissionRequestApprovedByUser: "",
            proposalFootNote: "",
            brokerFootNote: "",
            totalInvestment: "",
            paymentOptions: "",
            financing: ""
        };
        this.dropDown = {
            id: 0,
            category: "",
            description: "",
            value: ""
        };
        // modal(s)
        this.mdlDropDownDeleteShow = false;
        this.mdlDropDownEditShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    SettingsIndex.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdDropDownsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdDropDownsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdDropDownsData);
        if (this.securityService.openPage("SETTINGS") == true) {
            this.getSettings();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    SettingsIndex.prototype.ngOnDestroy = function () {
        if (this.settingsSub != null)
            this.settingsSub.unsubscribe();
        if (this.settingsSavedSub != null)
            this.settingsSavedSub.unsubscribe();
        if (this.usersSub != null)
            this.usersSub.unsubscribe();
        if (this.dropDownsSub != null)
            this.dropDownsSub.unsubscribe();
        if (this.dropDownsDeletedSub != null)
            this.dropDownsDeletedSub.unsubscribe();
        if (this.dropDownsSavedSub != null)
            this.dropDownsSavedSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    SettingsIndex.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    SettingsIndex.prototype.getSettings = function () {
        var _this = this;
        this.settingsService.getSettings();
        this.settingsSub = this.settingsService.settingsObservable
            .subscribe(function (data) {
            _this.settings.id = data.id;
            _this.settings.company = data.company;
            _this.settings.softwareVersion = data.softwareVersion;
            _this.settings.softwareDeveloper = data.softwareDeveloper;
            _this.settings.soldUnitCheckedBy = data.soldUnitCheckedBy;
            _this.settings.soldUnitApprovedBy = data.soldUnitApprovedBy;
            _this.settings.commissionRequestCheckedBy = data.commissionRequestCheckedBy;
            _this.settings.commissionRequestApprovedBy = data.commissionRequestApprovedBy;
            _this.settings.proposalFootNote = data.proposalFootNote;
            _this.settings.brokerFootNote = data.brokerFootNote;
            _this.settings.totalInvestment = data.totalInvestment;
            _this.settings.paymentOptions = data.paymentOptions;
            _this.settings.financing = data.financing;
            _this.getUsers(data);
            _this.getDropDowns();
        });
    };
    // detail comboxes
    SettingsIndex.prototype.getUsers = function (defaultValue) {
        var _this = this;
        this.settingsService.getUsers();
        this.usersSub = this.settingsService.usersObservable.subscribe(function (data) {
            var users = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    users.push({
                        id: data[i].id,
                        username: data[i].username,
                        fullName: data[i].fullName,
                        password: data[i].password,
                        status: data[i].status,
                        aspNet: data[i].aspNetId
                    });
                }
            }
            _this.cmbUsersData = users;
            setTimeout(function () { _this.settings.soldUnitCheckedBy = defaultValue.soldUnitCheckedBy; }, 100);
            setTimeout(function () { _this.settings.soldUnitApprovedBy = defaultValue.soldUnitApprovedBy; }, 100);
            setTimeout(function () { _this.settings.commissionRequestCheckedBy = defaultValue.commissionRequestCheckedBy; }, 100);
            setTimeout(function () { _this.settings.commissionRequestApprovedBy = defaultValue.commissionRequestApprovedBy; }, 100);
        });
    };
    // detail line1 (drop downs)
    SettingsIndex.prototype.getDropDowns = function () {
        var _this = this;
        this.settingsService.getDropDowns();
        this.dropDownsSub = this.settingsService.dropDownsObservable.subscribe(function (data) {
            _this.fgdDropDownsData = data;
            _this.fgdDropDownsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdDropDownsData);
            _this.fgdDropDownsCollection.pageSize = 15;
            _this.fgdDropDownsCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // detail operations
    SettingsIndex.prototype.btnSaveSettingsClick = function () {
        var _this = this;
        var btnSaveSettings = document.getElementById("btnSaveSettings");
        btnSaveSettings.setAttribute("disabled", "disabled");
        btnSaveSettings.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.settingsService.saveSettings(this.settings);
        this.settingsSub = this.settingsService.settingsSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveSettings.removeAttribute("disabled");
                btnSaveSettings.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveSettings.removeAttribute("disabled");
                btnSaveSettings.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    // detail line1 (drop downs) list operations
    SettingsIndex.prototype.btnAddDropDownClick = function () {
        this.dropDown.id = 0;
        this.dropDown.category = "";
        this.dropDown.description = "";
        this.dropDown.value = "";
        this.mdlDropDownEditShow = true;
    };
    SettingsIndex.prototype.btnEditDropDownClick = function () {
        var selectedDropDown = this.fgdDropDownsCollection.currentItem;
        this.dropDown.id = selectedDropDown.id;
        this.dropDown.category = selectedDropDown.category;
        this.dropDown.description = selectedDropDown.description;
        this.dropDown.value = selectedDropDown.value;
        this.mdlDropDownEditShow = true;
    };
    SettingsIndex.prototype.btnDeleteDropDownClick = function () {
        this.mdlDropDownDeleteShow = true;
    };
    // detail line1 (drop down) delete modal operations
    SettingsIndex.prototype.btnOkDropDownDeleteModalClick = function () {
        var _this = this;
        var btnOkDropDownDeleteModal = document.getElementById("btnOkDropDownDeleteModal");
        var btnCloseDropDownDeleteModal = document.getElementById("btnCloseDropDownDeleteModal");
        btnOkDropDownDeleteModal.setAttribute("disabled", "disabled");
        btnCloseDropDownDeleteModal.setAttribute("disabled", "disabled");
        var selectedDropDown = this.fgdDropDownsCollection.currentItem;
        this.settingsService.deleteDropDowns(selectedDropDown.id);
        this.dropDownsDeletedSub = this.settingsService.dropDownsDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdDropDownsCollection.remove(selectedDropDown);
                btnOkDropDownDeleteModal.removeAttribute("disabled");
                btnCloseDropDownDeleteModal.removeAttribute("disabled");
                _this.mdlDropDownDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkDropDownDeleteModal.removeAttribute("disabled");
                btnCloseDropDownDeleteModal.removeAttribute("disabled");
            }
        });
    };
    SettingsIndex.prototype.btnCloseDropDownDeleteModalClick = function () {
        this.mdlDropDownDeleteShow = false;
    };
    // detail line1 (user rights) edit modal operations
    SettingsIndex.prototype.btnSaveDropDownEditModalClick = function () {
        var _this = this;
        var btnSaveDropDownEditModal = document.getElementById("btnSaveDropDownEditModal");
        var btnCloseDropDownEditModal = document.getElementById("btnCloseDrownDownEditModal");
        btnSaveDropDownEditModal.setAttribute("disabled", "disabled");
        btnSaveDropDownEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseDropDownEditModal.setAttribute("disabled", "disabled");
        this.settingsService.saveDropDowns(this.dropDown);
        this.dropDownsSavedSub = this.settingsService.dropDownsSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveDropDownEditModal.removeAttribute("disabled");
                btnSaveDropDownEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseDropDownEditModal.removeAttribute("disabled");
                _this.mdlDropDownEditShow = false;
                _this.getDropDowns();
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveDropDownEditModal.removeAttribute("disabled");
                btnSaveDropDownEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseDropDownEditModal.removeAttribute("disabled");
            }
        });
    };
    SettingsIndex.prototype.btnCloseDrownDownEditModalClick = function () {
        this.mdlDropDownEditShow = false;
    };
    // detail tab index click
    SettingsIndex.prototype.tabDetail1Click = function (index) {
        for (var i = 0; i <= this.tabDetail1.length - 1; i++) {
            if (index == i)
                this.tabDetail1[i] = true;
            else
                this.tabDetail1[i] = false;
        }
    };
    SettingsIndex = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/settings/settings.index.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__settings_service__["a" /* SettingsService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], SettingsIndex);
    return SettingsIndex;
}());



/***/ }),

/***/ "../../../../../src/app/settings/settings.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var SettingsService = (function () {
    // =======
    // angular
    // =======
    function SettingsService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // detail
        this.settingsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.settingsObservable = this.settingsSource.asObservable();
        this.settingsSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.settingsSavedObservable = this.settingsSavedSource.asObservable();
        // detail combo boxes
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
        // detail line1 (drop downs)
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
        this.dropDownsDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsDeletedObservable = this.dropDownsDeletedSource.asObservable();
        this.dropDownsSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsSavedObservable = this.dropDownsSavedSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // detail
    SettingsService.prototype.getSettings = function () {
        var _this = this;
        var settings;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysSettings/Detail";
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                settings = {
                    id: result.Id,
                    company: result.Company,
                    softwareVersion: result.SoftwareVersion,
                    softwareDeveloper: result.SoftwareDeveloper,
                    soldUnitCheckedBy: result.SoldUnitCheckedBy,
                    soldUnitCheckedByUser: "",
                    soldUnitApprovedBy: result.SoldUnitApprovedBy,
                    soldUnitApprovedByUser: "",
                    commissionRequestCheckedBy: result.CommissionRequestCheckedBy,
                    commissionRequestCheckedByUser: "",
                    commissionRequestApprovedBy: result.CommissionRequestApprovedBy,
                    commissionRequestApprovedByUser: "",
                    proposalFootNote: result.ProposalFootNote,
                    brokerFootNote: result.BrokerFootNote,
                    totalInvestment: result.TotalInvestment,
                    paymentOptions: result.PaymentOptions,
                    financing: result.Financing
                };
                _this.settingsSource.next(settings);
            }
            else {
                _this.toastr.error("No data.");
                setTimeout(function () {
                    _this.router.navigate(["/menu"]);
                }, 1000);
            }
        });
    };
    // detail operations
    SettingsService.prototype.saveSettings = function (settings) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysSettings/Save";
        this.http.put(url, JSON.stringify(settings), this.options).subscribe(function (response) {
            _this.settingsSavedSource.next(1);
        }, function (error) {
            _this.settingsSavedSource.next(0);
        });
    };
    // detail combo boxes
    SettingsService.prototype.getUsers = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var users = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        username: results[i].Username,
                        fullName: results[i].FullName,
                        password: results[i].Password,
                        status: results[i].Status,
                        aspNet: results[i].AspNetId
                    });
                }
                _this.usersSource.next(users);
            }
            else {
                _this.toastr.error("No users.");
            }
        });
    };
    // detail line1 (drop downs) list
    SettingsService.prototype.getDropDowns = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.toastr.error("No drop downs.");
            }
        });
    };
    // detail line1 (drop downs) list operations
    SettingsService.prototype.deleteDropDowns = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.dropDownsDeletedSource.next(1);
        }, function (error) {
            _this.dropDownsDeletedSource.next(0);
        });
    };
    SettingsService.prototype.saveDropDowns = function (dropDown) {
        var _this = this;
        if (dropDown.id == 0) {
            var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/Add";
            this.http.post(url, JSON.stringify(dropDown), this.options).subscribe(function (response) {
                _this.dropDownsSavedSource.next(1);
            }, function (error) {
                _this.dropDownsSavedSource.next(0);
            });
        }
        else {
            var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/Save";
            this.http.put(url, JSON.stringify(dropDown), this.options).subscribe(function (response) {
                _this.dropDownsSavedSource.next(1);
            }, function (error) {
                _this.dropDownsSavedSource.next(0);
            });
        }
    };
    SettingsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], SettingsService);
    return SettingsService;
}());



/***/ }),

/***/ "../../../../../src/app/soldUnit/soldUnit.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<unit-query [isShowing]=\"mdlUnitQueryModalShow\" (pickedUnit)=\"mdlUnitQueryModalClose($event)\"></unit-query>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/soldUnit\">Sold Unit List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, e.g., save, lock, unlock, etc. -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 39%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 60%;\" align=\"right\">\r\n                            <button id=\"btnPrintSoldUnit\" class=\"btn btn-primary\" (click)=\"btnPrintSoldUnitClick()\">\r\n                                <i class=\"fa fa-print fa-fw\"></i> Print\r\n                            </button>\r\n                            <button id=\"btnLockSoldUnit\" [disabled]=\"soldUnit.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockSoldUnitClick()\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button id=\"btnUnlockSoldUnit\" [disabled]=\"!soldUnit.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockSoldUnitClick()\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button id=\"btnSaveSoldUnit\" [disabled]=\"soldUnit.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveSoldUnitClick()\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button id=\"btnCancelSoldUnit\" [disabled]=\"!soldUnit.isLocked\" class=\"btn btn-warning\" (click)=\"btnCancelSoldUnitClick()\">\r\n                                <i class=\"fa fa-ban fa-fw\"></i> Cancel\r\n                            </button>\r\n                            <button id=\"btnTransferSoldUnit\" [disabled]=\"!soldUnit.isLocked\" class=\"btn btn-warning\" (click)=\"btnTransferSoldUnitClick()\">\r\n                                <i class=\"fa fa-share-square-o fa-fw\"></i> Transfer\r\n                            </button>\r\n                            <button id=\"btnCloseSoldUnit\" class=\"btn btn-danger\" routerLink=\"/soldUnit\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- <div class=\"card-header\"> -->\r\n\r\n            <!-- detail fields -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Sold Unit No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnit.soldUnitNumber\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Date</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-date #calSoldUnitDate [(text)]=\"soldUnit.soldUnitDate\" [isDisabled]=\"soldUnit.isLocked\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Project</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <div class=\"input-group\">\r\n                                    <input [(ngModel)]=\"soldUnit.project\" disabled type=\"text\" class=\"form-control\">\r\n                                    <div class=\"input-group-append\">\r\n                                        <button id=\"btnOpenUnitQueryModal\" class=\"btn btn-info\" [disabled]=\"soldUnit.isLocked\" (click)=\"btnOpenUnitQueryModalClick()\">\r\n                                            <i class=\"fa fa-refresh fa-fw\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Unit</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnit.unit\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Customer</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbCustomers [itemsSource]=\"cmbCustomersData\" [isDisabled]=\"soldUnit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"soldUnit.customerId\"\r\n                                    style=\"width: 100%;\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Broker</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbBrokers [itemsSource]=\"cmbBrokersData\" [isDisabled]=\"soldUnit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"soldUnit.brokerId\"\r\n                                    style=\"width: 100%;\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Agent</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnit.agent\" [disabled]=\"soldUnit.isLocked\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Broker Coordinator</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnit.brokerCoordinator\" [disabled]=\"soldUnit.isLocked\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checklist</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <div class=\"input-group\">\r\n                                    <wj-combo-box #cmbChecklists [itemsSource]=\"cmbChecklistsData\" [isDisabled]=\"soldUnit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                        [displayMemberPath]=\"'checklist'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"soldUnit.checklistId\">\r\n                                    </wj-combo-box>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button id=\"btnOpenSoldUnitRequirementsModal\" class=\"btn btn-info\" [disabled]=\"soldUnit.isLocked\" (click)=\"btnOpenSoldUnitRequirementsModalClick()\">\r\n                                            <i class=\"fa fa-refresh fa-fw\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Selling Price</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"soldUnit.price\" [isDisabled]=\"soldUnit.isLocked\">\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [disabled]=\"soldUnit.isLocked\" [(ngModel)]=\"soldUnit.remarks\" rows=\"3\" class=\"form-control\">\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Prepared By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbPreparedBy [itemsSource]=\"cmbUsersData\" [isDisabled]=\"true\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                    [selectedValuePath]=\"'id'\" [(ngModel)]=\"soldUnit.preparedByr\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checked By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbCheckedBy [itemsSource]=\"cmbUsersData\" [isDisabled]=\"soldUnit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"soldUnit.checkedBy\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Approved By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbApprovedBy [itemsSource]=\"cmbUsersData\" [isDisabled]=\"soldUnit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"soldUnit.approvedBy\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbStatus [itemsSource]=\"cmbStatusData\" [isDisabled]=true [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                    [selectedValuePath]=\"'value'\" [(ngModel)]=\"soldUnit.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n            <!--  <div class=\"card-body\"> -->\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n        <br />\r\n        <ul class=\"nav nav-tabs\" role=\"tablist\" style=\"width:100%\">\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[0], 'nav-link': true }\" (click)=\"tabDetail1Click(0)\" data-toggle=\"tab\" role=\"tab\">Checklist Requirements</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[1], 'nav-link': true }\" (click)=\"tabDetail1Click(1)\" data-toggle=\"tab\" role=\"tab\">Total Investments</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[2], 'nav-link': true }\" (click)=\"tabDetail1Click(2)\" data-toggle=\"tab\" role=\"tab\">Payment Options</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[3], 'nav-link': true }\" (click)=\"tabDetail1Click(3)\" data-toggle=\"tab\" role=\"tab\">Financing</a>\r\n            </li>\r\n        </ul>\r\n        <br />\r\n        <div class=\"tab-content\" style=\"width:100%\">\r\n\r\n            <!-- tab1 detail item (checklist requirements) -->\r\n            <div [ngClass]=\"{'active': tabDetail1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdSoldUnitRequirements [itemsSource]=\"fgdSoldUnitRequirementsCollection\" [selectionMode]=\"3\" [frozenColumns]=\"1\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                                <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                    <button [disabled]=\"soldUnit.isLocked\" class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditSoldUnitRequirementClick()\"\r\n                                        data-toggle=\"modal\" data-backdrop=\"static\" data-keyboard=\"false\">\r\n                                        <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                                    </button>\r\n                                </ng-template>\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'No'\" [binding]=\"'checklistRequirementNo'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Requirement'\" [binding]=\"'checklistRequirement'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Category'\" [binding]=\"'checklistCategory'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Type'\" [binding]=\"'checklistType'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'A'\" [binding]=\"'checklistWithAttachments'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'statusDate'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitRequirementsCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitRequirementsCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdSoldUnitRequirementsCollection.pageIndex + 1 }} / {{ fgdSoldUnitRequirementsCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitRequirementsCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitRequirementsCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- tab2 detail item (total investments) -->\r\n            <div [ngClass]=\"{'active': tabDetail1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <table border=\"0\" style=\"width: 100%;\">\r\n                            <tr>\r\n                                <td style=\"width: 39%;\">\r\n                                    Total Investments (press the \"Write\" button to generate text) =>\r\n                                </td>\r\n                                <td style=\"width: 1%;\"></td>\r\n                                <td style=\"width: 60%;\" align=\"right\">\r\n                                    <button id=\"btnWriteTotalInvestment\" class=\"btn btn-secondary\" [disabled]=\"soldUnit.isLocked\" (click)=\"btnWriteTotalInvestmentClick()\">\r\n                                        <i class=\"fa fa-pencil-square-o fa-fw\"></i> Write\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"form-group row\">\r\n                            <div class=\"col-md-12\">\r\n                                <textarea [disabled]=\"soldUnit.isLocked\" [(ngModel)]=\"soldUnit.totalInvestment\" rows=\"15\" style=\"font-family:Courier New\"\r\n                                    class=\"form-control\">\r\n                                            </textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- tab3 detail item (payment options) -->\r\n            <div [ngClass]=\"{'active': tabDetail1[2], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Equity (%)</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.equityPercent\" [isDisabled]=\"soldUnit.isLocked\" (textChanged)=\"txtEquityPercentKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Equity</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.equityValue\" [isDisabled]=\"soldUnit.isLocked\" (textChanged)=\"txtEquityValueKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Discount</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.discount\" [isDisabled]=\"soldUnit.isLocked\" (textChanged)=\"txtDiscountKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Reservation</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.reservation\" [isDisabled]=\"soldUnit.isLocked\" (textChanged)=\"txtReservationKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Net Equity</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.netEquity\" [isDisabled]=true>\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Interest</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.netEquityInterest\" [isDisabled]=\"soldUnit.isLocked\" (textChanged)=\"txtNetEquityInterestKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">No. of Payments</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.netEquityNoOfPayments\" [isDisabled]=\"soldUnit.isLocked\" (textChanged)=\"txtNetEquityNoOfPaymentsKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Amortization</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.netEquityAmortization\" [isDisabled]=true>\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <table border=\"0\" style=\"width: 100%;\">\r\n                            <tr>\r\n                                <td style=\"width: 39%;\">\r\n                                    Payment Options (press the \"Write\" button to generate text) =>\r\n                                </td>\r\n                                <td style=\"width: 1%;\"></td>\r\n                                <td style=\"width: 60%;\" align=\"right\">\r\n                                    <button id=\"btnWritePaymentOptions\" class=\"btn btn-secondary\" [disabled]=\"soldUnit.isLocked\" (click)=\"btnWritePaymentOptionsClick()\">\r\n                                        <i class=\"fa fa-pencil-square-o fa-fw\"></i> Write\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"form-group row\">\r\n                            <div class=\"col-sm-12\">\r\n                                <textarea [disabled]=\"soldUnit.isLocked\" [(ngModel)]=\"soldUnit.paymentOptions\" rows=\"15\" style=\"font-family:Courier New\"\r\n                                    class=\"form-control\">\r\n                                            </textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <table border=\"0\" style=\"width: 100%;\">\r\n                            <tr>\r\n                                <td style=\"width: 39%;\">\r\n                                    Equity Payment Schedule\r\n                                </td>\r\n                                <td style=\"width: 1%;\"></td>\r\n                                <td style=\"width: 60%;\" align=\"right\">\r\n                                    <button id=\"btnPrintEquityPaymentSchedule\" class=\"btn btn-primary\" (click)=\"btnPrintEquityPaymentScheduleClick()\">\r\n                                        <i class=\"fa fa-print fa-fw\"></i> Print\r\n                                    </button>\r\n                                    <button id=\"btnCreateEquityPaymentSchedule\" class=\"btn btn-secondary\" [disabled]=\"soldUnit.isLocked\" (click)=\"btnCreateEquityPaymentScheduleClick()\">\r\n                                        <i class=\"fa fa-magic fa-fw\"></i> Create\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdSoldUnitEquitySchedule [itemsSource]=\"fgdSoldUnitEquityScheduleCollection\" [selectionMode]=\"3\" [frozenColumns]=\"1\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                                <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                    <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditSoldUnitEquityScheduleClick()\" data-toggle=\"modal\" data-backdrop=\"static\"\r\n                                        data-keyboard=\"false\">\r\n                                        <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                                    </button>\r\n                                </ng-template>\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'paymentDate'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Amortization'\" [binding]=\"'amortization'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Check No'\" [binding]=\"'checkNumber'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Check Date'\" [binding]=\"'checkDate'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Check Bank'\" [binding]=\"'checkBank'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitEquityScheduleCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitEquityScheduleCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdSoldUnitEquityScheduleCollection.pageIndex + 1 }} / {{ fgdSoldUnitEquityScheduleCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitEquityScheduleCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitEquityScheduleCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- tab4 detail item (financing) -->\r\n            <div [ngClass]=\"{'active': tabDetail1[3], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Balance</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.balance\" [isDisabled]=true>\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Interest</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.balanceInterest\" [isDisabled]=\"soldUnit.isLocked\" (textChanged)=\"txtBalanceInterestKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">No. of Payments</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.balanceNoOfPayments\" [isDisabled]=\"soldUnit.isLocked\" (textChanged)=\"txtBalanceNoOfPaymentsKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Amortization</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.balanceAmortization\" [isDisabled]=\"soldUnit.isLocked\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <table border=\"0\" style=\"width: 100%;\">\r\n                            <tr>\r\n                                <td style=\"width: 39%;\">\r\n                                    Financing (press the \"Write\" button to generate text) =>\r\n                                </td>\r\n                                <td style=\"width: 1%;\"></td>\r\n                                <td style=\"width: 60%;\" align=\"right\">\r\n                                    <button id=\"btnWriteFinancing\" class=\"btn btn-secondary\" [disabled]=\"soldUnit.isLocked\" (click)=\"btnWriteFinancingClick()\">\r\n                                        <i class=\"fa fa-pencil-square-o fa-fw\"></i> Write\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"form-group row\">\r\n                            <div class=\"col-md-12\">\r\n                                <textarea [disabled]=\"soldUnit.isLocked\" [(ngModel)]=\"soldUnit.financing\" rows=\"15\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                            </textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"soldUnit\"></app-footer>\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->\r\n\r\n\r\n\r\n\r\n<!-- new checklist requirements prompt modal -->\r\n<div id=\"mdlSoldUnitRequirementsModal\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlSoldUnitRequirementsModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Checklist Requirements</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Add checklist requirements? This will delete the existing checklist requirements.\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSoldUnitRequirementsModalOk\" class=\"btn btn-success\" (click)=\"btnOkSoldUnitRequirementsModalClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnSoldUnitRequirementsModalClose\" class=\"btn btn-danger\" (click)=\"btnCloseSoldUnitRequirementsModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- edit checklist requirement modal -->\r\n<div id=\"mdlEditSoldUnitRequirementModal\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlEditSoldUnitRequirementModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Edit Checklist Requirement</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <ul class=\"nav nav-tabs\" role=\"tablist\" style=\"width:100%\">\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1Modal1[0], 'nav-link': true }\" (click)=\"tabDetail1Modal1Click(0)\" data-toggle=\"tab\" role=\"tab\">Requirement</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1Modal1[1], 'nav-link': true }\" (click)=\"tabDetail1Modal1Click(1)\" data-toggle=\"tab\" role=\"tab\">Attachments</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1Modal1[2], 'nav-link': true }\" (click)=\"tabDetail1Modal1Click(2)\" data-toggle=\"tab\" role=\"tab\">Activities</a>\r\n                    </li>\r\n                </ul>\r\n                <br>\r\n                <div class=\"tab-content\" style=\"width:100%\">\r\n                    <div [ngClass]=\"{'active': tabDetail1Modal1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.checklistRequirementNo\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Requirement</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.checklistRequirement\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Category</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.checklistCategory\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [(ngModel)]=\"soldUnitRequirement.remarks\" rows=\"4\" class=\"form-control\">\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbUnitSoldRequirementStatus [itemsSource]=\"cmbUnitSoldRequirementStatusData\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'value'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"soldUnitRequirement.status\"\r\n                                    style=\"width: 100%;\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"{'active': tabDetail1Modal1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Attachment 1</label>\r\n                            <div class=\"col-sm-5\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.attachment1\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <input type=\"file\" (change)=\"btnOpenSoldUnitRequirementAttachment1Click($event)\" name=\"btnOpenSoldUnitRequirementAttachment1\"\r\n                                    accept=\"image/*\" style=\"display:none;\">\r\n                                <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                            </label>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <a [href]=\"soldUnitRequirement.attachment1\" target=\"blank\" style=\"color:white;\">\r\n                                    <i class=\"fa fa-search fa-fw\"></i>\r\n                                </a>\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Attachment 2</label>\r\n                            <div class=\"col-sm-5\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.attachment2\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <input type=\"file\" (change)=\"btnOpenSoldUnitRequirementAttachment2Click($event)\" name=\"btnOpenSoldUnitRequirementAttachment2\"\r\n                                    accept=\"image/*\" style=\"display:none;\">\r\n                                <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                            </label>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <a [href]=\"soldUnitRequirement.attachment2\" target=\"blank\" style=\"color:white;\">\r\n                                    <i class=\"fa fa-search fa-fw\"></i>\r\n                                </a>\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Attachment 3</label>\r\n                            <div class=\"col-sm-5\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.attachment3\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <input type=\"file\" (change)=\"btnOpenSoldUnitRequirementAttachment3Click($event)\" name=\"btnOpenSoldUnitRequirementAttachment3\"\r\n                                    accept=\"image/*\" style=\"display:none;\">\r\n                                <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                            </label>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <a [href]=\"soldUnitRequirement.attachment3\" target=\"blank\" style=\"color:white;\">\r\n                                    <i class=\"fa fa-search fa-fw\"></i>\r\n                                </a>\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Attachment 4</label>\r\n                            <div class=\"col-sm-5\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.attachment4\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <input type=\"file\" (change)=\"btnOpenSoldUnitRequirementAttachment4Click($event)\" name=\"btnOpenSoldUnitRequirementAttachment4\"\r\n                                    accept=\"image/*\" style=\"display:none;\">\r\n                                <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                            </label>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <a [href]=\"soldUnitRequirement.attachment4\" target=\"blank\" style=\"color:white;\">\r\n                                    <i class=\"fa fa-search fa-fw\"></i>\r\n                                </a>\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Attachment 5</label>\r\n                            <div class=\"col-sm-5\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.attachment5\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <input type=\"file\" (change)=\"btnOpenSoldUnitRequirementAttachment5Click($event)\" name=\"btnOpenSoldUnitRequirementAttachment5\"\r\n                                    accept=\"image/*\" style=\"display:none;\">\r\n                                <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                            </label>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <a [href]=\"soldUnitRequirement.attachment5\" target=\"blank\" style=\"color:white;\">\r\n                                    <i class=\"fa fa-search fa-fw\"></i>\r\n                                </a>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"{'active': tabDetail1Modal1[2], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"card\">\r\n\r\n                            <div class=\"card-header\">\r\n                                <table border=\"0\" style=\"width: 100%;\">\r\n                                    <tr>\r\n                                        <td style=\"width: 100%;\" align=\"right\">\r\n                                            <button id=\"btnAddSoldUnitRequirementActivity\" class=\"btn btn-primary\" (click)=\"btnAddSoldUnitRequirementActivitiesClick()\">\r\n                                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                            </div>\r\n                            <div class=\"card-body\">\r\n                                <wj-flex-grid #fgdSoldUnitRequirementActivities [itemsSource]=\"fgdSoldUnitRequirementActivitiesCollection\" [selectionMode]=\"3\"\r\n                                    [frozenColumns]=\"2\">\r\n                                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditSoldUnitRequirementActivitiesClick()\" data-toggle=\"modal\"\r\n                                                data-backdrop=\"static\" data-keyboard=\"false\">\r\n                                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                                            </button>\r\n                                        </ng-template>\r\n                                    </wj-flex-grid-column>\r\n                                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteSoldUnitRequirementActivitiesClick()\" data-toggle=\"modal\"\r\n                                                data-backdrop=\"static\" data-keyboard=\"false\">\r\n                                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                                            </button>\r\n                                        </ng-template>\r\n                                    </wj-flex-grid-column>\r\n                                    <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'activityDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                                    <wj-flex-grid-column [header]=\"'Activity'\" [binding]=\"'activity'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                                    <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                                    <wj-flex-grid-column [header]=\"'User'\" [binding]=\"'user'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                                </wj-flex-grid>\r\n                            </div>\r\n                            <div class=\"card-footer\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-sm-12 btn-group\" id=\"\">\r\n                                        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitRequirementActivitiesCollection.moveToFirstPage()\">\r\n                                            <i class=\"fa fa-fast-backward\"></i> First\r\n                                        </button>\r\n                                        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitRequirementActivitiesCollection.moveToPreviousPage()\">\r\n                                            <i class=\"fa fa-step-backward\"></i> Previous\r\n                                        </button>\r\n                                        <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                            {{ fgdSoldUnitRequirementActivitiesCollection.pageIndex + 1 }} / {{ fgdSoldUnitRequirementActivitiesCollection.pageCount\r\n                                            }}\r\n                                        </button>\r\n                                        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitRequirementActivitiesCollection.moveToNextPage()\">\r\n                                            Next\r\n                                            <i class=\"fa fa-step-forward\"></i>\r\n                                        </button>\r\n                                        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitRequirementActivitiesCollection.moveToLastPage()\">\r\n                                            Last\r\n                                            <i class=\"fa fa-fast-forward\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveEditSoldUnitRequirementModal\" class=\"btn btn-success\" (click)=\"btnSaveEditSoldUnitRequirementModalClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseEditSoldUnitRequirementModal\" class=\"btn btn-danger\" (click)=\"btnCloseEditSoldUnitRequirementModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- Checklist Requirement Activity  -->\r\n<div id=\"mdlSoldUnitRequirementActivityModal\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlSoldUnitRequirementActivityModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Activity</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Date</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-date #calActivityDate [(ngModel)]=\"soldUnitRequirementActivity.activityDate\" format=\"M/d/yyyy\">\r\n                        </wj-input-date>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Activity</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <textarea [(ngModel)]=\"soldUnitRequirementActivity.activity\" rows=\"3\" class=\"form-control\">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <textarea [(ngModel)]=\"soldUnitRequirementActivity.remarks\" rows=\"3\" class=\"form-control\">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveSoldUnitRequirementActivityModal\" class=\"btn btn-success\" (click)=\"btnSaveSoldUnitRequirementActivityModalClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseSoldUnitRequirementActivityModal\" class=\"btn btn-danger\" (click)=\"btnCloseSoldUnitRequirementActivityModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- cancel sold unit modal -->\r\n<div id=\"mdlSoldUnitCancelModal\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlSoldUnitCancelModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Cancel Sold Unit</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Reason for cancelation:</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <textarea [(ngModel)]=\"soldUnit.remarks\" rows=\"3\" class=\"form-control\">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSoldUnitCancelModalOk\" class=\"btn btn-warning\" (click)=\"btnSoldUnitCancelModalOkClick()\">\r\n                    <i class=\"fa fa-ban fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnSoldUnitCancelModalClose\" class=\"btn btn-danger\" (click)=\"btnSoldUnitCancelModalCloseClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- transfer sold unit modal -->\r\n<div id=\"mdlSoldUnitTransferModal\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlSoldUnitTransferModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Transfer Sold Unit</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Reason for transfering:</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <textarea [(ngModel)]=\"soldUnit.remarks\" rows=\"3\" class=\"form-control\">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSoldUnitTransferModalOk\" class=\"btn btn-success\" (click)=\"btnSoldUnitTransferModalOkClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnSoldUnitTransferModalClose\" class=\"btn btn-danger\" (click)=\"btnSoldUnitTransferModalCloseClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- equity payment schedule  -->\r\n<div id=\"mdlSoldUnitEquityScheduleModal\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlSoldUnitEquityScheduleModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Equity Payment</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Payment Date</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"soldUnitEquitySchedule.paymentDate\" disabled type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Amortization</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-number [(value)]=\"soldUnitEquitySchedule.amortization\" [isDisabled]=true>\r\n                        </wj-input-number>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Check No.</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"soldUnitEquitySchedule.checkNumber\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Check Date</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-date [(text)]=\"soldUnitEquitySchedule.checkDate\" format=\"M/d/yyyy\">\r\n                        </wj-input-date>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Check Bank</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"soldUnitEquitySchedule.checkBank\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <textarea [(ngModel)]=\"soldUnitEquitySchedule.remarks\" rows=\"3\" class=\"form-control\">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveSoldUnitEquityScheduleModal\" class=\"btn btn-success\" (click)=\"btnSaveSoldUnitEquityScheduleModalClick()\">\r\n                    <i class=\"fa fa-save fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseSoldUnitEquityScheduleModal\" class=\"btn btn-danger\" (click)=\"btnCloseSoldUnitEquityScheduleModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/soldUnit/soldUnit.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SoldUnitDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__soldUnit_service__ = __webpack_require__("../../../../../src/app/soldUnit/soldUnit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__unit_unit_service__ = __webpack_require__("../../../../../src/app/unit/unit.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)



var SoldUnitDetail = (function () {
    // =======
    // angular
    // =======
    function SoldUnitDetail(soldUnitService, router, toastr, viewContainer, activatedRoute, securityService, location, unitService) {
        this.soldUnitService = soldUnitService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        this.unitService = unitService;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Sold Unit Detail';
        // detail model
        this.soldUnit = {
            id: 0,
            soldUnitNumber: "",
            soldUnitDate: "",
            projectId: 0,
            project: "",
            unitId: 0,
            unit: "",
            customerId: 0,
            customer: "",
            brokerId: 0,
            broker: "",
            agent: "",
            brokerCoordinator: "",
            checklistId: 0,
            checklist: "",
            price: 0,
            equityValue: 0,
            equityPercent: 0,
            discount: 0,
            reservation: 0,
            netEquity: 0,
            netEquityInterest: 0,
            netEquityNoOfPayments: 0,
            netEquityAmortization: 0,
            balance: 0,
            balanceInterest: 0,
            balanceNoOfPayments: 0,
            balanceAmortization: 0,
            totalInvestment: "",
            paymentOptions: "",
            financing: "",
            remarks: "",
            preparedBy: 0,
            preparedByUser: "",
            checkedBy: 0,
            checkedByUser: "",
            approvedBy: 0,
            approvedByUser: "",
            status: "SOLD",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString,
        };
        // detail line1 model
        this.soldUnitRequirement = {
            id: 0,
            soldUnitId: 0,
            checklistRequirementId: 0,
            checklistRequirement: "",
            checklistRequirementNo: 0,
            checklistCategory: "",
            checklistType: "",
            checklistWithAttachments: false,
            attachment1: "",
            attachment2: "",
            attachment3: "",
            attachment4: "",
            attachment5: "",
            remarks: "",
            status: "NOT OK",
            statusDate: this.currentDateString
        };
        // detail line1 line1 model
        this.soldUnitRequirementActivity = {
            id: 0,
            soldUnitRequirementId: 0,
            activityDate: this.currentDateString,
            activity: "",
            remarks: "",
            userId: 0,
            user: ""
        };
        // detail line2 model
        this.soldUnitEquitySchedule = {
            id: 0,
            soldUnitId: 0,
            paymentDate: "",
            amortization: 0,
            checkNumber: "",
            checkDate: "",
            checkBank: "",
            remarks: "",
        };
        // tabs
        this.tabDetail1 = new Array(true, false, false, false);
        this.tabDetail1Modal1 = new Array(true, false, false);
        // modals
        this.mdlSoldUnitRequirementsModalShow = false;
        this.mdlEditSoldUnitRequirementModalShow = false;
        this.mdlSoldUnitRequirementActivityModalShow = false;
        this.mdlSoldUnitEquityScheduleModalShow = false;
        this.mdlUnitQueryModalShow = false;
        this.mdlUnitQueryModalStatus = false;
        this.mdlUnitQueryModalSequence = 1;
        this.mdlSoldUnitCancelModalShow = false;
        this.mdlSoldUnitTransferModalShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    SoldUnitDetail.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdSoldUnitRequirementsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitRequirementsData);
        this.fgdSoldUnitRequirementActivitiesData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitRequirementActivitiesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitRequirementActivitiesData);
        this.fgdSoldUnitEquityScheduleData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitEquityScheduleCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitEquityScheduleData);
        if (this.securityService.openPage("SOLD UNIT DETAIL") == true) {
            this.getSoldUnit();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    SoldUnitDetail.prototype.ngOnDestroy = function () {
        if (this.soldUnitSub != null)
            this.soldUnitSub.unsubscribe();
        if (this.soldUnitSavedSub != null)
            this.soldUnitSavedSub.unsubscribe();
        if (this.soldUnitLockedSub != null)
            this.soldUnitLockedSub.unsubscribe();
        if (this.soldUnitUnlockedSub != null)
            this.soldUnitUnlockedSub.unsubscribe();
        if (this.soldUnitCancelSub != null)
            this.soldUnitCancelSub.unsubscribe();
        if (this.soldUnitTransferSub != null)
            this.soldUnitTransferSub.unsubscribe();
        if (this.soldUnitRequirementsSub != null)
            this.soldUnitRequirementsSub.unsubscribe();
        if (this.soldUnitRequirementAttachmentSub != null)
            this.soldUnitRequirementAttachmentSub.unsubscribe();
        if (this.soldUnitRequirementActivitiesSub != null)
            this.soldUnitRequirementActivitiesSub.unsubscribe();
        if (this.soldUnitEquityScheduleSub != null)
            this.soldUnitEquityScheduleSub.unsubscribe();
        if (this.soldUnitEquityScheduleSavedSub != null)
            this.soldUnitEquityScheduleSavedSub.unsubscribe();
        if (this.cmbProjectsSub != null)
            this.cmbProjectsSub.unsubscribe();
        if (this.cmbUnitsSub != null)
            this.cmbUnitsSub.unsubscribe();
        if (this.cmbChecklistsSub != null)
            this.cmbChecklistsSub.unsubscribe();
        if (this.cmbCustomersSub != null)
            this.cmbCustomersSub.unsubscribe();
        if (this.cmbBrokersSub != null)
            this.cmbBrokersSub.unsubscribe();
        if (this.cmbStatusesSub != null)
            this.cmbStatusesSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    SoldUnitDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    SoldUnitDetail.prototype.getSoldUnit = function () {
        var _this = this;
        this.soldUnitService.getSoldUnit(this.getIdParameter());
        this.soldUnitSub = this.soldUnitService.soldUnitObservable
            .subscribe(function (data) {
            _this.soldUnit.id = data.id;
            _this.soldUnit.soldUnitNumber = data.soldUnitNumber;
            _this.soldUnit.soldUnitDate = data.soldUnitDate;
            _this.soldUnit.projectId = data.projectId;
            _this.soldUnit.project = data.project;
            _this.soldUnit.unitId = data.unitId;
            _this.soldUnit.unit = data.unit;
            _this.soldUnit.customerId = data.customerId;
            _this.soldUnit.customer = data.customer;
            _this.soldUnit.brokerId = data.brokerId;
            _this.soldUnit.broker = data.broker;
            _this.soldUnit.agent = data.agent;
            _this.soldUnit.brokerCoordinator = data.brokerCoordinator;
            _this.soldUnit.checklistId = data.checklistId;
            _this.soldUnit.checklist = data.checklist;
            _this.soldUnit.price = data.price;
            _this.soldUnit.equityValue = data.equityValue;
            _this.soldUnit.equityPercent = data.equityPercent;
            _this.soldUnit.discount = data.discount;
            _this.soldUnit.reservation = data.reservation;
            _this.soldUnit.netEquity = data.netEquity;
            _this.soldUnit.netEquityInterest = data.netEquityInterest;
            _this.soldUnit.netEquityNoOfPayments = data.netEquityNoOfPayments;
            _this.soldUnit.netEquityAmortization = data.netEquityAmortization;
            _this.soldUnit.balance = data.balance;
            _this.soldUnit.balanceInterest = data.balanceInterest;
            _this.soldUnit.balanceNoOfPayments = data.balanceNoOfPayments;
            _this.soldUnit.balanceAmortization = data.balanceAmortization;
            _this.soldUnit.totalInvestment = data.totalInvestment;
            _this.soldUnit.paymentOptions = data.paymentOptions;
            _this.soldUnit.financing = data.financing;
            _this.soldUnit.remarks = data.remarks;
            _this.soldUnit.preparedBy = data.preparedBy;
            _this.soldUnit.preparedByUser = data.preparedByUser;
            _this.soldUnit.checkedBy = data.checkedBy;
            _this.soldUnit.checkedByUser = data.checkedByUser;
            _this.soldUnit.approvedBy = data.approvedBy;
            _this.soldUnit.approvedByUser = data.approvedByUser;
            _this.soldUnit.status = data.status;
            _this.soldUnit.isLocked = data.isLocked;
            _this.soldUnit.createdBy = data.createdBy;
            _this.soldUnit.createdDateTime = data.createdDateTime;
            _this.soldUnit.updatedBy = data.updatedBy;
            _this.soldUnit.updatedDateTime = data.updatedDateTime;
            _this.getChecklistsPerProjectId(_this.soldUnit);
            _this.getCmbCustomers(data);
            _this.getCmbBrokers(data);
            _this.getCmbUsers(data);
            _this.getCmbStatus(data);
            _this.getSoldUnitRequirements();
            _this.getSoldUnitEquitySchedule();
        });
    };
    // detail combo boxes
    SoldUnitDetail.prototype.getCmbCustomers = function (defaultValue) {
        var _this = this;
        this.soldUnitService.getCustomers();
        this.cmbCustomersSub = this.soldUnitService.customersObservable.subscribe(function (data) {
            _this.cmbCustomersData = data;
            setTimeout(function () { _this.soldUnit.customerId = defaultValue.customerId; }, 100);
        });
    };
    SoldUnitDetail.prototype.getCmbBrokers = function (defaultValue) {
        var _this = this;
        this.soldUnitService.getBrokers();
        this.cmbBrokersSub = this.soldUnitService.brokersObservable.subscribe(function (data) {
            _this.cmbBrokersData = data;
            setTimeout(function () { _this.soldUnit.brokerId = defaultValue.brokerId; }, 100);
        });
    };
    SoldUnitDetail.prototype.getCmbUsers = function (defaultValue) {
        var _this = this;
        this.soldUnitService.getUsers();
        this.cmbUsersSub = this.soldUnitService.usersObservable.subscribe(function (data) {
            _this.cmbUsersData = data;
            setTimeout(function () { _this.soldUnit.preparedBy = defaultValue.preparedBy; }, 100);
            setTimeout(function () { _this.soldUnit.checkedBy = defaultValue.checkedBy; }, 100);
            setTimeout(function () { _this.soldUnit.approvedBy = defaultValue.approvedBy; }, 100);
        });
    };
    SoldUnitDetail.prototype.getCmbStatus = function (defaultValue) {
        var _this = this;
        this.soldUnitService.getDropDowns();
        var statuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.cmbStatusesSub = this.soldUnitService.dropDownsObservable.subscribe(function (data) {
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "SOLD UNIT STATUS") {
                        statuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbStatusData = statuses;
            setTimeout(function () { _this.soldUnit.status = defaultValue.status; }, 100);
        });
    };
    // detail combo boxes when project is changed
    SoldUnitDetail.prototype.getChecklistsPerProjectId = function (defaultValue) {
        var _this = this;
        this.soldUnitService.getChecklistsPerProject(this.soldUnit.projectId);
        this.cmbChecklistsSub = this.soldUnitService.checklistsObservable.subscribe(function (data) {
            _this.cmbChecklistsData = data;
            setTimeout(function () { _this.soldUnit.checklistId = defaultValue.checklistId; }, 100);
        });
    };
    // - create new detail line1 (checklist requirements) list - IMPORTANT! this will remove 
    //   the existing checklist requirements
    // - detail line1 (checklist requirements) list
    SoldUnitDetail.prototype.getNewSoldUnitRequirements = function () {
        var _this = this;
        this.soldUnitService.getNewSoldUnitRequirements(this.soldUnit.id, this.soldUnit.checklistId);
        this.soldUnitRequirementsSub = this.soldUnitService.soldUnitRequirementsSource.subscribe(function (data) {
            _this.fgdSoldUnitRequirementsData = data;
            _this.fgdSoldUnitRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitRequirementsData);
            _this.fgdSoldUnitRequirementsCollection.pageSize = 15;
            _this.fgdSoldUnitRequirementsCollection.trackChanges = true;
            console.log(_this.fgdSoldUnitRequirementsData);
        });
    };
    SoldUnitDetail.prototype.getSoldUnitRequirements = function () {
        var _this = this;
        this.soldUnitService.getSoldUnitRequirements(this.soldUnit.id);
        this.soldUnitRequirementsSub = this.soldUnitService.soldUnitRequirementsSource.subscribe(function (data) {
            _this.fgdSoldUnitRequirementsData = data;
            _this.fgdSoldUnitRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitRequirementsData);
            _this.fgdSoldUnitRequirementsCollection.pageSize = 15;
            _this.fgdSoldUnitRequirementsCollection.trackChanges = true;
            console.log(_this.fgdSoldUnitRequirementsData);
        });
    };
    // detail line1 (checklist requirements) combo boxes
    SoldUnitDetail.prototype.getCmbUnitSoldRequirementStatus = function () {
        var _this = this;
        this.soldUnitService.getDropDowns();
        this.cmbUnitSoldRequirementStatusSub = this.soldUnitService.dropDownsObservable.subscribe(function (data) {
            var soldUnitRequirementStatus = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "REQUIREMENT STATUS") {
                        soldUnitRequirementStatus.push({
                            id: data[i].Id,
                            category: data[i].Category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbUnitSoldRequirementStatusData = soldUnitRequirementStatus;
            setTimeout(function () {
                var selectedSoldUnitRequirement = _this.fgdSoldUnitRequirementsCollection.currentItem;
                _this.soldUnitRequirement.status = selectedSoldUnitRequirement.status;
            }, 100);
        });
    };
    // detail line1 line1 (checklist requirement activities) list
    SoldUnitDetail.prototype.getSoldUnitRequirementActivities = function () {
        var _this = this;
        this.soldUnitService.getSoldUnitRequirementActivities(this.soldUnitRequirement.id);
        this.soldUnitRequirementActivitiesSub = this.soldUnitService.soldUnitRequirementActivitiesSource.subscribe(function (data) {
            _this.fgdSoldUnitRequirementActivitiesData = data;
            _this.fgdSoldUnitRequirementActivitiesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitRequirementActivitiesData);
            _this.fgdSoldUnitRequirementActivitiesCollection.pageSize = 15;
            _this.fgdSoldUnitRequirementActivitiesCollection.trackChanges = true;
        });
    };
    // - create new detail line2 (equity payment schedule) list - IMPORTANT! 
    //   this will remove the existing schedule.  Make sure to save the sold unit first
    // - detail line2 (equity payment schedule)
    SoldUnitDetail.prototype.getNewSoldUnitEquitySchedule = function () {
        var _this = this;
        this.soldUnitService.getNewSoldUnitEquitySchedule(this.soldUnit.id);
        this.soldUnitEquityScheduleSub = this.soldUnitService.soldUnitEquityScheduleObservable.subscribe(function (data) {
            _this.fgdSoldUnitEquityScheduleData = data;
            _this.fgdSoldUnitEquityScheduleCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitEquityScheduleData);
            _this.fgdSoldUnitEquityScheduleCollection.pageSize = 15;
            _this.fgdSoldUnitEquityScheduleCollection.trackChanges = true;
        });
    };
    SoldUnitDetail.prototype.getSoldUnitEquitySchedule = function () {
        var _this = this;
        this.soldUnitService.getSoldUnitEquitySchedule(this.soldUnit.id);
        this.soldUnitEquityScheduleSub = this.soldUnitService.soldUnitEquityScheduleObservable.subscribe(function (data) {
            _this.fgdSoldUnitEquityScheduleData = data;
            _this.fgdSoldUnitEquityScheduleCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitEquityScheduleData);
            _this.fgdSoldUnitEquityScheduleCollection.pageSize = 15;
            _this.fgdSoldUnitEquityScheduleCollection.trackChanges = true;
        });
    };
    // transfer sold unit
    SoldUnitDetail.prototype.transferSoldUnit = function () {
        this.soldUnitService.transferSoldUnit(this.soldUnit);
    };
    // ======
    // events
    // ======
    // unit query modal
    SoldUnitDetail.prototype.btnOpenUnitQueryModalClick = function () {
        this.mdlUnitQueryModalShow = true;
        this.mdlUnitQueryModalSequence = 1;
    };
    SoldUnitDetail.prototype.mdlUnitQueryModalClose = function (unit) {
        if (this.mdlUnitQueryModalSequence == 1) {
            if (unit.id != null) {
                this.soldUnit.project = unit.project;
                this.soldUnit.projectId = unit.projectId;
                this.soldUnit.unitId = unit.id;
                this.soldUnit.unit = unit.unitCode;
                this.soldUnit.price = unit.price;
                this.getChecklistsPerProjectId(this.soldUnit);
            }
        }
        else if (this.mdlUnitQueryModalSequence == 2) {
            if (unit.id != null) {
                this.soldUnit.project = unit.project;
                this.soldUnit.projectId = unit.projectId;
                this.soldUnit.unitId = unit.id;
                this.soldUnit.unit = unit.unitCode;
                this.soldUnit.price = unit.price;
                this.transferSoldUnit();
            }
        }
        this.mdlUnitQueryModalShow = false;
    };
    // detail operations
    SoldUnitDetail.prototype.btnSaveSoldUnitClick = function () {
        var _this = this;
        var btnSaveSoldUnit = document.getElementById("btnSaveSoldUnit");
        btnSaveSoldUnit.setAttribute("disabled", "disabled");
        btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.soldUnitService.saveSoldUnit(this.soldUnit);
        this.soldUnitSavedSub = this.soldUnitService.soldUnitSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveSoldUnit.removeAttribute("disabled");
                btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveSoldUnit.removeAttribute("disabled");
                btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    SoldUnitDetail.prototype.btnLockSoldUnitClick = function () {
        var _this = this;
        var btnLockSoldUnit = document.getElementById("btnLockSoldUnit");
        btnLockSoldUnit.setAttribute("disabled", "disabled");
        btnLockSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.soldUnitService.lockSoldUnit(this.soldUnit);
        this.soldUnitLockedSub = this.soldUnitService.soldUnitLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.soldUnit.isLocked = true;
                btnLockSoldUnit.removeAttribute("disabled");
                btnLockSoldUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockSoldUnit.removeAttribute("disabled");
                btnLockSoldUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    SoldUnitDetail.prototype.btnUnlockSoldUnitClick = function () {
        var _this = this;
        if (this.soldUnit.status == "SOLD") {
            var btnUnlockSoldUnit_1 = document.getElementById("btnUnlockSoldUnit");
            btnUnlockSoldUnit_1.setAttribute("disabled", "disabled");
            btnUnlockSoldUnit_1.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
            this.soldUnitService.unlockSoldUnit(this.soldUnit);
            this.soldUnitUnlockedSub = this.soldUnitService.soldUnitUnlockedObservable.subscribe(function (data) {
                if (data == 1) {
                    _this.toastr.success("Unlocking successful.");
                    _this.soldUnit.isLocked = false;
                    btnUnlockSoldUnit_1.removeAttribute("disabled");
                    btnUnlockSoldUnit_1.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
                }
                else if (data == 0) {
                    _this.toastr.error("Unlocking failed.");
                    btnUnlockSoldUnit_1.removeAttribute("disabled");
                    btnUnlockSoldUnit_1.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
                }
            });
        }
        else {
            this.toastr.error("This unit is not sold.");
        }
    };
    SoldUnitDetail.prototype.btnPrintSoldUnitClick = function () {
        if (this.soldUnit.status == "SOLD") {
            if (this.soldUnit.isLocked == true) {
                this.router.navigate(['/pdf', 'soldunitcontract', this.soldUnit.id]);
            }
            else {
                this.router.navigate(['/pdf', 'soldunitproposal', this.soldUnit.id]);
            }
        }
        else {
            this.toastr.error("This unit is not sold.");
        }
    };
    SoldUnitDetail.prototype.btnCancelSoldUnitClick = function () {
        if (this.soldUnit.status == "SOLD") {
            this.mdlSoldUnitCancelModalShow = true;
        }
        else {
            this.toastr.error("This unit is not sold.");
        }
    };
    SoldUnitDetail.prototype.btnTransferSoldUnitClick = function () {
        if (this.soldUnit.status == "SOLD") {
            this.mdlSoldUnitTransferModalShow = true;
        }
        else {
            this.toastr.error("This unit is not sold.");
        }
    };
    // detail line1 (checklist requirements) list operations
    SoldUnitDetail.prototype.btnEditSoldUnitRequirementClick = function () {
        var selectedSoldUnitRequirement = this.fgdSoldUnitRequirementsCollection.currentItem;
        this.soldUnitRequirement.id = selectedSoldUnitRequirement.id;
        this.soldUnitRequirement.soldUnitId = selectedSoldUnitRequirement.soldUnitId;
        this.soldUnitRequirement.checklistRequirementId = selectedSoldUnitRequirement.checklistRequirementId;
        this.soldUnitRequirement.checklistRequirement = selectedSoldUnitRequirement.checklistRequirement;
        this.soldUnitRequirement.checklistRequirementNo = selectedSoldUnitRequirement.checklistRequirementNo;
        this.soldUnitRequirement.checklistCategory = selectedSoldUnitRequirement.checklistCategory;
        this.soldUnitRequirement.checklistType = selectedSoldUnitRequirement.checklistType;
        this.soldUnitRequirement.checklistWithAttachments = selectedSoldUnitRequirement.checklistWithAttachments;
        this.soldUnitRequirement.attachment1 = selectedSoldUnitRequirement.attachment1;
        this.soldUnitRequirement.attachment2 = selectedSoldUnitRequirement.attachment2;
        this.soldUnitRequirement.attachment3 = selectedSoldUnitRequirement.attachment3;
        this.soldUnitRequirement.attachment4 = selectedSoldUnitRequirement.attachment4;
        this.soldUnitRequirement.attachment5 = selectedSoldUnitRequirement.attachment5;
        this.soldUnitRequirement.remarks = selectedSoldUnitRequirement.remarks;
        this.soldUnitRequirement.status = selectedSoldUnitRequirement.status;
        this.soldUnitRequirement.statusDate = selectedSoldUnitRequirement.statusDate;
        this.getCmbUnitSoldRequirementStatus();
        this.getSoldUnitRequirementActivities();
        this.mdlEditSoldUnitRequirementModalShow = true;
    };
    // download checklist requirements modal open
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementsModalClick = function () {
        this.mdlSoldUnitRequirementsModalShow = true;
    };
    // download checklist requirements modal operations
    SoldUnitDetail.prototype.btnOkSoldUnitRequirementsModalClick = function () {
        this.getNewSoldUnitRequirements();
        this.mdlSoldUnitRequirementsModalShow = false;
    };
    SoldUnitDetail.prototype.btnCloseSoldUnitRequirementsModalClick = function () {
        this.mdlSoldUnitRequirementsModalShow = false;
    };
    // edit sold unit requirement modal operations
    SoldUnitDetail.prototype.btnSaveEditSoldUnitRequirementModalClick = function () {
        var _this = this;
        var btnSaveEditSoldUnitRequirementModal = document.getElementById("btnSaveEditSoldUnitRequirementModal");
        var btnCloseEditSoldUnitRequirementModal = document.getElementById("btnCloseEditSoldUnitRequirementModal");
        btnSaveEditSoldUnitRequirementModal.setAttribute("disabled", "disabled");
        btnSaveEditSoldUnitRequirementModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseEditSoldUnitRequirementModal.setAttribute("disabled", "disabled");
        this.soldUnitService.saveSoldUnitRequirement(this.soldUnitRequirement);
        this.soldUnitRequirementSavedSub = this.soldUnitService.soldUnitRequirementSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveEditSoldUnitRequirementModal.removeAttribute("disabled");
                btnSaveEditSoldUnitRequirementModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseEditSoldUnitRequirementModal.removeAttribute("disabled");
                _this.getSoldUnitRequirements();
                _this.mdlSoldUnitRequirementsModalShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveEditSoldUnitRequirementModal.removeAttribute("disabled");
                btnSaveEditSoldUnitRequirementModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseEditSoldUnitRequirementModal.removeAttribute("disabled");
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnSaveEditSoldUnitRequirementModal.removeAttribute("disabled");
            btnSaveEditSoldUnitRequirementModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            btnCloseEditSoldUnitRequirementModal.removeAttribute("disabled");
        });
        this.mdlEditSoldUnitRequirementModalShow = false;
    };
    SoldUnitDetail.prototype.btnCloseEditSoldUnitRequirementModalClick = function () {
        this.mdlEditSoldUnitRequirementModalShow = false;
    };
    // attachments
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementAttachment1Click = function (e) {
        var _this = this;
        var target = e.target;
        console.log(target);
        if (target.files.length > 0) {
            this.soldUnitService.uploadSoldUnitAttachment(target.files[0], "SOLDUNIT1-" + this.soldUnit.soldUnitNumber + "-" + this.soldUnitRequirement.checklistRequirementNo + "-" + Date.now());
            this.soldUnitRequirementAttachmentSub = this.soldUnitService.soldUnitRequirementAttachmentObservable
                .subscribe(function (data) {
                _this.soldUnitRequirement.attachment1 = data.fileUrl;
            });
        }
    };
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementAttachment2Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.soldUnitService.uploadSoldUnitAttachment(target.files[0], "SOLDUNIT2-" + this.soldUnit.soldUnitNumber + "-" + this.soldUnitRequirement.checklistRequirementNo + "-" + Date.now());
            this.soldUnitRequirementAttachmentSub = this.soldUnitService.soldUnitRequirementAttachmentObservable
                .subscribe(function (data) {
                _this.soldUnitRequirement.attachment2 = data.fileUrl;
            });
        }
    };
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementAttachment3Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.soldUnitService.uploadSoldUnitAttachment(target.files[0], "SOLDUNIT3-" + this.soldUnit.soldUnitNumber + "-" + this.soldUnitRequirement.checklistRequirementNo + "-" + Date.now());
            this.soldUnitRequirementAttachmentSub = this.soldUnitService.soldUnitRequirementAttachmentObservable
                .subscribe(function (data) {
                _this.soldUnitRequirement.attachment3 = data.fileUrl;
            });
        }
    };
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementAttachment4Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.soldUnitService.uploadSoldUnitAttachment(target.files[0], "SOLDUNIT4-" + this.soldUnit.soldUnitNumber + "-" + this.soldUnitRequirement.checklistRequirementNo + "-" + Date.now());
            this.soldUnitRequirementAttachmentSub = this.soldUnitService.soldUnitRequirementAttachmentObservable
                .subscribe(function (data) {
                _this.soldUnitRequirement.attachment4 = data.fileUrl;
            });
        }
    };
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementAttachment5Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.soldUnitService.uploadSoldUnitAttachment(target.files[0], "SOLDUNIT5-" + this.soldUnit.soldUnitNumber + "-" + this.soldUnitRequirement.checklistRequirementNo + "-" + Date.now());
            this.soldUnitRequirementAttachmentSub = this.soldUnitService.soldUnitRequirementAttachmentObservable
                .subscribe(function (data) {
                _this.soldUnitRequirement.attachment5 = data.fileUrl;
            });
        }
    };
    // detail line1 line (checklist requirement activities) list operations
    SoldUnitDetail.prototype.btnAddSoldUnitRequirementActivitiesClick = function () {
        var selectedSoldUnitRequirementActivity = this.fgdSoldUnitRequirementActivitiesCollection.currentItem;
        this.soldUnitRequirementActivity.id = 0;
        this.soldUnitRequirementActivity.soldUnitRequirementId = this.soldUnitRequirement.id;
        this.soldUnitRequirementActivity.activityDate = "";
        this.soldUnitRequirementActivity.activity = "";
        this.soldUnitRequirementActivity.remarks = "";
        this.soldUnitRequirementActivity.userId = 0;
        this.soldUnitRequirementActivity.user = "";
        this.mdlSoldUnitRequirementActivityModalShow = true;
    };
    SoldUnitDetail.prototype.btnEditSoldUnitRequirementActivitiesClick = function () {
        var selectedSoldUnitRequirementActivity = this.fgdSoldUnitRequirementActivitiesCollection.currentItem;
        this.soldUnitRequirementActivity.id = selectedSoldUnitRequirementActivity.id;
        this.soldUnitRequirementActivity.soldUnitRequirementId = selectedSoldUnitRequirementActivity.soldUnitRequirementId;
        this.soldUnitRequirementActivity.activityDate = selectedSoldUnitRequirementActivity.activityDate;
        this.soldUnitRequirementActivity.activity = selectedSoldUnitRequirementActivity.activity;
        this.soldUnitRequirementActivity.remarks = selectedSoldUnitRequirementActivity.remarks;
        this.soldUnitRequirementActivity.userId = selectedSoldUnitRequirementActivity.userId;
        this.soldUnitRequirementActivity.user = selectedSoldUnitRequirementActivity.user;
        this.mdlSoldUnitRequirementActivityModalShow = true;
    };
    SoldUnitDetail.prototype.btnDeleteSoldUnitRequirementActivitiesClick = function () {
        var _this = this;
        var selectedSoldUnitRequirementActivity = this.fgdSoldUnitRequirementActivitiesCollection.currentItem;
        this.soldUnitService.deleteSoldUnitRequirementActivity(selectedSoldUnitRequirementActivity.id);
        this.soldUnitRequirementActivityDeleteSub = this.soldUnitService.soldUnitRequirementActivityDeleteObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdSoldUnitRequirementActivitiesCollection.remove(selectedSoldUnitRequirementActivity);
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
            }
        });
    };
    // edit sold unit checklist requirement activity modal operations
    SoldUnitDetail.prototype.btnSaveSoldUnitRequirementActivityModalClick = function () {
        var _this = this;
        var btnSaveSoldUnitRequirementActivityModal = document.getElementById("btnSaveSoldUnitRequirementActivityModal");
        var btnCloseSoldUnitRequirementActivityModal = document.getElementById("btnCloseSoldUnitRequirementActivityModal");
        btnSaveSoldUnitRequirementActivityModal.setAttribute("disabled", "disabled");
        btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseSoldUnitRequirementActivityModal.setAttribute("disabled", "disabled");
        if (this.soldUnitRequirementActivity.id == 0) {
            this.soldUnitService.addSoldUnitRequirementActivity(this.soldUnitRequirementActivity);
            this.soldUnitRequirementActivitySavedSub = this.soldUnitService.soldUnitRequirementActivityAddObservable.subscribe(function (data) {
                if (data == 1) {
                    _this.toastr.success("Saving successful.");
                    btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                    btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    _this.getSoldUnitRequirementActivities();
                    _this.mdlSoldUnitRequirementActivityModalShow = false;
                }
                else if (data == 0) {
                    _this.toastr.error("Saving failed.");
                    btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                    btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
                }
            }, function (error) {
                _this.toastr.error("Server error.");
                btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
            });
        }
        else {
            this.soldUnitService.saveSoldUnitRequirementActivity(this.soldUnitRequirementActivity);
            this.soldUnitRequirementActivitySavedSub = this.soldUnitService.soldUnitRequirementActivitySavedObservable.subscribe(function (data) {
                if (data == 1) {
                    _this.toastr.success("Saving successful.");
                    btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                    btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    _this.getSoldUnitRequirementActivities();
                    _this.mdlSoldUnitRequirementActivityModalShow = false;
                }
                else if (data == 0) {
                    _this.toastr.error("Saving failed.");
                    btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                    btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
                }
            }, function (error) {
                _this.toastr.error("Server error.");
                btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
            });
        }
    };
    SoldUnitDetail.prototype.btnCloseSoldUnitRequirementActivityModalClick = function () {
        this.mdlSoldUnitRequirementActivityModalShow = false;
    };
    // open, edit, save equity payment schedule events
    SoldUnitDetail.prototype.btnEditSoldUnitEquityScheduleClick = function () {
        var selectedSoldUnitEquitySchedule = this.fgdSoldUnitEquityScheduleCollection.currentItem;
        this.soldUnitEquitySchedule.id = selectedSoldUnitEquitySchedule.id;
        this.soldUnitEquitySchedule.soldUnitId = selectedSoldUnitEquitySchedule.soldUnitId;
        this.soldUnitEquitySchedule.paymentDate = selectedSoldUnitEquitySchedule.paymentDate;
        this.soldUnitEquitySchedule.amortization = selectedSoldUnitEquitySchedule.amortization;
        this.soldUnitEquitySchedule.checkNumber = selectedSoldUnitEquitySchedule.checkNumber;
        this.soldUnitEquitySchedule.checkDate = selectedSoldUnitEquitySchedule.checkDate;
        this.soldUnitEquitySchedule.checkBank = selectedSoldUnitEquitySchedule.checkBank;
        this.soldUnitEquitySchedule.remarks = selectedSoldUnitEquitySchedule.remarks;
        this.mdlSoldUnitEquityScheduleModalShow = true;
    };
    SoldUnitDetail.prototype.btnSaveSoldUnitEquityScheduleModalClick = function () {
        var _this = this;
        var btnSaveSoldUnitEquityScheduleModal = document.getElementById("btnSaveSoldUnitEquityScheduleModal");
        var btnCloseSoldUnitEquityScheduleModal = document.getElementById("btnCloseSoldUnitEquityScheduleModal");
        btnSaveSoldUnitEquityScheduleModal.setAttribute("disabled", "disabled");
        btnSaveSoldUnitEquityScheduleModal.innerHTML = "<i class='fa fa-save fa-fw'></i> Saving...";
        btnCloseSoldUnitEquityScheduleModal.setAttribute("disabled", "disabled");
        this.soldUnitService.saveSoldUnitEquitySchedule(this.soldUnitEquitySchedule);
        this.soldUnitEquityScheduleSavedSub = this.soldUnitService.soldUnitEquityPaymentSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveSoldUnitEquityScheduleModal.removeAttribute("disabled");
                btnSaveSoldUnitEquityScheduleModal.innerHTML = "<i class='fa fa-save fa-fw'></i> Save";
                btnCloseSoldUnitEquityScheduleModal.removeAttribute("disabled");
                _this.getSoldUnitEquitySchedule();
                _this.mdlSoldUnitEquityScheduleModalShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveSoldUnitEquityScheduleModal.removeAttribute("disabled");
                btnSaveSoldUnitEquityScheduleModal.innerHTML = "<i class='fa fa-save fa-fw'></i> Save";
                btnCloseSoldUnitEquityScheduleModal.removeAttribute("disabled");
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnSaveSoldUnitEquityScheduleModal.removeAttribute("disabled");
            btnSaveSoldUnitEquityScheduleModal.innerHTML = "<i class='fa fa-save fa-fw'></i> Save";
            btnCloseSoldUnitEquityScheduleModal.removeAttribute("disabled");
        });
    };
    SoldUnitDetail.prototype.btnCloseSoldUnitEquityScheduleModalClick = function () {
        this.mdlSoldUnitEquityScheduleModalShow = false;
    };
    // keyups
    SoldUnitDetail.prototype.computeNetEquity = function () {
        this.soldUnit.netEquity = this.soldUnit.equityValue - this.soldUnit.discount - this.soldUnit.reservation;
        if (this.soldUnit.netEquityInterest > 0) {
            var r = this.soldUnit.netEquityInterest / 100;
            var n = this.soldUnit.netEquityNoOfPayments;
            var an = r * Math.pow(1 + r, n);
            var ad = Math.pow(1 + r, n) - 1;
            if (ad != 0) {
                this.soldUnit.netEquityAmortization = this.soldUnit.netEquity * (an / ad);
            }
        }
        else {
            var n = this.soldUnit.netEquityNoOfPayments;
            if (n > 0) {
                this.soldUnit.netEquityAmortization = this.soldUnit.netEquity / n;
            }
        }
        this.computeBalance();
    };
    SoldUnitDetail.prototype.computeBalance = function () {
        this.soldUnit.balance = this.soldUnit.price - this.soldUnit.equityValue;
        if (this.soldUnit.balanceInterest > 0) {
            var r = this.soldUnit.balanceInterest / 100;
            var n = this.soldUnit.balanceNoOfPayments;
            var an = r * Math.pow(1 + r, n);
            var ad = Math.pow(1 + r, n) - 1;
            if (ad != 0) {
                this.soldUnit.balanceAmortization = this.soldUnit.balance * (an / ad);
            }
        }
        else {
            var n = this.soldUnit.balanceNoOfPayments;
            if (n > 0) {
                this.soldUnit.balanceAmortization = this.soldUnit.balance / n;
            }
        }
    };
    SoldUnitDetail.prototype.txtEquityPercentKeyup = function () {
        if (this.soldUnit.price > 0) {
            this.soldUnit.equityValue = this.soldUnit.price * (this.soldUnit.equityPercent / 100);
            this.computeNetEquity();
        }
    };
    SoldUnitDetail.prototype.txtEquityValueKeyup = function () {
        if (this.soldUnit.price > 0) {
            this.soldUnit.equityPercent = (this.soldUnit.equityValue / this.soldUnit.price) * 100;
            this.computeNetEquity();
        }
    };
    SoldUnitDetail.prototype.txtDiscountKeyup = function () {
        this.computeNetEquity();
    };
    SoldUnitDetail.prototype.txtReservationKeyup = function () {
        this.computeNetEquity();
    };
    SoldUnitDetail.prototype.txtNetEquityInterestKeyup = function () {
        this.computeNetEquity();
    };
    SoldUnitDetail.prototype.txtNetEquityNoOfPaymentsKeyup = function () {
        this.computeNetEquity();
    };
    SoldUnitDetail.prototype.txtBalanceInterestKeyup = function () {
        this.computeBalance();
    };
    SoldUnitDetail.prototype.txtBalanceNoOfPaymentsKeyup = function () {
        this.computeBalance();
    };
    // writes
    SoldUnitDetail.prototype.addSpaces = function (numberOfSpaces) {
        var spaces = "";
        for (var i = 0; i < numberOfSpaces; i++) {
            spaces = spaces + " ";
        }
        return spaces;
    };
    SoldUnitDetail.prototype.btnWriteTotalInvestmentClick = function () {
        var totalInvestment = "";
        totalInvestment = totalInvestment + "TOTAL CONTRACT PRICE (TCP) \n";
        totalInvestment = totalInvestment + "      Included: Transfer Charges and Misc.        P " + this.soldUnit.price.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        totalInvestment = totalInvestment + "      Other Charges: \n";
        totalInvestment = totalInvestment + "            * Move-in Fee (To be paid upon signing of Certificate of Turnover) \n";
        this.soldUnit.totalInvestment = totalInvestment;
    };
    SoldUnitDetail.prototype.btnWritePaymentOptionsClick = function () {
        var paymentOptions = "";
        paymentOptions = paymentOptions + "FINANCING SCHEME \n";
        paymentOptions = paymentOptions + "      Equity: Percentage                                 " + this.addSpaces(15 - this.soldUnit.equityPercent.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.equityPercent.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "% \n";
        paymentOptions = paymentOptions + "              Value                                    P " + this.addSpaces(15 - this.soldUnit.equityValue.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.equityValue.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "      LESS:   Discount                                 P " + this.addSpaces(15 - this.soldUnit.discount.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.discount.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "              Reservation                              P " + this.addSpaces(15 - this.soldUnit.reservation.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.reservation.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "      NET EQUITY                                       P " + this.addSpaces(15 - this.soldUnit.netEquity.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.netEquity.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "* P " + this.soldUnit.netEquityAmortization.toLocaleString('en-us', { minimumFractionDigits: 2 }) + " spread over " + this.soldUnit.netEquityNoOfPayments + " month(s) at " + this.soldUnit.netEquityInterest + " interest \n";
        paymentOptions = paymentOptions + "* Payee: PRILAND DEVELOPMENT CORPORATION \n";
        this.soldUnit.paymentOptions = paymentOptions;
    };
    SoldUnitDetail.prototype.btnWriteFinancingClick = function () {
        var financing = "";
        financing = financing + "BALANCE \n";
        financing = financing + "      The remaining balance                               P " + this.soldUnit.balance.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        financing = financing + "* P " + this.soldUnit.balanceAmortization.toLocaleString('en-us', { minimumFractionDigits: 2 }) + " spread over " + this.soldUnit.balanceNoOfPayments + " month(s) at " + this.soldUnit.balanceInterest + " interest \n";
        this.soldUnit.financing = financing;
    };
    // cancel
    SoldUnitDetail.prototype.btnSoldUnitCancelModalOkClick = function () {
        var _this = this;
        var btnSoldUnitCancelModalOk = document.getElementById("btnSoldUnitCancelModalOk");
        var btnSoldUnitCancelModalClose = document.getElementById("btnSoldUnitCancelModalClose");
        btnSoldUnitCancelModalOk.setAttribute("disabled", "disabled");
        btnSoldUnitCancelModalOk.innerHTML = "<i class='fa fa-ban fa-fw'></i> Canceling...";
        btnSoldUnitCancelModalClose.setAttribute("disabled", "disabled");
        this.soldUnitService.cancelSoldUnit(this.soldUnit);
        this.soldUnitCancelSub = this.soldUnitService.soldUnitCancelObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Canceling successful.");
                btnSoldUnitCancelModalOk.removeAttribute("disabled");
                btnSoldUnitCancelModalOk.innerHTML = "<i class='fa fa-ban fa-fw'></i> Cancel";
                btnSoldUnitCancelModalClose.removeAttribute("disabled");
                _this.mdlSoldUnitCancelModalShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Canceling failed.");
                btnSoldUnitCancelModalOk.removeAttribute("disabled");
                btnSoldUnitCancelModalOk.innerHTML = "<i class='fa fa-ban fa-fw'></i> Cancel";
                btnSoldUnitCancelModalClose.removeAttribute("disabled");
                _this.mdlSoldUnitCancelModalShow = false;
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnSoldUnitCancelModalOk.removeAttribute("disabled");
            btnSoldUnitCancelModalOk.innerHTML = "<i class='fa fa-ban fa-fw'></i> Cancel";
            btnSoldUnitCancelModalClose.removeAttribute("disabled");
            _this.mdlSoldUnitCancelModalShow = false;
        });
    };
    SoldUnitDetail.prototype.btnSoldUnitCancelModalCloseClick = function () {
        this.mdlSoldUnitCancelModalShow = false;
    };
    // transfer
    SoldUnitDetail.prototype.btnSoldUnitTransferModalOkClick = function () {
        this.mdlSoldUnitTransferModalShow = false;
        this.mdlUnitQueryModalSequence = 2;
        this.mdlUnitQueryModalShow = true;
    };
    SoldUnitDetail.prototype.btnSoldUnitTransferModalCloseClick = function () {
        this.mdlSoldUnitTransferModalShow = false;
    };
    // equity payment schedule
    SoldUnitDetail.prototype.btnCreateEquityPaymentScheduleClick = function () {
        var _this = this;
        var btnSaveSoldUnit = document.getElementById("btnSaveSoldUnit");
        btnSaveSoldUnit.setAttribute("disabled", "disabled");
        btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.soldUnitService.saveSoldUnit(this.soldUnit);
        this.soldUnitSavedSub = this.soldUnitService.soldUnitSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.getNewSoldUnitEquitySchedule();
                _this.toastr.success("Saving successful.");
                btnSaveSoldUnit.removeAttribute("disabled");
                btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveSoldUnit.removeAttribute("disabled");
                btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    SoldUnitDetail.prototype.btnPrintEquityPaymentScheduleClick = function () {
        this.router.navigate(['/pdf', 'soldunitequityschedule', this.soldUnit.id]);
    };
    // tabs
    SoldUnitDetail.prototype.tabDetail1Click = function (index) {
        for (var i = 0; i <= this.tabDetail1.length - 1; i++) {
            if (index == i)
                this.tabDetail1[i] = true;
            else
                this.tabDetail1[i] = false;
        }
        // refresh equity schedule
        this.getSoldUnitEquitySchedule();
    };
    SoldUnitDetail.prototype.tabDetail1Modal1Click = function (index) {
        for (var i = 0; i <= this.tabDetail1Modal1.length - 1; i++) {
            if (index == i)
                this.tabDetail1Modal1[i] = true;
            else
                this.tabDetail1Modal1[i] = false;
        }
        if (index == 2)
            this.getSoldUnitRequirementActivities();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("cmbProjects"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], SoldUnitDetail.prototype, "cmbProjects", void 0);
    SoldUnitDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/soldUnit/soldUnit.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__soldUnit_service__["a" /* SoldUnitService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"],
            __WEBPACK_IMPORTED_MODULE_7__unit_unit_service__["a" /* UnitService */]])
    ], SoldUnitDetail);
    return SoldUnitDetail;
}());



/***/ }),

/***/ "../../../../../src/app/soldUnit/soldUnit.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnAddSoldUnit\" class=\"btn btn-primary\" (click)=\"btnAddSoldUnitClick()\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button id=\"btnCloseSoldUnit\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- filters -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date Start:\r\n                                </span>\r\n                                <wj-input-date #calDateStart [(ngModel)]=\"calDateStartData\" (textChanged)=\"getSoldUnits()\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date End:\r\n                                </span>\r\n                                <wj-input-date #calDateEnd [(ngModel)]=\"calDateEndData\" (textChanged)=\"getSoldUnits()\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 49%;\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdSoldUnit [itemsSource]=\"fgdSoldUnitCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditSoldUnitClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteSoldUnitClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Number'\" [binding]=\"'soldUnitNumber'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'soldUnitDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'project'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unit'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'customer'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Broker'\" [binding]=\"'broker'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdSoldUnitCollection.pageIndex + 1 }} / {{ fgdSoldUnitCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdSoldUnitCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete sold unit modal -->\r\n<div id=\"mdlSoldUnitDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlSoldUnitDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Sold Unit</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdSoldUnitCollection.currentItem != null ? fgdSoldUnitCollection.currentItem.soldUnitNumber : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnOkSoldUnitDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkSoldUnitDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnCloseSoldUnitDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseSoldUnitDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/soldUnit/soldUnit.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SoldUnitList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__soldUnit_service__ = __webpack_require__("../../../../../src/app/soldUnit/soldUnit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var SoldUnitList = (function () {
    // =======
    // angular
    // =======
    // constructor
    function SoldUnitList(soldUnitService, toastr, viewContainer, router, securityService, location) {
        this.soldUnitService = soldUnitService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Sold Unit List';
        // model(s)
        this.soldUnit = {
            id: 0,
            soldUnitNumber: "",
            soldUnitDate: this.currentDateString,
            projectId: 0,
            project: "",
            unitId: 0,
            unit: "",
            customerId: 0,
            customer: "",
            brokerId: 0,
            broker: "",
            agent: "",
            brokerCoordinator: "",
            checklistId: 0,
            checklist: "",
            price: 0,
            equityValue: 0,
            equityPercent: 0,
            discount: 0,
            reservation: 0,
            netEquity: 0,
            netEquityInterest: 0,
            netEquityNoOfPayments: 0,
            netEquityAmortization: 0,
            balance: 0,
            balanceInterest: 0,
            balanceNoOfPayments: 0,
            balanceAmortization: 0,
            totalInvestment: "",
            paymentOptions: "",
            financing: "",
            remarks: "",
            preparedBy: 0,
            preparedByUser: "",
            checkedBy: 0,
            checkedByUser: "",
            approvedBy: 0,
            approvedByUser: "",
            status: "SOLD",
            isLocked: false,
            createdBy: 0,
            createdDateTime: this.currentDateString,
            updatedBy: 0,
            updatedDateTime: this.currentDateString,
        };
        // filters
        this.calDateStartData = new Date();
        this.calDateEndData = new Date();
        // modal
        this.mdlSoldUnitDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    SoldUnitList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdSoldUnitData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitData);
        if (this.securityService.openPage("SOLD UNIT LIST") == true) {
            this.getSoldUnits();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    SoldUnitList.prototype.ngOnDestroy = function () {
        if (this.soldUnitsSub != null)
            this.soldUnitsSub.unsubscribe();
        if (this.soldUnitsDeletedSub != null)
            this.soldUnitsDeletedSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    // list
    SoldUnitList.prototype.getSoldUnits = function () {
        var _this = this;
        var dateStart = [this.calDateStartData.getFullYear(), this.calDateStartData.getMonth() + 1, this.calDateStartData.getDate()].join('-');
        var dateEnd = [this.calDateEndData.getFullYear(), this.calDateEndData.getMonth() + 1, this.calDateEndData.getDate()].join('-');
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.soldUnitService.getSoldUnitsPerDates(dateStart, dateEnd);
        this.soldUnitsSub = this.soldUnitService.soldUnitsObservable.subscribe(function (data) {
            _this.fgdSoldUnitData = data;
            _this.fgdSoldUnitCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitData);
            _this.fgdSoldUnitCollection.pageSize = 15;
            _this.fgdSoldUnitCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // list operations
    SoldUnitList.prototype.btnAddSoldUnitClick = function () {
        var btnAddSoldUnit = document.getElementById("btnAddSoldUnit");
        btnAddSoldUnit.setAttribute("disabled", "true");
        btnAddSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.soldUnitService.addSoldUnit(this.soldUnit, btnAddSoldUnit);
    };
    SoldUnitList.prototype.btnEditSoldUnitClick = function () {
        var selectedSoldUnit = this.fgdSoldUnitCollection.currentItem;
        this.router.navigate(['/soldUnit', selectedSoldUnit.id]);
    };
    SoldUnitList.prototype.btnDeleteSoldUnitClick = function () {
        this.mdlSoldUnitDeleteShow = true;
    };
    // delete modal operations
    SoldUnitList.prototype.btnOkSoldUnitDeleteModalClick = function () {
        var _this = this;
        var btnOkSoldUnitDeleteModal = document.getElementById("btnOkSoldUnitDeleteModal");
        var btnCloseSoldUnitDeleteModal = document.getElementById("btnCloseSoldUnitDeleteModal");
        var selectedSoldUnit = this.fgdSoldUnitCollection.currentItem;
        btnOkSoldUnitDeleteModal.setAttribute("disabled", "disabled");
        btnCloseSoldUnitDeleteModal.setAttribute("disabled", "disabled");
        this.soldUnitService.deleteSoldUnit(selectedSoldUnit.id);
        this.soldUnitsDeletedSub = this.soldUnitService.soldUnitDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdSoldUnitCollection.remove(selectedSoldUnit);
                btnOkSoldUnitDeleteModal.removeAttribute("disabled");
                btnCloseSoldUnitDeleteModal.removeAttribute("disabled");
                _this.mdlSoldUnitDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkSoldUnitDeleteModal.removeAttribute("disabled");
                btnCloseSoldUnitDeleteModal.removeAttribute("disabled");
            }
        });
    };
    SoldUnitList.prototype.btnCloseSoldUnitDeleteModalClick = function () {
        this.mdlSoldUnitDeleteShow = false;
    };
    SoldUnitList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/soldUnit/soldUnit.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__soldUnit_service__["a" /* SoldUnitService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], SoldUnitList);
    return SoldUnitList;
}());



/***/ }),

/***/ "../../../../../src/app/soldUnit/soldUnit.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SoldUnitService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var SoldUnitService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function SoldUnitService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // list (sold units)
        this.soldUnitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitsObservable = this.soldUnitsSource.asObservable();
        // list operations, e.g., delete
        this.soldUnitDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitDeletedObservable = this.soldUnitDeletedSource.asObservable();
        // detail (sold unit)
        this.soldUnitSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitObservable = this.soldUnitSource.asObservable();
        // detail operations, e.g., saving, locking, unlocking
        this.soldUnitSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitSavedObservable = this.soldUnitSavedSource.asObservable();
        this.soldUnitLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitLockedObservable = this.soldUnitLockedSource.asObservable();
        this.soldUnitUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitUnlockedObservable = this.soldUnitUnlockedSource.asObservable();
        this.soldUnitCancelSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitCancelObservable = this.soldUnitCancelSource.asObservable();
        // detail combo boxes
        this.projectsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectsObservable = this.projectsSource.asObservable();
        this.unitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitsObservable = this.unitsSource.asObservable();
        this.checklistsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistsObservable = this.checklistsSource.asObservable();
        this.customersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customersObservable = this.customersSource.asObservable();
        this.brokersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokersObservable = this.brokersSource.asObservable();
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
        // detail line1 (checklist requirements) list
        this.soldUnitRequirementsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementsObservable = this.soldUnitRequirementsSource.asObservable();
        // detail line1 (checklist requirements) detail attachment blob
        this.soldUnitRequirementAttachmentSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementAttachmentObservable = this.soldUnitRequirementAttachmentSource.asObservable();
        // detail line1 line1 (checklist requirements activities) list
        this.soldUnitRequirementActivitiesSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementActivitiesObservable = this.soldUnitRequirementActivitiesSource.asObservable();
        // detail line1 (checklist requirements) detail operations, e.g., saved, etc.
        this.soldUnitRequirementSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementSavedObservable = this.soldUnitRequirementSavedSource.asObservable();
        // detail line1 line1 (checklist requirement activities) detail operations
        this.soldUnitRequirementAcvititySavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementActivitySavedObservable = this.soldUnitRequirementAcvititySavedSource.asObservable();
        this.soldUnitRequirementAcvitityAddSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementActivityAddObservable = this.soldUnitRequirementAcvitityAddSource.asObservable();
        this.soldUnitRequirementAcvitityDeleteSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementActivityDeleteObservable = this.soldUnitRequirementAcvitityDeleteSource.asObservable();
        // detail line2 (equity payment schedule) list
        this.soldUnitEquityScheduleSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitEquityScheduleObservable = this.soldUnitEquityScheduleSource.asObservable();
        // detail line2 (equity payment schedule) detail operations, e.g., saved, etc.
        this.soldUnitEquityPaymentSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitEquityPaymentSavedObservable = this.soldUnitEquityPaymentSavedSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // list
    SoldUnitService.prototype.getSoldUnitsPerDates = function (dateStart, dateEnd) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/ListPerDates/" + dateStart + "/" + dateEnd;
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnits.push({
                        id: results[i].Id,
                        soldUnitNumber: results[i].SoldUnitNumber,
                        soldUnitDate: results[i].SoldUnitDate,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        unitId: results[i].UnitId,
                        unit: results[i].Unit,
                        customerId: results[i].CustomerId,
                        customer: results[i].Customer,
                        brokerId: results[i].BrokerId,
                        broker: results[i].Broker,
                        agent: results[i].Agent,
                        brokerCoordinator: results[i].BrokerCoordinator,
                        checklistId: results[i].ChecklistId,
                        checklist: results[i].Checklist,
                        price: results[i].Price,
                        equityValue: results[i].EquityValue,
                        equityPercent: results[i].EquityPercent,
                        discount: results[i].Discount,
                        reservation: results[i].Reservation,
                        netEquity: results[i].NetEquity,
                        netEquityInterest: results[i].NetEquityInterest,
                        netEquityNoOfPayments: results[i].NetEquityNoOfPayments,
                        netEquityAmortization: results[i].NetEquityAmortization,
                        balance: results[i].Balance,
                        balanceInterest: results[i].BalanceInterest,
                        balanceNoOfPayments: results[i].BalanceNoOfPayments,
                        balanceAmortization: results[i].BalanceAmortization,
                        totalInvestment: results[i].TotalInvestment,
                        paymentOptions: results[i].PaymentOptions,
                        financing: results[i].Financing,
                        remarks: results[i].Remarks,
                        preparedBy: results[i].PreparedBy,
                        preparedByUser: results[i].PreparedByUser,
                        checkedBy: results[i].CheckedBy,
                        checkedByUser: results[i].CheckedByUser,
                        approvedBy: results[i].ApprovedBy,
                        approvedByUser: results[i].ApprovedByUser,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.soldUnitsSource.next(soldUnits);
            }
            else {
                _this.soldUnitsSource.next(soldUnits);
                _this.toastr.error("No sold units for this date range.");
            }
        });
    };
    // detail
    SoldUnitService.prototype.getSoldUnit = function (id) {
        var _this = this;
        var soldUnit;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                soldUnit = {
                    id: result.Id,
                    soldUnitNumber: result.SoldUnitNumber,
                    soldUnitDate: result.SoldUnitDate,
                    projectId: result.ProjectId,
                    project: result.Project,
                    unitId: result.UnitId,
                    unit: result.Unit,
                    customerId: result.CustomerId,
                    customer: result.Customer,
                    brokerId: result.BrokerId,
                    broker: result.Broker,
                    agent: result.Agent,
                    brokerCoordinator: result.BrokerCoordinator,
                    checklistId: result.ChecklistId,
                    checklist: result.Checklist,
                    price: result.Price,
                    equityValue: result.EquityValue,
                    equityPercent: result.EquityPercent,
                    discount: result.Discount,
                    reservation: result.Reservation,
                    netEquity: result.NetEquity,
                    netEquityInterest: result.NetEquityInterest,
                    netEquityNoOfPayments: result.NetEquityNoOfPayments,
                    netEquityAmortization: result.NetEquityAmortization,
                    balance: result.Balance,
                    balanceInterest: result.BalanceInterest,
                    balanceNoOfPayments: result.BalanceNoOfPayments,
                    balanceAmortization: result.BalanceAmortization,
                    totalInvestment: result.TotalInvestment,
                    paymentOptions: result.PaymentOptions,
                    financing: result.Financing,
                    remarks: result.Remarks,
                    preparedBy: result.PreparedBy,
                    preparedByUser: result.PreparedByUser,
                    checkedBy: result.CheckedBy,
                    checkedByUser: result.CheckedByUser,
                    approvedBy: result.ApprovedBy,
                    approvedByUser: result.ApprovedByUser,
                    status: result.Status,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime
                };
                _this.soldUnitSource.next(soldUnit);
            }
            else {
                _this.toastr.error("No sold unit.");
                setTimeout(function () {
                    _this.router.navigate(["/soldUnit"]);
                }, 1000);
            }
        });
    };
    // detail line1 (checklist requirements) - new list and existing list
    SoldUnitService.prototype.getNewSoldUnitRequirements = function (soldUnitId, checklistId) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirement/ListNewTrnSoldUnitRequirements/" + soldUnitId + "/" + checklistId;
        var soldUnitRequirements = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitRequirements.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        checklistRequirementId: results[i].ChecklistRequirementId,
                        checklistRequirement: results[i].ChecklistRequirement,
                        checklistRequirementNo: results[i].ChecklistRequirementNo,
                        checklistCategory: results[i].ChecklistCategory,
                        checklistType: results[i].ChecklistType,
                        checklistWithAttachments: results[i].ChecklistWithAttachments,
                        attachment1: results[i].Attachment1 == null ? "" : results[i].Attachment1,
                        attachment2: results[i].Attachment2 == null ? "" : results[i].Attachment2,
                        attachment3: results[i].Attachment3 == null ? "" : results[i].Attachment3,
                        attachment4: results[i].Attachment4 == null ? "" : results[i].Attachment4,
                        attachment5: results[i].Attachment5 == null ? "" : results[i].Attachment5,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        statusDate: results[i].StatusDate,
                    });
                }
                _this.soldUnitRequirementsSource.next(soldUnitRequirements);
            }
            else {
                _this.soldUnitRequirementsSource.next(soldUnitRequirements);
                _this.toastr.error("No requirements for this sold unit.");
            }
        });
    };
    SoldUnitService.prototype.getSoldUnitRequirements = function (soldUnitId) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirement/ListPerUnitSold/" + soldUnitId;
        var soldUnitRequirements = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitRequirements.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        checklistRequirementId: results[i].ChecklistRequirementId,
                        checklistRequirement: results[i].ChecklistRequirement,
                        checklistRequirementNo: results[i].ChecklistRequirementNo,
                        checklistCategory: results[i].ChecklistCategory,
                        checklistType: results[i].ChecklistType,
                        checklistWithAttachments: results[i].ChecklistWithAttachments,
                        attachment1: results[i].Attachment1 == null ? "" : results[i].Attachment1,
                        attachment2: results[i].Attachment2 == null ? "" : results[i].Attachment2,
                        attachment3: results[i].Attachment3 == null ? "" : results[i].Attachment3,
                        attachment4: results[i].Attachment4 == null ? "" : results[i].Attachment4,
                        attachment5: results[i].Attachment5 == null ? "" : results[i].Attachment5,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        statusDate: results[i].StatusDate,
                    });
                }
                _this.soldUnitRequirementsSource.next(soldUnitRequirements);
            }
            else {
                _this.soldUnitRequirementsSource.next(soldUnitRequirements);
                _this.toastr.error("No requirements for this sold unit.");
            }
        });
    };
    // detail line1 line1 (checklist requirement activities)
    SoldUnitService.prototype.getSoldUnitRequirementActivities = function (soldUnitRequirementId) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/ListPerSoldUnitRequirement/" + soldUnitRequirementId;
        var soldUnitRequirementActivities = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitRequirementActivities.push({
                        id: results[i].Id,
                        soldUnitRequirementId: results[i].SoldUnitRequirementId,
                        activityDate: results[i].ActivityDate,
                        activity: results[i].Activity,
                        remarks: results[i].Remarks,
                        userId: results[i].UserId,
                        user: results[i].User
                    });
                }
                _this.soldUnitRequirementActivitiesSource.next(soldUnitRequirementActivities);
            }
            else {
                _this.soldUnitRequirementActivitiesSource.next(soldUnitRequirementActivities);
                _this.toastr.error("No activities for this sold unit requirement.");
            }
        });
    };
    // detail line2 (equity payment schedule)
    SoldUnitService.prototype.getNewSoldUnitEquitySchedule = function (soldUnitId) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitEquitySchedule/ListNewTrnSoldUnitEquitySchedule/" + soldUnitId;
        var soldUnitEquitySchedule = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitEquitySchedule.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        paymentDate: results[i].PaymentDate,
                        amortization: results[i].Amortization,
                        checkNumber: results[i].CheckNumber,
                        checkDate: results[i].CheckDate,
                        checkBank: results[i].CheckBank,
                        remarks: results[i].Remarks
                    });
                }
                _this.soldUnitEquityScheduleSource.next(soldUnitEquitySchedule);
            }
            else {
                _this.soldUnitEquityScheduleSource.next(soldUnitEquitySchedule);
                _this.toastr.error("No equity payment schedule for this sold unit.");
            }
        });
    };
    SoldUnitService.prototype.getSoldUnitEquitySchedule = function (soldUnitId) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitEquitySchedule/ListPerUnitSold/" + soldUnitId;
        var soldUnitEquitySchedule = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitEquitySchedule.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        paymentDate: results[i].PaymentDate,
                        amortization: results[i].Amortization,
                        checkNumber: results[i].CheckNumber,
                        checkDate: results[i].CheckDate,
                        checkBank: results[i].CheckBank,
                        remarks: results[i].Remarks
                    });
                }
                _this.soldUnitEquityScheduleSource.next(soldUnitEquitySchedule);
            }
            else {
                _this.soldUnitEquityScheduleSource.next(soldUnitEquitySchedule);
                _this.toastr.error("No equity payment schedule for this sold unit.");
            }
        });
    };
    // detail combo boxes
    SoldUnitService.prototype.getProjects = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/List";
        var projects = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    projects.push({
                        id: results[i].Id,
                        projectCode: results[i].ProjectCode,
                        project: results[i].Project,
                        address: results[i].Address,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.projectsSource.next(projects);
            }
            else {
                _this.toastr.error("No projects.");
            }
        });
    };
    SoldUnitService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.dropDownsSource.next(dropDowns);
                _this.toastr.error("No dropdowns.");
            }
        });
    };
    SoldUnitService.prototype.getUnitsPerProject = function (projectId) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/ListPerProjectId/" + projectId;
        var units = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    if (results[i].Status == "OPEN") {
                        units.push({
                            id: results[i].Id,
                            unitCode: results[i].UnitCode,
                            block: results[i].Block,
                            lot: results[i].Lot,
                            projectId: results[i].ProjectId,
                            project: results[i].Project,
                            houseModelId: results[i].HouseModelId,
                            houseModel: results[i].HouseModel,
                            tla: results[i].TLA,
                            tfa: results[i].TFA,
                            price: results[i].Price,
                            status: results[i].Status,
                            isLocked: results[i].IsLocked,
                            createdBy: results[i].CreatedBy,
                            createdDateTime: results[i].CreatedDateTime,
                            updatedBy: results[i].UpdatedBy,
                            updatedDateTime: results[i].UpdatedDateTime,
                        });
                    }
                }
                _this.unitsSource.next(units);
            }
            else {
                _this.unitsSource.next(units);
                _this.toastr.error("No units for this project.");
            }
        });
    };
    SoldUnitService.prototype.getChecklistsPerProject = function (projectId) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstChecklist/ListPerProjectId/" + projectId;
        var checklists = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    checklists.push({
                        id: results[i].Id,
                        checklistCode: results[i].ChecklistCode,
                        checklist: results[i].Checklist,
                        checklistDate: results[i].ChecklistDate,
                        projectId: results[i].ProjectId,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.checklistsSource.next(checklists);
            }
            else {
                _this.checklistsSource.next(checklists);
                _this.toastr.error("No checklist for this project.");
            }
        });
    };
    SoldUnitService.prototype.getCustomers = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/List";
        var customers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    customers.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.customersSource.next(customers);
            }
            else {
                _this.toastr.error("No customers.");
            }
        });
    };
    SoldUnitService.prototype.getBrokers = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/List";
        var brokers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    brokers.push({
                        id: results[i].Id,
                        fullName: results[i].FullName + "   (" + results[i].RealtyFirm + ")"
                    });
                }
                _this.brokersSource.next(brokers);
            }
            else {
                _this.toastr.error("No brokers.");
            }
        });
    };
    SoldUnitService.prototype.getUsers = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var users = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.usersSource.next(users);
            }
            else {
                _this.toastr.error("No brokers.");
            }
        });
    };
    // upload attachments
    SoldUnitService.prototype.uploadSoldUnitAttachment = function (file, fileName) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/Blob/Upload";
        var blob;
        var formData = new FormData();
        formData.append("image", file, fileName);
        this.http
            .post(url, formData)
            .subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                blob = {
                    fileName: results[0].FileName,
                    fileUrl: results[0].FileUrl,
                    fileSizeInBytes: results[0].FileSizeInBytes,
                    fileSizeInKb: results[0].FileSizeInKb,
                };
                _this.soldUnitRequirementAttachmentSource.next(blob);
                _this.toastr.success("Upload successful.");
            }
            else {
                _this.soldUnitRequirementAttachmentSource.next(blob);
                _this.toastr.error("Uploading failed.");
            }
        }, function (error) {
            _this.soldUnitRequirementAttachmentSource.next(blob);
            _this.toastr.error("Server error.");
        });
    };
    // list operations
    SoldUnitService.prototype.addSoldUnit = function (soldUnit, btnAddSoldUnit) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Add";
        this.http.post(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/soldUnit', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddSoldUnit.removeAttribute("disabled");
                btnAddSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddSoldUnit.removeAttribute("disabled");
            btnAddSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    SoldUnitService.prototype.deleteSoldUnit = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.soldUnitDeletedSource.next(1);
        }, function (error) {
            _this.soldUnitDeletedSource.next(0);
        });
    };
    SoldUnitService.prototype.transferSoldUnit = function (soldUnit) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Transfer";
        this.http.put(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Transfer successful.");
                setTimeout(function () {
                    _this.router.navigate(['/soldUnit']);
                }, 1000);
                setTimeout(function () {
                    _this.router.navigate(['/soldUnit', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Transfer failed.");
            }
        }, function (error) {
            _this.toastr.error("Server error.");
        });
    };
    // detail operations
    SoldUnitService.prototype.saveSoldUnit = function (soldUnit) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Save";
        this.http.put(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            _this.soldUnitSavedSource.next(1);
        }, function (error) {
            _this.soldUnitSavedSource.next(0);
        });
    };
    SoldUnitService.prototype.lockSoldUnit = function (soldUnit) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Lock";
        this.http.put(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            _this.soldUnitLockedSource.next(1);
        }, function (error) {
            _this.soldUnitLockedSource.next(0);
        });
    };
    SoldUnitService.prototype.unlockSoldUnit = function (soldUnit) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Unlock";
        this.http.put(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            _this.soldUnitUnlockedSource.next(1);
        }, function (error) {
            _this.soldUnitUnlockedSource.next(0);
        });
    };
    SoldUnitService.prototype.cancelSoldUnit = function (soldUnit) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Cancel";
        this.http.put(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            _this.soldUnitCancelSource.next(1);
        }, function (error) {
            _this.soldUnitCancelSource.next(0);
        });
    };
    // detail line1 (checklist requirements) operations
    SoldUnitService.prototype.saveSoldUnitRequirement = function (soldUnitRequirement) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirement/Save";
        this.http.put(url, JSON.stringify(soldUnitRequirement), this.options).subscribe(function (response) {
            _this.soldUnitRequirementSavedSource.next(1);
        }, function (error) {
            _this.soldUnitRequirementSavedSource.next(0);
        });
    };
    // detail line1 line (checklist requirement activities) operations
    SoldUnitService.prototype.saveSoldUnitRequirementActivity = function (soldUnitRequirementActivity) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/Save";
        this.http.put(url, JSON.stringify(soldUnitRequirementActivity), this.options).subscribe(function (response) {
            _this.soldUnitRequirementAcvititySavedSource.next(1);
        }, function (error) {
            _this.soldUnitRequirementAcvititySavedSource.next(0);
        });
    };
    SoldUnitService.prototype.addSoldUnitRequirementActivity = function (soldUnitRequirementActivity) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/Add";
        this.http.post(url, JSON.stringify(soldUnitRequirementActivity), this.options).subscribe(function (response) {
            _this.soldUnitRequirementAcvitityAddSource.next(1);
        }, function (error) {
            _this.soldUnitRequirementAcvitityAddSource.next(0);
        });
    };
    SoldUnitService.prototype.deleteSoldUnitRequirementActivity = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.soldUnitRequirementAcvitityDeleteSource.next(1);
        }, function (error) {
            _this.soldUnitRequirementAcvitityDeleteSource.next(0);
        });
    };
    // detail line2 (equity payment schedule) operations
    SoldUnitService.prototype.saveSoldUnitEquitySchedule = function (soldUnitEquitySchedule) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitEquitySchedule/Save";
        this.http.put(url, JSON.stringify(soldUnitEquitySchedule), this.options).subscribe(function (response) {
            _this.soldUnitEquityPaymentSavedSource.next(1);
        }, function (error) {
            _this.soldUnitEquityPaymentSavedSource.next(0);
        });
    };
    SoldUnitService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], SoldUnitService);
    return SoldUnitService;
}());



/***/ }),

/***/ "../../../../../src/app/unit/unit.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/unit\">Unit List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, e.g., save, lock, unlock, etc. -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnLockUnit\" [disabled]=\"unit.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockUnitClick()\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button id=\"btnUnlockUnit\" [disabled]=\"!unit.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockUnitClick()\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button id=\"btnSaveUnit\" [disabled]=\"unit.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveUnitClick()\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button id=\"btnCloseUnit\" class=\"btn btn-danger\" routerLink=\"/unit\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- detail fields -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Unit Code</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"unit.unitCode\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Block No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input #txtBlock [(ngModel)]=\"unit.block\" [disabled]=\"unit.isLocked\" (input)=\"txtBlockKeyup()\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Lot No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input #txtLot [(ngModel)]=\"unit.lot\" [disabled]=\"unit.isLocked\" (input)=\"txtBlockKeyup()\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Project</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"unit.project\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Model</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbHouseModel [itemsSource]=\"cmbHouseModelData\" [isDisabled]=\"unit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'houseModel'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"unit.houseModelId\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Total Lot Area (sqm)</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"unit.tla\" [isDisabled]=\"unit.isLocked\">\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Total Floor Area (sqm)</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"unit.tfa\" [isDisabled]=\"unit.isLocked\">\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Price</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"unit.price\" format=\"n2\" [isDisabled]=\"unit.isLocked\">\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box [itemsSource]=\"cmbUnitStatusData\" [isDisabled]=\"unit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'description'\"\r\n                                    [selectedValuePath]=\"'value'\" [(text)]=\"unit.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n\r\n\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n        <br />\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h6>Change Price History</h6>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdUnitPrices [itemsSource]=\"fgdUnitPricesCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'priceDate'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdUnitPricesCollection.pageIndex + 1 }} / {{ fgdUnitPricesCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n\r\n        </div>\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"unit\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->"

/***/ }),

/***/ "../../../../../src/app/unit/unit.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UnitDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__unit_service__ = __webpack_require__("../../../../../src/app/unit/unit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var UnitDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UnitDetail(unitService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.unitService = unitService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Unit Detail';
        // model(s)
        this.unit = {
            id: 0,
            unitCode: "",
            block: "",
            lot: "",
            projectId: 0,
            project: "",
            houseModelId: 0,
            houseModel: "",
            tla: 0,
            tfa: 0,
            price: 0,
            status: "OPEN",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString,
            customer: ""
        };
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    UnitDetail.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdUnitPricesData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdUnitPricesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdUnitPricesData);
        if (this.securityService.openPage("UNIT DETAIL") == true) {
            this.getUnit();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    UnitDetail.prototype.ngOnDestroy = function () {
        if (this.unitSub != null)
            this.unitSub.unsubscribe();
        if (this.unitSavedSub != null)
            this.unitSavedSub.unsubscribe();
        if (this.unitLockedSub != null)
            this.unitLockedSub.unsubscribe();
        if (this.unitUnlockedSub != null)
            this.unitUnlockedSub.unsubscribe();
        if (this.cmbHouseModelSub != null)
            this.cmbHouseModelSub.unsubscribe();
        if (this.cmbUnitStatusSub != null)
            this.cmbUnitStatusSub.unsubscribe();
        if (this.unitPricesSub != null)
            this.unitPricesSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    UnitDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    UnitDetail.prototype.getUnit = function () {
        var _this = this;
        this.unitService.getUnit(this.getIdParameter());
        this.unitSub = this.unitService.unitObservable
            .subscribe(function (data) {
            _this.unit.id = data.id;
            _this.unit.unitCode = data.unitCode;
            _this.unit.block = data.block;
            _this.unit.lot = data.lot;
            _this.unit.projectId = data.projectId;
            _this.unit.project = data.project;
            _this.unit.houseModelId = data.houseModelId;
            _this.unit.houseModel = data.houseModel;
            _this.unit.tla = data.tla;
            _this.unit.tfa = data.tfa;
            _this.unit.price = data.price;
            _this.unit.status = data.status;
            _this.unit.isLocked = data.isLocked;
            _this.unit.createdBy = data.createdBy;
            _this.unit.createdDateTime = data.createdDateTime;
            _this.unit.updatedBy = data.updatedBy;
            _this.unit.updatedDateTime = data.updatedDateTime;
            _this.getHouseModelsPerProject(data.houseModelId);
            _this.getUnitStatuses(data.status);
            _this.getUnitPrices(data.id);
        });
    };
    UnitDetail.prototype.getUnitPrices = function (unitId) {
        var _this = this;
        this.unitService.getUnitPricesPerUnitId(unitId);
        this.unitPricesSub = this.unitService.unitPricesObservable.subscribe(function (data) {
            console.log(data);
            _this.fgdUnitPricesData = data;
            _this.fgdUnitPricesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdUnitPricesData);
            _this.fgdUnitPricesCollection.pageSize = 15;
            _this.fgdUnitPricesCollection.trackChanges = true;
        });
    };
    // combo boxes
    UnitDetail.prototype.getHouseModelsPerProject = function (defaultValue) {
        var _this = this;
        this.unitService.getHouseModelsPerProject(this.unit.projectId);
        this.cmbHouseModelSub = this.unitService.houseModelsObservable.subscribe(function (data) {
            _this.cmbHouseModelData = data;
            setTimeout(function () {
                _this.unit.houseModelId = defaultValue;
            }, 100);
        });
    };
    UnitDetail.prototype.getUnitStatuses = function (defaultValue) {
        var _this = this;
        this.unitService.getDropDowns();
        this.cmbUnitStatusSub = this.unitService.dropDownsObservable.subscribe(function (data) {
            var unitStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "UNIT STATUS") {
                        unitStatuses.push({
                            id: data[i].id,
                            category: data[i].category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbUnitStatusData = unitStatuses;
            setTimeout(function () {
                _this.unit.status = defaultValue;
            }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    UnitDetail.prototype.btnSaveUnitClick = function () {
        var _this = this;
        var btnSaveUnit = document.getElementById("btnSaveUnit");
        btnSaveUnit.setAttribute("disabled", "disabled");
        btnSaveUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.unitService.saveUnit(this.unit);
        this.unitSavedSub = this.unitService.unitSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveUnit.removeAttribute("disabled");
                btnSaveUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveUnit.removeAttribute("disabled");
                btnSaveUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    UnitDetail.prototype.btnLockUnitClick = function () {
        var _this = this;
        var btnLockUnit = document.getElementById("btnLockUnit");
        btnLockUnit.setAttribute("disabled", "disabled");
        btnLockUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.unitService.lockUnit(this.unit);
        this.unitLockedSub = this.unitService.unitLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.unit.isLocked = true;
                btnLockUnit.removeAttribute("disabled");
                btnLockUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockUnit.removeAttribute("disabled");
                btnLockUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    UnitDetail.prototype.btnUnlockUnitClick = function () {
        var _this = this;
        var btnUnlockUnit = document.getElementById("btnUnlockUnit");
        btnUnlockUnit.setAttribute("disabled", "disabled");
        btnUnlockUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.unitService.unlockUnit(this.unit);
        this.unitUnlockedSub = this.unitService.unitUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.unit.isLocked = false;
                btnUnlockUnit.removeAttribute("disabled");
                btnUnlockUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockUnit.removeAttribute("disabled");
                btnUnlockUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    // unit code events
    UnitDetail.prototype.txtBlockKeyup = function () {
        this.unit.unitCode = this.unit.block + this.unit.lot;
    };
    UnitDetail.prototype.txtLotKeyup = function () {
        this.unit.unitCode = this.unit.block + this.unit.lot;
    };
    UnitDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/unit/unit.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__unit_service__["a" /* UnitService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], UnitDetail);
    return UnitDetail;
}());



/***/ }),

/***/ "../../../../../src/app/unit/unit.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumb -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnChangePriceUnit\" class=\"btn btn-primary\" (click)=\"btnChangePriceUnitClick()\">\r\n                                <i class=\"fa fa-eraser fa-fw\"></i> Update Prices\r\n                            </button>\r\n                            <button id=\"btnCSVUnit\" class=\"btn btn-primary\" (click)=\"btnCSVUnitClick()\">\r\n                                <i class=\"fa fa-file-excel-o fa-fw\"></i> CSV\r\n                            </button>\r\n                            <button class=\"btn btn-primary\" (click)=\"btnAddUnitClick()\" id=\"btnAddUnit\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button id=\"btnCloseUnit\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- dropdown filters -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Project:\r\n                                </span>\r\n                                <wj-combo-box #cmbProjects [itemsSource]=\"cmbProjectsData\" [placeholder]=\"'Select Project'\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'project'\" [selectedValuePath]=\"'id'\" (selectedIndexChanged)=\"cmbProjectsChange()\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 75%;\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdUnits [itemsSource]=\"fgdUnitsCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditUnitClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteUnitClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'unitCode'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Block'\" [binding]=\"'block'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Lot'\" [binding]=\"'lot'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'House Model'\" [binding]=\"'houseModel'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Floor Area'\" [binding]=\"'tfa'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Lot Area'\" [binding]=\"'tla'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'customer'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdUnitsCollection.pageIndex + 1 }} / {{ fgdUnitsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdUnitsCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete unit modal -->\r\n<div id=\"mdlUnitDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlUnitDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Unit</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdUnitsCollection.currentItem != null ? fgdUnitsCollection.currentItem.unitCode : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkUnitDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkUnitDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseUnitDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseUnitDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- change unit price modal -->\r\n<div id=\"mdlChangeBulkUnitPrice\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlChangeBulkUnitPriceShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Change Unit Price</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <label class=\"btn btn-primary\" [hidden]=\"btnUploadCSVFileHide\">\r\n                            <input type=\"file\" (change)=\"btnUploadCSVFileClick($event)\" name=\"btnUploadCSVFile\" accept=\"csv/*\" style=\"display:none;\"> Upload CSV File\r\n                        </label>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdUnitPrices [itemsSource]=\"fgdUnitPricesCollection\" [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unit'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdUnitPricesCollection.pageIndex + 1 }} / {{ fgdUnitPricesCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkChangeBulkUnitPriceModal\" class=\"btn btn-primary\" (click)=\"btnOkChangeBulkUnitPriceModalClick()\">\r\n                    <i class=\"fa fa-eraser fa-fw\"></i> Update Prices\r\n                </button>\r\n                <button id=\"btnCloseChangeBulkUnitPriceModal\" class=\"btn btn-danger\" (click)=\"btnCloseChangeBulkUnitPriceModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/unit/unit.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UnitList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__unit_service__ = __webpack_require__("../../../../../src/app/unit/unit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// services


// wijmo

// message box 

var UnitList = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UnitList(unitService, toastr, viewContainer, router, securityService, location) {
        this.unitService = unitService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Unit List';
        this.unit = {
            id: 0,
            unitCode: "NA",
            block: "NA",
            lot: "NA",
            projectId: 0,
            project: "NA",
            houseModelId: 0,
            houseModel: "NA",
            tla: 0,
            tfa: 0,
            price: 0,
            status: "OPEN",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString,
            customer: ""
        };
        // modals
        this.mdlUnitDeleteShow = false;
        this.mdlChangeBulkUnitPriceShow = false;
        this.btnUploadCSVFileHide = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    UnitList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdUnitsData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdUnitsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdUnitsData);
        this.fgdUnitPricesData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdUnitPricesCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdUnitPricesData);
        if (this.securityService.openPage("UNIT LIST") == true) {
            this.getProjects();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    UnitList.prototype.ngOnDestroy = function () {
        if (this.unitsSub != null)
            this.unitsSub.unsubscribe();
        if (this.projectsSub != null)
            this.projectsSub.unsubscribe();
        if (this.unitDeletedSub != null)
            this.unitDeletedSub.unsubscribe();
        if (this.unitUpdatePriceSub != null)
            this.unitUpdatePriceSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    // unit list
    UnitList.prototype.getUnitsPerProjectId = function (projectId) {
        var _this = this;
        var units = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.unitService.getUnitsPerProjectId(projectId);
        this.unitsSub = this.unitService.unitsObservable.subscribe(function (data) {
            _this.fgdUnitsData = data;
            _this.fgdUnitsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](_this.fgdUnitsData);
            _this.fgdUnitsCollection.pageSize = 15;
            _this.fgdUnitsCollection.trackChanges = true;
        });
    };
    // filters
    UnitList.prototype.getProjects = function () {
        var _this = this;
        this.unitService.getProjects();
        this.projectsSub = this.unitService.projectsObservable.subscribe(function (data) {
            var projectStatuses = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                _this.cmbProjectsData = data;
            }
        });
    };
    // ======
    // events
    // ======
    // filter events
    UnitList.prototype.cmbProjectsChange = function () {
        var projectId = this.cmbProjectsData[this.cmbProjects["selectedIndex"]]["id"];
        var project = this.cmbProjectsData[this.cmbProjects["selectedIndex"]]["project"];
        this.unit.projectId = projectId;
        this.unit.project = project;
        this.getUnitsPerProjectId(projectId);
    };
    // unit list operations
    UnitList.prototype.btnAddUnitClick = function () {
        var btnAddUnit = document.getElementById("btnAddUnit");
        btnAddUnit.setAttribute("disabled", "disabled");
        btnAddUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.unitService.addUnit(this.unit, btnAddUnit);
    };
    UnitList.prototype.btnDeleteUnitClick = function () {
        this.mdlUnitDeleteShow = true;
    };
    UnitList.prototype.btnEditUnitClick = function () {
        var selectedUnit = this.fgdUnitsCollection.currentItem;
        this.router.navigate(['/unit', selectedUnit.id]);
    };
    UnitList.prototype.btnCSVUnitClick = function () {
        var data = 'Unit Inventory Report' + '\r\n\n';
        var collection = this.fgdUnitsCollection;
        var fileName = "unit-inventory.csv";
        var label = '';
        for (var s in collection.items[0]) {
            label += s + ',';
        }
        label = label.slice(0, -1);
        data += label + '\r\n';
        collection.moveToFirstPage();
        for (var p = 0; p < collection.pageCount; p++) {
            for (var i = 0; i < collection.items.length; i++) {
                var row = '';
                for (var s in collection.items[i]) {
                    row += '"' + collection.items[i][s] + '",';
                }
                row.slice(0, row.length - 1);
                data += row + '\r\n';
            }
            collection.moveToNextPage();
        }
        var csvData = new Blob([data], { type: 'text/csv;charset=utf-8;' });
        var csvURL = window.URL.createObjectURL(csvData);
        var tempLink = document.createElement('a');
        tempLink.href = csvURL;
        tempLink.setAttribute('download', fileName);
        tempLink.click();
    };
    UnitList.prototype.btnChangePriceUnitClick = function () {
        this.mdlChangeBulkUnitPriceShow = true;
    };
    // delete unit modal operations
    UnitList.prototype.btnOkUnitDeleteModalClick = function () {
        var _this = this;
        var btnOkUnitDeleteModal = document.getElementById("btnOkUnitDeleteModal");
        var btnCloseUnitDeleteModal = document.getElementById("btnCloseUnitDeleteModal");
        var selectedUnit = this.fgdUnitsCollection.currentItem;
        btnOkUnitDeleteModal.setAttribute("disabled", "disabled");
        btnCloseUnitDeleteModal.setAttribute("disabled", "disabled");
        this.unitService.deleteUnit(selectedUnit.id);
        this.unitDeletedSub = this.unitService.unitDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdUnitsCollection.remove(selectedUnit);
                btnOkUnitDeleteModal.removeAttribute("disabled");
                btnCloseUnitDeleteModal.removeAttribute("disabled");
                _this.mdlUnitDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkUnitDeleteModal.removeAttribute("disabled");
                btnCloseUnitDeleteModal.removeAttribute("disabled");
            }
        });
    };
    UnitList.prototype.btnCloseUnitDeleteModalClick = function () {
        this.mdlUnitDeleteShow = false;
    };
    // change price in bulk
    UnitList.prototype.btnUploadCSVFileClick = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            var r = new FileReader();
            r.readAsText(target.files[0]);
            r.onload = function (e) {
                var csv = r.result;
                var csvLines = csv.split(/\r\n|\n/);
                var csvData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
                for (var i = 0; i < csvLines.length; i++) {
                    var data = csvLines[i].split(",");
                    if (data[0] != "") {
                        csvData.push({
                            unit: data[0].replace(/\"/gi, ''),
                            price: Number(data[1].replace(/\"/gi, ''))
                        });
                    }
                }
                _this.fgdUnitPricesData = csvData;
                _this.fgdUnitPricesCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](_this.fgdUnitPricesData);
                _this.fgdUnitPricesCollection.pageSize = 15;
                _this.fgdUnitPricesCollection.trackChanges = true;
            };
        }
        ;
    };
    UnitList.prototype.btnOkChangeBulkUnitPriceModalClick = function () {
        var _this = this;
        if (this.fgdUnitPricesData.length > 0) {
            var btnOkChangeBulkUnitPriceModal_1 = document.getElementById("btnOkChangeBulkUnitPriceModal");
            var btnCloseChangeBulkUnitPriceModal_1 = document.getElementById("btnCloseChangeBulkUnitPriceModal");
            btnOkChangeBulkUnitPriceModal_1.setAttribute("disabled", "disabled");
            btnCloseChangeBulkUnitPriceModal_1.setAttribute("disabled", "disabled");
            this.btnUploadCSVFileHide = true;
            var counter_1 = 1;
            for (var i = 0; i < this.fgdUnitPricesData.length; i++) {
                this.unitService.updateUnitPrices(this.unit.projectId, this.fgdUnitPricesData[i].unit, this.fgdUnitPricesData[i].price);
                this.unitUpdatePriceSub = this.unitService.unitUpdatePriceObservable.subscribe(function (data) {
                    if (data == 1) {
                        _this.toastr.success("Price Update successful.");
                    }
                    else if (data == 0) {
                        _this.toastr.error("Price Update failed.");
                    }
                    counter_1++;
                    if (counter_1 == _this.fgdUnitPricesData.length) {
                        btnOkChangeBulkUnitPriceModal_1.removeAttribute("disabled");
                        btnCloseChangeBulkUnitPriceModal_1.removeAttribute("disabled");
                        _this.btnUploadCSVFileHide = false;
                    }
                });
            }
        }
    };
    UnitList.prototype.btnCloseChangeBulkUnitPriceModalClick = function () {
        this.mdlChangeBulkUnitPriceShow = false;
        this.fgdUnitPricesData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdUnitPricesCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdUnitPricesData);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("cmbProjects"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], UnitList.prototype, "cmbProjects", void 0);
    UnitList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/unit/unit.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__unit_service__["a" /* UnitService */],
            __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], UnitList);
    return UnitList;
}());



/***/ }),

/***/ "../../../../../src/app/unit/unit.query.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"mdlUnitQueryModal\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': isShowing ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Unit Query</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"form-horizontal\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Project:\r\n                                </span>\r\n                                <wj-combo-box #cmbProjects [itemsSource]=\"cmbProjectsData\" [placeholder]=\"'Select Project'\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'project'\" [selectedValuePath]=\"'id'\" (selectedIndexChanged)=\"cmbProjectsChange()\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdUnits [itemsSource]=\"fgdUnitsCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                                <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                    <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnPickUnitClick()\" data-toggle=\"modal\" data-backdrop=\"static\"\r\n                                        data-keyboard=\"false\">\r\n                                        <i class=\"fa fa-edit fa-fw\"></i> Pick\r\n                                    </button>\r\n                                </ng-template>\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unitCode'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Model'\" [binding]=\"'houseModel'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'FA (sqm)'\" [binding]=\"'tfa'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'LA (sqm)'\" [binding]=\"'tla'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-12 btn-group\" id=\"\">\r\n                                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToFirstPage()\">\r\n                                    <i class=\"fa fa-fast-backward\"></i> First\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToPreviousPage()\">\r\n                                    <i class=\"fa fa-step-backward\"></i> Previous\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                    {{ fgdUnitsCollection.pageIndex + 1 }} / {{ fgdUnitsCollection.pageCount }}\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToNextPage()\">\r\n                                    Next\r\n                                    <i class=\"fa fa-step-forward\"></i>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToLastPage()\">\r\n                                    Last\r\n                                    <i class=\"fa fa-fast-forward\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnCloseUnitQueryModal\" class=\"btn btn-danger\" (click)=\"btnCloseUnitQueryModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/unit/unit.query.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UnitQuery; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__unit_service__ = __webpack_require__("../../../../../src/app/unit/unit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__model_model_mst_unit__ = __webpack_require__("../../../../../src/app/model/model.mst.unit.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular

// services

// wijmo

// model(s)

var UnitQuery = (function () {
    function UnitQuery(unitService) {
        this.unitService = unitService;
        this.pickedUnit = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    UnitQuery.prototype.ngOnInit = function () {
        this.fgdUnitsData = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["ObservableArray"]();
        this.fgdUnitsCollection = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["CollectionView"](this.fgdUnitsData);
        this.getProjects();
    };
    UnitQuery.prototype.ngOnDestroy = function () {
        if (this.unitsSub != null)
            this.unitsSub.unsubscribe();
        if (this.projectsSub != null)
            this.projectsSub.unsubscribe();
    };
    UnitQuery.prototype.ngOnChanges = function (changes) {
        this.getProjects();
    };
    // =======
    // methods
    // =======
    UnitQuery.prototype.openUnitQuery = function () {
    };
    UnitQuery.prototype.getProjects = function () {
        var _this = this;
        this.unitService.getProjects();
        this.projectsSub = this.unitService.projectsObservable.subscribe(function (data) {
            var projectStatuses = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                _this.cmbProjectsData = data;
            }
        });
    };
    UnitQuery.prototype.getUnitsPerProjectId = function (projectId) {
        var _this = this;
        var units = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["ObservableArray"]();
        this.unitService.getUnitsPerProjectId(projectId);
        this.unitsSub = this.unitService.unitsObservable.subscribe(function (data) {
            var units = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].status == "OPEN") {
                        units.push({
                            id: data[i].id,
                            unitCode: data[i].unitCode,
                            block: data[i].block,
                            lot: data[i].lot,
                            projectId: data[i].projectId,
                            project: data[i].project,
                            houseModelId: data[i].houseModelId,
                            houseModel: data[i].houseModel,
                            tla: data[i].tla,
                            tfa: data[i].tfa,
                            price: data[i].price,
                            status: data[i].status,
                            isLocked: data[i].isLocked,
                            createdBy: data[i].createdBy,
                            createdDateTime: data[i].createdDateTime,
                            updatedBy: data[i].updatedBy,
                            updatedDateTime: data[i].updatedDateTime,
                        });
                    }
                }
            }
            _this.fgdUnitsData = units;
            _this.fgdUnitsCollection = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["CollectionView"](_this.fgdUnitsData);
            _this.fgdUnitsCollection.pageSize = 7;
            _this.fgdUnitsCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    UnitQuery.prototype.btnPickUnitClick = function () {
        this.isShowing = false;
        var selectedUnit = this.fgdUnitsCollection.currentItem;
        this.pickedUnit.emit(selectedUnit);
    };
    UnitQuery.prototype.cmbProjectsChange = function () {
        var projectId = this.cmbProjectsData[this.cmbProjects["selectedIndex"]]["id"];
        var project = this.cmbProjectsData[this.cmbProjects["selectedIndex"]]["project"];
        this.getUnitsPerProjectId(projectId);
    };
    UnitQuery.prototype.btnCloseUnitQueryModalClick = function () {
        this.isShowing = false;
        this.pickedUnit.emit(new __WEBPACK_IMPORTED_MODULE_3__model_model_mst_unit__["a" /* MstUnit */]());
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Boolean)
    ], UnitQuery.prototype, "isShowing", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], UnitQuery.prototype, "pickedUnit", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("cmbProjects"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], UnitQuery.prototype, "cmbProjects", void 0);
    UnitQuery = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'unit-query',
            template: __webpack_require__("../../../../../src/app/unit/unit.query.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__unit_service__["a" /* UnitService */]])
    ], UnitQuery);
    return UnitQuery;
}());



/***/ }),

/***/ "../../../../../src/app/unit/unit.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UnitService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var UnitService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UnitService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // unit list
        this.unitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitsObservable = this.unitsSource.asObservable();
        // change unit prices history
        this.unitPricesSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitPricesObservable = this.unitPricesSource.asObservable();
        // unit detail
        this.unitSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitObservable = this.unitSource.asObservable();
        // unit list operations
        this.unitDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitDeletedObservable = this.unitDeletedSource.asObservable();
        // unit detail operations
        this.unitSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitSavedObservable = this.unitSavedSource.asObservable();
        this.unitLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitLockedObservable = this.unitLockedSource.asObservable();
        this.unitUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitUnlockedObservable = this.unitUnlockedSource.asObservable();
        this.unitUpdatePriceSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitUpdatePriceObservable = this.unitUpdatePriceSource.asObservable();
        // combo boxes
        this.projectsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectsObservable = this.projectsSource.asObservable();
        this.houseModelsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.houseModelsObservable = this.houseModelsSource.asObservable();
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // list
    UnitService.prototype.getProjects = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/List";
        var projects = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    projects.push({
                        id: results[i].Id,
                        projectCode: results[i].ProjectCode,
                        project: results[i].Project,
                        address: results[i].Address,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.projectsSource.next(projects);
            }
            else {
                _this.toastr.error("No projects.");
            }
        });
    };
    UnitService.prototype.getUnitsPerProjectId = function (projectId) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/ListPerProjectId/" + projectId;
        var units = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    units.push({
                        id: results[i].Id,
                        unitCode: results[i].UnitCode,
                        block: results[i].Block,
                        lot: results[i].Lot,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        houseModelId: results[i].HouseModelId,
                        houseModel: results[i].HouseModel,
                        tla: results[i].TLA,
                        tfa: results[i].TFA,
                        price: results[i].Price,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime,
                        customer: results[i].Customer
                    });
                }
                _this.unitsSource.next(units);
            }
            else {
                _this.unitsSource.next(units);
                _this.toastr.error("No units for this project.");
            }
        });
    };
    UnitService.prototype.getHouseModelsPerProject = function (id) {
        var _this = this;
        var houseModels = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/ListPerProjectId/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    houseModels.push({
                        id: results[i].Id,
                        houseModelCode: results[i].HouseModelCode,
                        houseModel: results[i].HouseModel,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        tfa: results[i].TFA,
                        price: results[i].Price,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime,
                    });
                }
                _this.houseModelsSource.next(houseModels);
            }
            else {
                _this.houseModelsSource.next(houseModels);
                _this.toastr.error("No models for this project.");
            }
        });
    };
    UnitService.prototype.getUnitPricesPerUnitId = function (unitId) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUnitPrice/ListPerUnitId/" + unitId;
        var unitPrices = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    unitPrices.push({
                        priceDate: results[i].PriceDate,
                        price: results[i].Price,
                        unitId: results[i].UnitId
                    });
                }
                _this.unitPricesSource.next(unitPrices);
            }
            else {
                _this.unitPricesSource.next(unitPrices);
            }
        });
    };
    // list operations
    UnitService.prototype.addUnit = function (unit, btnAddUnit) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Add";
        this.http.post(url, JSON.stringify(unit), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/unit', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddUnit.removeAttribute("disabled");
                btnAddUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddUnit.removeAttribute("disabled");
            btnAddUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    UnitService.prototype.deleteUnit = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.unitDeletedSource.next(1);
        }, function (error) {
            _this.unitDeletedSource.next(0);
        });
    };
    // detail
    UnitService.prototype.getUnit = function (id) {
        var _this = this;
        var unit;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                unit = {
                    id: result.Id,
                    unitCode: result.UnitCode,
                    block: result.Block,
                    lot: result.Lot,
                    projectId: result.ProjectId,
                    project: result.Project,
                    houseModelId: result.HouseModelId,
                    houseModel: result.HouseModel,
                    tla: result.TLA,
                    tfa: result.TFA,
                    price: result.Price,
                    status: result.Status,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime,
                    customer: result.Customer
                };
                _this.unitSource.next(unit);
            }
            else {
                _this.toastr.error("No unit.");
                setTimeout(function () {
                    _this.router.navigate(["/unit"]);
                }, 1000);
            }
        });
    };
    // detail operations
    UnitService.prototype.saveUnit = function (unit) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Save";
        this.http.put(url, JSON.stringify(unit), this.options).subscribe(function (response) {
            _this.unitSavedSource.next(1);
        }, function (error) {
            _this.unitSavedSource.next(0);
        });
    };
    UnitService.prototype.lockUnit = function (unit) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Lock";
        this.http.put(url, JSON.stringify(unit), this.options).subscribe(function (response) {
            _this.unitLockedSource.next(1);
        }, function (error) {
            _this.unitLockedSource.next(0);
        });
    };
    UnitService.prototype.unlockUnit = function (unit) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Unlock";
        this.http.put(url, JSON.stringify(unit), this.options).subscribe(function (response) {
            _this.unitUnlockedSource.next(1);
        }, function (error) {
            _this.unitUnlockedSource.next(0);
        });
    };
    UnitService.prototype.updateUnitPrices = function (projectId, unitCode, price) {
        var _this = this;
        var unitPrice = {
            projectId: projectId,
            unitCode: unitCode,
            price: price
        };
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/UpdatePrice";
        this.http.put(url, JSON.stringify(unitPrice), this.options).subscribe(function (response) {
            _this.unitUpdatePriceSource.next(1);
        }, function (error) {
            _this.unitUpdatePriceSource.next(0);
        });
    };
    // drop downs
    UnitService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.dropDownsSource.next(dropDowns);
                _this.toastr.error("No dropdowns.");
            }
        });
    };
    UnitService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], UnitService);
    return UnitService;
}());



/***/ }),

/***/ "../../../../../src/app/user/user.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/user\">User List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, e.g., save, close -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnSaveUserClick()\" id=\"btnSaveUser\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/user\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- detail fields  -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Username</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [disabled]=\"true\" [(ngModel)]=\"user.username\" type=\"text\" class=\"form-control\" placeholder=\"Username...\" id=\"username\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Name</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"user.fullName\" type=\"text\" class=\"form-control\" placeholder=\"Fullname...\" id=\"fullName\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbUserStatus [itemsSource]=\"cmbUserStatusData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                    [selectedValuePath]=\"'value'\" [(ngModel)]=\"user.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n        <br />\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <p class=\"float-right\">\r\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"btnAddUserRightsClick()\">\r\n                        <i class=\"fa fa-plus\"></i> Add\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"btnCopyUserRightsClick()\">\r\n                        <i class=\"fa fa-clone\"></i> Copy\r\n                    </button>\r\n                </p>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdUserRights [itemsSource]=\"fgdUserRightsCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditUserRightsClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteUserRightsClick()\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Page'\" [binding]=\"'page'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Edit'\" [binding]=\"'canEdit'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Save'\" [binding]=\"'canSave'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Lock'\" [binding]=\"'canLock'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Unlock'\" [binding]=\"'canUnlock'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Print'\" [binding]=\"'canPrint'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Delete'\" [binding]=\"'canDelete'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUserRightsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUserRightsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdUserRightsCollection.pageIndex + 1 }} / {{ fgdUserRightsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUserRightsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUserRightsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <app-footer [data]=\"user\"></app-footer>\r\n</div>\r\n\r\n<!-- delete user right modal -->\r\n<div id=\"mdlUserRightDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlUserRightDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete User Rights</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdUserRightsCollection.currentItem != null ? fgdUserRightsCollection.currentItem.page : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkUserRightDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkUserRightDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseUserRightDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseUserRightDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- copy user right modal -->\r\n<div id=\"mdlUserRightCopy\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlUserRightCopyShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Copy User Rights</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Username</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"copyUserRights\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnOkUserRightCopyModal\" class=\"btn btn-success\" (click)=\"btnOkUserRightCopyModalClick()\">\r\n                    <i class=\"fa fa-clone fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnCloseUserRightCopyModal\" class=\"btn btn-primary\" (click)=\"btnCloseUserRightCopyModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- edit user right modal -->\r\n<div id=\"mdlUserRightEdit\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlUserRightEditShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Edit User Rights</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Page</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-combo-box #cmbUserRightPages [itemsSource]=\"cmbUserRightPagesData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'page'\"\r\n                            [selectedValuePath]=\"'id'\" [(ngModel)]=\"userRight.pageId\">\r\n                        </wj-combo-box>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Edit</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canEdit\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Save</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canSave\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Lock</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canLock\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Unlock</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canUnlock\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Print</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canPrint\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Delete</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canDelete\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveUserRightEdit\" class=\"btn btn-success\" (click)=\"btnSaveUserRightEditClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseUserRightEdit\" class=\"btn btn-danger\" (click)=\"btnCloseUserRightEditClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/user/user.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__user_service__ = __webpack_require__("../../../../../src/app/user/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var UserDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UserDetail(userService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.userService = userService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // =================
        // public properties
        // =================
        this.title = 'User Detail';
        // model(s)
        this.user = {
            id: 0,
            username: "",
            fullName: "",
            password: "",
            status: "",
            aspNetId: ""
        };
        this.userRight = {
            id: 0,
            userId: 0,
            user: "",
            pageId: 0,
            page: "",
            pageUrl: "",
            canEdit: false,
            canSave: false,
            canLock: false,
            canUnlock: false,
            canPrint: false,
            canDelete: false
        };
        // modal(s)
        this.mdlUserRightDeleteShow = false;
        this.mdlUserRightEditShow = false;
        this.mdlUserRightCopyShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    UserDetail.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdUserRightsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdUserRightsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdUserRightsData);
        if (this.securityService.openPage("USER DETAIL") == true) {
            this.getUser();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    UserDetail.prototype.ngOnDestroy = function () {
        if (this.userSub != null)
            this.userSub.unsubscribe();
        if (this.userSavedSub != null)
            this.userSavedSub.unsubscribe();
        if (this.userStatusesSub != null)
            this.userStatusesSub.unsubscribe();
        if (this.userRightsSub != null)
            this.userRightsSub.unsubscribe();
        if (this.userRightDeletedSub != null)
            this.userRightDeletedSub.unsubscribe();
        if (this.userRightPagesSub != null)
            this.userRightPagesSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    UserDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    UserDetail.prototype.getUser = function () {
        var _this = this;
        this.userService.getUser(this.getIdParameter());
        this.userSub = this.userService.userObservable
            .subscribe(function (data) {
            _this.user.id = data.id;
            _this.user.username = data.username;
            _this.user.fullName = data.fullName;
            _this.user.password = data.password;
            _this.user.status = data.status;
            _this.user.aspNetId = data.aspNetId;
            _this.getUserStatuses(data);
            _this.getUserRights();
        });
    };
    // detail comboxes
    UserDetail.prototype.getUserStatuses = function (detail) {
        var _this = this;
        this.userService.getDropDowns();
        this.userStatusesSub = this.userService.dropDownsObservable.subscribe(function (data) {
            var userStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "USER STATUS") {
                        userStatuses.push({
                            id: data[i].id,
                            category: data[i].category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbUserStatusData = userStatuses;
            setTimeout(function () {
                _this.user.status = detail.status;
            }, 100);
        });
    };
    // detail line1 (user rights)
    UserDetail.prototype.getUserRights = function () {
        var _this = this;
        this.userService.getUserRightsPerUser(this.user.id);
        this.userRightsSub = this.userService.userRightsObservable.subscribe(function (data) {
            _this.fgdUserRightsData = data;
            _this.fgdUserRightsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdUserRightsData);
            _this.fgdUserRightsCollection.pageSize = 15;
            _this.fgdUserRightsCollection.trackChanges = true;
        });
    };
    // detail line1 (user rights) combo boxes
    UserDetail.prototype.getUserRightPages = function () {
        var _this = this;
        this.userService.getPages();
        this.userRightPagesSub = this.userService.pagesObservable.subscribe(function (data) {
            var userRightPages = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    userRightPages.push({
                        id: data[i].id,
                        page: data[i].page,
                        url: data[i].url
                    });
                }
            }
            _this.cmbUserRightPagesData = userRightPages;
            setTimeout(function () {
                var selectedUserRight = _this.fgdUserRightsCollection.currentItem;
                _this.userRight.pageId = selectedUserRight.pageId;
            }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    UserDetail.prototype.btnSaveUserClick = function () {
        var _this = this;
        var btnSaveUser = document.getElementById("btnSaveUser");
        btnSaveUser.setAttribute("disabled", "disabled");
        btnSaveUser.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.userService.saveUser(this.user);
        this.userSub = this.userService.userSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveUser.removeAttribute("disabled");
                btnSaveUser.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveUser.removeAttribute("disabled");
                btnSaveUser.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    // detail line1 (user rights) list operations
    UserDetail.prototype.btnAddUserRightsClick = function () {
        this.userRight.id = 0;
        this.userRight.userId = this.user.id;
        this.userRight.user = this.user.username;
        this.userRight.pageId = 0;
        this.userRight.page = "";
        this.userRight.canEdit = false;
        this.userRight.canSave = false;
        this.userRight.canLock = false;
        this.userRight.canUnlock = false;
        this.userRight.canPrint = false;
        this.userRight.canDelete = false;
        this.mdlUserRightEditShow = true;
        this.getUserRightPages();
    };
    UserDetail.prototype.btnCopyUserRightsClick = function () {
        this.mdlUserRightCopyShow = true;
    };
    UserDetail.prototype.btnEditUserRightsClick = function () {
        var selectedUserRight = this.fgdUserRightsCollection.currentItem;
        this.userRight.id = selectedUserRight.id;
        this.userRight.userId = selectedUserRight.userId;
        this.userRight.user = selectedUserRight.user;
        this.userRight.pageId = selectedUserRight.pageId;
        this.userRight.page = selectedUserRight.page;
        this.userRight.canEdit = selectedUserRight.canEdit;
        this.userRight.canSave = selectedUserRight.canSave;
        this.userRight.canLock = selectedUserRight.canLock;
        this.userRight.canUnlock = selectedUserRight.canUnlock;
        this.userRight.canPrint = selectedUserRight.canPrint;
        this.userRight.canDelete = selectedUserRight.canDelete;
        this.mdlUserRightEditShow = true;
        this.getUserRightPages();
    };
    UserDetail.prototype.btnDeleteUserRightsClick = function () {
        this.mdlUserRightDeleteShow = true;
    };
    // detail line1 (user rights) delete modal operations
    UserDetail.prototype.btnOkUserRightDeleteModalClick = function () {
        var _this = this;
        var btnOkUserRightDeleteModal = document.getElementById("btnOkUserRightDeleteModal");
        var btnCloseUserRightDeleteModal = document.getElementById("btnCloseUserRightDeleteModal");
        btnOkUserRightDeleteModal.setAttribute("disabled", "disabled");
        btnCloseUserRightDeleteModal.setAttribute("disabled", "disabled");
        var selectedUserRight = this.fgdUserRightsCollection.currentItem;
        this.userService.deleteUserRight(selectedUserRight.id);
        this.userRightDeletedSub = this.userService.userRightDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdUserRightsCollection.remove(selectedUserRight);
                btnOkUserRightDeleteModal.removeAttribute("disabled");
                btnCloseUserRightDeleteModal.removeAttribute("disabled");
                _this.mdlUserRightDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkUserRightDeleteModal.removeAttribute("disabled");
                btnCloseUserRightDeleteModal.removeAttribute("disabled");
            }
        });
    };
    UserDetail.prototype.btnCloseUserRightDeleteModalClick = function () {
        this.mdlUserRightDeleteShow = false;
    };
    // detail line1 (user rights) copy modal operations
    UserDetail.prototype.btnOkUserRightCopyModalClick = function () {
        // TO BE IMPLEMENTED!!!!!!!!
        this.mdlUserRightCopyShow = false;
    };
    UserDetail.prototype.btnCloseUserRightCopyModalClick = function () {
        this.mdlUserRightCopyShow = false;
    };
    // detail line1 (user rights) edit modal operations
    UserDetail.prototype.btnSaveUserRightEditClick = function () {
        var _this = this;
        var btnSaveUserRightEdit = document.getElementById("btnSaveUserRightEdit");
        var btnCloseUserRightEdit = document.getElementById("btnCloseUserRightEdit");
        btnSaveUserRightEdit.setAttribute("disabled", "disabled");
        btnSaveUserRightEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseUserRightEdit.setAttribute("disabled", "disabled");
        this.userService.saveUserRight(this.userRight);
        this.userSub = this.userService.userRightSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveUserRightEdit.removeAttribute("disabled");
                btnSaveUserRightEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseUserRightEdit.removeAttribute("disabled");
                _this.mdlUserRightEditShow = false;
                _this.getUserRights();
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveUserRightEdit.removeAttribute("disabled");
                btnSaveUserRightEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseUserRightEdit.removeAttribute("disabled");
            }
        });
    };
    UserDetail.prototype.btnCloseUserRightEditClick = function () {
        this.mdlUserRightEditShow = false;
    };
    UserDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/user/user.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], UserDetail);
    return UserDetail;
}());



/***/ }),

/***/ "../../../../../src/app/user/user.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdUsers [itemsSource]=\"fgdUsersCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditUserClick()\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Username'\" [binding]=\"'userName'\" [isReadOnly]=\"true\" [width]=\"300\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Fulllname'\" [binding]=\"'fullname'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigiation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUsersCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUsersCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdUsersCollection.pageIndex + 1 }} / {{ fgdUsersCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUsersCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUsersCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp footer -->\r\n    <app-footer [data]=\"fgdUsersCollection\"></app-footer>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/user/user.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__user_service__ = __webpack_require__("../../../../../src/app/user/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var UserList = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UserList(userService, toastr, viewContainer, router, securityService, location) {
        this.userService = userService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'User List';
        // model(s)
        this.user = {
            id: 0,
            username: "",
            fullName: "",
            password: "",
            status: "",
            aspNetId: ""
        };
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    UserList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdUsersData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdUsersCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdUsersData);
        if (this.securityService.openPage("USER LIST") == true) {
            this.getUsers();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    UserList.prototype.ngOnDestroy = function () {
        if (this.usersSub != null)
            this.usersSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    // list
    UserList.prototype.getUsers = function () {
        var _this = this;
        this.userService.getUsers();
        this.usersSub = this.userService.usersObservable.subscribe(function (data) {
            _this.fgdUsersData = data;
            _this.fgdUsersCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdUsersData);
            _this.fgdUsersCollection.pageSize = 15;
            _this.fgdUsersCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // list opertaions
    UserList.prototype.btnEditUserClick = function () {
        var selectedUser = this.fgdUsersCollection.currentItem;
        this.router.navigate(['/user', selectedUser.id]);
    };
    UserList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/user/user.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], UserList);
    return UserList;
}());



/***/ }),

/***/ "../../../../../src/app/user/user.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var UserService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UserService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // user list
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
        // user detail
        this.userSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userObservable = this.userSource.asObservable();
        // user detail operations
        this.userSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userSavedObservable = this.userSavedSource.asObservable();
        // detail line1 (user rights) list
        this.userRightsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userRightsObservable = this.userRightsSource.asObservable();
        // detail line1 (user rights) 
        this.userRightSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userRightObservable = this.userRightSource.asObservable();
        // detail line1 (user rights) operations
        this.userRightDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userRightDeletedObservable = this.userRightDeletedSource.asObservable();
        this.userRightSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userRightSavedObservable = this.userRightSavedSource.asObservable();
        // detail combo boxes
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
        // detail line1 combo boxes
        this.pagesSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.pagesObservable = this.pagesSource.asObservable();
    }
    // =================
    // public properties
    // =================
    // list
    UserService.prototype.getUsers = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var users = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        userName: results[i].Username,
                        fullname: results[i].FullName,
                        password: results[i].Password,
                        status: results[i].Status,
                        aspNet: results[i].AspNetId
                    });
                }
                _this.usersSource.next(users);
            }
            else {
                _this.toastr.error("No users.");
            }
        });
    };
    // detail
    UserService.prototype.getUser = function (id) {
        var _this = this;
        var user;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var results = response.json();
            if (results != null) {
                user = {
                    id: results.Id,
                    username: results.Username,
                    fullName: results.FullName,
                    password: results.Password,
                    status: results.Status,
                    aspNetId: results.AspNetId,
                };
                _this.userSource.next(user);
            }
            else {
                _this.toastr.error("No data.");
                setTimeout(function () {
                    _this.router.navigate(["/user"]);
                }, 1000);
            }
        });
    };
    // detail operation(s)
    UserService.prototype.saveUser = function (user) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/Save";
        this.http.put(url, JSON.stringify(user), this.options).subscribe(function (response) {
            _this.userSavedSource.next(1);
        }, function (error) {
            _this.userSavedSource.next(0);
        });
    };
    // detail combo boxes
    UserService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.toastr.error("No data.");
            }
        });
    };
    // detail line1 (user rights) list
    UserService.prototype.getUserRightsPerUser = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/ListPerUser/" + id;
        var userRights = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    userRights.push({
                        id: results[i].Id,
                        userId: results[i].UserId,
                        pageId: results[i].PageId,
                        page: results[i].Page,
                        canEdit: results[i].CanEdit,
                        canSave: results[i].CanSave,
                        canLock: results[i].CanLock,
                        canUnlock: results[i].CanUnLock,
                        canPrint: results[i].CanPrint,
                        canDelete: results[i].CanDelete
                    });
                }
                _this.userRightsSource.next(userRights);
            }
            else {
                _this.toastr.error("No user rights.");
            }
        });
    };
    // detail line1 (user rights) operations
    UserService.prototype.saveUserRight = function (userRight) {
        var _this = this;
        if (userRight.id == 0) {
            var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/Add";
            this.http.post(url, JSON.stringify(userRight), this.options).subscribe(function (response) {
                _this.userRightSavedSource.next(1);
            }, function (error) {
                _this.userRightSavedSource.next(0);
            });
        }
        else {
            var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/Save";
            this.http.put(url, JSON.stringify(userRight), this.options).subscribe(function (response) {
                _this.userRightSavedSource.next(1);
            }, function (error) {
                _this.userRightSavedSource.next(0);
            });
        }
    };
    UserService.prototype.deleteUserRight = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.userRightDeletedSource.next(1);
        }, function (error) {
            _this.userRightDeletedSource.next(0);
        });
    };
    // detail line1 combo boxes
    UserService.prototype.getPages = function () {
        var _this = this;
        var url = "https://filbrokerwebsite-priland.azurewebsites.net/api/SysPage/List";
        var pages = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    pages.push({
                        id: results[i].Id,
                        page: results[i].Page,
                        url: results[i].Url
                    });
                }
                _this.pagesSource.next(pages);
            }
            else {
                _this.toastr.error("No pages.");
            }
        });
    };
    UserService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "../../../../../src/assets/landing_template/img/bg-masthead.jpg":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "bg-masthead.20cbd480edd75dd476f3.jpg";

/***/ }),

/***/ "../../../../../src/assets/landing_template/img/dahlia.jpg":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "dahlia.e7efec87a52111669066.jpg";

/***/ }),

/***/ "../../../../../src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "../../../../../src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("../../../platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("../../../../../src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.directiveBase.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
    *
    * Wijmo Library 5.20173.380
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
function WjValueAccessorFactory(e){return new WjValueAccessor(e)}Object.defineProperty(exports,"__esModule",{value:!0});var wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),core_1=__webpack_require__("../../../core/esm5/core.js"),WjOptions=function(){function e(){}return e.asyncBindings=!0,e}();exports.WjOptions=WjOptions;var WjComponentResolvedMetadata=function(){function e(e){this.changeEventMap=[],this.allImplEvents=[],this.resolveChangeEventMap(e)}return e.prototype.resolveChangeEventMap=function(e){var t=this.changeEventMap,i=e.outputs,n=e.changeEvents||{};if(t.splice(0,t.length),this.allImplEvents=[],i&&i.length){var r=i.map(function(e){return e.split(":")}).map(function(e){return{implName:e[0].trim(),exposeName:e[1]&&e[1].trim()}});this.allImplEvents=r.map(function(e){return e.implName});for(var o=0,s=r.filter(function(e){return e.implName&&e.exposeName});o<s.length;o++){var a=s[o];if(Ng2Utils.getWjEventName(a.implName)){var p={eventImpl:a.implName,event:a.exposeName},h=n[a.exposeName];h&&h.length&&(p.props=h.map(function(e){return{prop:e,evExposed:Ng2Utils.getChangeEventNameExposed(e),evImpl:Ng2Utils.getChangeEventNameImplemented(e)}})),t.push(p)}}for(var l in n)if(l.indexOf(".")>-1){p={eventImpl:null,event:l,props:n[l].map(function(e){return{prop:e,evExposed:Ng2Utils.getChangeEventNameExposed(e),evImpl:Ng2Utils.getChangeEventNameImplemented(e)}})};t.push(p)}}},e}();exports.WjComponentResolvedMetadata=WjComponentResolvedMetadata;var WjDirectiveBehavior=function(){function e(t,i,n,r){this._pendingEvents=[],this.isInitialized=!1,this.isDestroyed=!1,this.directive=t,this.elementRef=i,this.injector=n,this.injectedParent=r;var o=this.typeData=t.constructor[e.directiveTypeDataProp];null==o.siblingId&&(o.siblingId=++e.siblingDirId+"");var s=t.constructor[e.directiveResolvedTypeDataProp];s?this.resolvedTypeData=s:t.constructor[e.directiveResolvedTypeDataProp]=s=this.resolvedTypeData=new WjComponentResolvedMetadata(o),t[e.BehaviourRefProp]=this,n[e.BehaviourRefProp]=this,t[e.isInitializedPropAttr]=!1,this._createEvents(),this._setupAsChild(),this._isHostElement()&&i.nativeElement.setAttribute(e.siblingDirIdAttr,o.siblingId),this.subscribeToEvents(!1)}return e.getHostElement=function(t,i){return e.ngZone||(e.ngZone=i.get(core_1.NgZone)),t.nativeElement},e.attach=function(t,i,n,r){return new e(t,i,n,r)},e.prototype.ngOnInit=function(){this.isInitialized=!0,this._initParent(),this.subscribeToEvents(!0)},e.prototype.ngAfterViewInit=function(){this.directive[e.isInitializedPropAttr]=!0,this.directive[e.initializedEventAttr].emit(void 0)},e.prototype.ngOnDestroy=function(){if(!this.isDestroyed){this.isDestroyed=!0;var t=this.directive;if(this._siblingInsertedEH&&this.elementRef.nativeElement.removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isChild()&&this.parentBehavior){var i=this.parentBehavior.directive,n=this._getParentProp();if(!this.parentBehavior.isDestroyed&&i&&n&&t){var r=i[n];if(wjcCore.isArray(r)&&r){var o=r.indexOf(t);o>=0&&r.splice(o,1)}}}if(t instanceof wjcCore.Control&&t.hostElement){var s=this.elementRef.nativeElement,a=s&&s.parentNode,p=a?Array.prototype.indexOf.call(a.childNodes,s):-1;t.dispose(),p>-1&&Array.prototype.indexOf.call(a.childNodes,s)<0&&(s.textContent="",p<a.childNodes.length&&a.replaceChild(s,a.childNodes[p]))}this.injector[e.BehaviourRefProp]=null}},e.instantiateTemplate=function(e,t,i,n,r,o){void 0===r&&(r=!1),void 0===o&&(o={});var s,a=t.createEmbeddedView(i,o,t.length),p=a.rootNodes;if(r&&1===p.length)s=p[0];else{s=document.createElement("div");for(var h=0,l=p;h<l.length;h++){var v=l[h];s.appendChild(v)}}return e&&e.appendChild(s),{viewRef:a,rootElement:s}},e.prototype.getPropChangeEvent=function(e){var t=this.typeData.changeEvents;if(t)for(var i in t)if(t[i].indexOf(e)>-1)return i;return null},e.prototype._createEvents=function(){for(var e=0,t=this.resolvedTypeData.allImplEvents;e<t.length;e++){var i=t[e],n="initialized"===i;this.directive[i]=new core_1.EventEmitter(n)}},e.prototype.subscribeToEvents=function(e){var t=this.resolvedTypeData.changeEventMap;e=!!e;for(var i=0,n=t;i<n.length;i++)e!==(s=n[i]).event.indexOf(".")<0&&this.addHandlers(s);if(e)for(var r=0,o=t;r<o.length;r++){var s=o[r];this.triggerPropChangeEvents(s,!0)}},e.prototype.addHandlers=function(t){var i=this,n=this.directive;e.evaluatePath(n,t.event).addHandler(function(e,r){i._runInsideNgZone(function(){i.isInitialized&&i.triggerPropChangeEvents(t),t.eventImpl&&i._triggerEvent(n[t.eventImpl],r,t.props&&t.props.length>0)})})},e.prototype.triggerPropChangeEvents=function(e,t){void 0===t&&(t=!0);var i=this.directive;if(e.props&&e.props.length)for(var n=0,r=e.props;n<r.length;n++){var o=r[n];this._triggerEvent(i[o.evImpl],i[o.prop],t)}},e.prototype._setupAsChild=function(){this._isChild()&&(this._isHostElement()&&(this.elementRef.nativeElement.style.display="none"),this.parentBehavior=e.getBehavior(this.injectedParent))},e.prototype._isAsyncBinding=function(){var t=this.directive[e.asyncBindingUpdatePropAttr];return null==t?WjOptions.asyncBindings:t},e.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},e.prototype._isParentInitializer=function(){return null!=this.directive[e.parPropAttr]},e.prototype._isParentReferencer=function(){return!!this.typeData.parentRefProperty},e.prototype._getParentProp=function(){return this.directive[e.parPropAttr]},e.prototype._getParentReferenceProperty=function(){return this.typeData.parentRefProperty},e.prototype._useParentObj=function(){return!1},e.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},e.prototype._initParent=function(){if(this.parentBehavior&&!this._useParentObj()){var e=this.parentBehavior.directive,t=this._getParentProp(),i=this.directive;if(this._isParentInitializer()){this._getParentProp();var n=e[t];if(wjcCore.isArray(n)){var r=this._isHostElement(),o=r?this._getSiblingIndex():-1;(o<0||o>=n.length)&&(o=n.length),n.splice(o,0,i),r&&(this._siblingInsertedEH=this._siblingInserted.bind(this),this.elementRef.nativeElement.addEventListener("DOMNodeInserted",this._siblingInsertedEH))}else e[t]=i}this._isParentReferencer()&&!this._parentInCtor()&&(i[this._getParentReferenceProperty()]=e)}},e.prototype._getSiblingIndex=function(){var t=this.elementRef.nativeElement,i=t.parentElement;if(!i)return-1;for(var n=i.childNodes,r=-1,o=this.typeData.siblingId,s=0;s<n.length;s++){var a=n[s];if(1==a.nodeType&&a.getAttribute(e.siblingDirIdAttr)==o&&(++r,a===t))return r}return-1},e.prototype._siblingInserted=function(e){if(e.target===this.elementRef.nativeElement){var t=this._getSiblingIndex(),i=this.parentBehavior.directive[this._getParentProp()],n=this.directive,r=i.indexOf(n);t>=0&&r>=0&&t!==r&&(i.splice(r,1),t=Math.min(t,i.length),i.splice(t,0,n))}},e.prototype._isHostElement=function(){return this.elementRef.nativeElement.nodeType===Node.ELEMENT_NODE},e.prototype._runInsideNgZone=function(t){var i=e;return i.ngZone&&!i._ngZoneRun&&(i._ngZoneRun=i.ngZone.run.bind(i.ngZone)),(i._ngZoneRun||function(e){return e()})(t)},e.prototype._triggerEvent=function(e,t,i){var n=this;if(i&&this._isAsyncBinding()){var r={event:e,args:t};this._pendingEvents.push(r),null==this._pendingEventsTO&&(this._pendingEventsTO=setTimeout(function(){n._triggerPendingEvents(!1)},0))}else e.emit(t)},e.prototype._triggerPendingEvents=function(e){null!=this._pendingEventsTO&&(clearTimeout(this._pendingEventsTO),this._pendingEventsTO=null);var t=[].concat(this._pendingEvents);this._pendingEvents.splice(0,this._pendingEvents.length);for(var i=0,n=t;i<n.length;i++){var r=n[i];r.event.emit(r.args)}e&&this._pendingEvents.length&&this._triggerPendingEvents(!0)},e.prototype.flushPendingEvents=function(){this._triggerPendingEvents(!0)},e.evaluatePath=function(e,t){return this._pathBinding.path=t,this._pathBinding.getValue(e)},e.getBehavior=function(t){return t?t[e.BehaviourRefProp]:null},e.directiveTypeDataProp="meta",e.directiveResolvedTypeDataProp="_wjResolvedMeta",e.BehaviourRefProp="_wjBehaviour",e.parPropAttr="wjProperty",e.wjModelPropAttr="wjModelProperty",e.initializedEventAttr="initialized",e.isInitializedPropAttr="isInitialized",e.siblingDirIdAttr="wj-directive-id",e.asyncBindingUpdatePropAttr="asyncBindings",e.siblingDirId=0,e.wijmoComponentProviderId="WjComponent",e.outsideZoneEvents={pointermove:!0,pointerover:!0,mousemove:!0,wheel:!0,touchmove:!0},e._pathBinding=new wjcCore.Binding(""),e}();exports.WjDirectiveBehavior=WjDirectiveBehavior;var Ng2Utils=function(){function e(){}return e.initEvents=function(e,t){for(var i=[],n=0,r=t;n<r.length;n++){var o=r[n],s=o.props;if(o.event&&o.eventImpl&&i.push(o.eventImpl+":"+o.event),s&&s.length)for(var a=0,p=s;a<p.length;a++){var h=p[a];i.push(h.evImpl+":"+h.evExposed)}}return i},e.getChangeEventNameImplemented=function(t){return e.getChangeEventNameExposed(t)+e.changeEventImplementSuffix},e.getChangeEventNameExposed=function(e){return e+"Change"},e.getWjEventNameImplemented=function(t){return t+e.wjEventImplementSuffix},e.getWjEventName=function(t){if(t){var i=e.wjEventImplementSuffix,n=t.length-i.length;if(n>0&&t.substr(n)===i)return t.substr(0,n)}return null},e.getBaseType=function(e){var t;return e&&(t=Object.getPrototypeOf(e.prototype))&&t.constructor},e.getAnnotations=function(e){return Reflect.getMetadata("annotations",e)},e.getAnnotation=function(e,t){if(t&&e)for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r instanceof t)return r}return null},e.getTypeAnnotation=function(t,i,n){for(var r=t;r;r=n?null:e.getBaseType(r)){var o=e.getAnnotation(e.getAnnotations(r),i);if(o)return o}return null},e.equals=function(e,t){return e!=e&&t!=t||wjcCore.DateTime.equals(e,t)||e===t},e._copy=function(e,t,i,n,r){if(e&&t)for(var o in t)if(n||"_"!==o[0]){var s=t[o];if(!r||r(o,s)){var a=e[o];wjcCore.isArray(s)?e[o]=(!wjcCore.isArray(a)||i?[]:a).concat(s):void 0!==s&&(e[o]=s)}}},e.changeEventImplementSuffix="PC",e.wjEventImplementSuffix="Ng",e}();exports.Ng2Utils=Ng2Utils;var WjValueAccessor=function(){function e(e){this._isFirstChange=!0,this._isSubscribed=!1,this._onChange=function(e){},this._onTouched=function(){},this._directive=e,this._behavior=WjDirectiveBehavior.getBehavior(e)}return e.prototype.writeValue=function(e){var t=this;if(this._modelValue=e,this._directive.isInitialized)this._ensureInitEhUnsubscribed(),this._updateDirective(),this._isFirstChange=!1;else if(this._dirInitEh)this._isFirstChange=!1;else{var i=this._directive.initialized;this._dirInitEh=i.subscribe(function(){t._updateDirective(),t._ensureInitEhUnsubscribed()})}},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype._updateDirective=function(){if(!this._isFirstChange||null!=this._modelValue){if(this._ensureNgModelProp(),this._directive&&this._ngModelProp){var e=this._modelValue;""===e&&(e=null),this._directive[this._ngModelProp]=e}this._ensureSubscribed()}},e.prototype._ensureSubscribed=function(){if(!this._isSubscribed){var e=this._directive;if(e){this._ensureNgModelProp();var t=this._ngModelProp=e[WjDirectiveBehavior.wjModelPropAttr];if(t){var i=this._behavior.getPropChangeEvent(t);i&&e[i].addHandler(this._dirValChgEh,this)}e instanceof wjcCore.Control&&e.lostFocus.addHandler(this._dirLostFocusEh,this),this._isSubscribed=!0}}},e.prototype._ensureNgModelProp=function(){!this._ngModelProp&&this._directive&&(this._ngModelProp=this._directive[WjDirectiveBehavior.wjModelPropAttr])},e.prototype._ensureInitEhUnsubscribed=function(){this._dirInitEh&&(this._dirInitEh.unsubscribe(),this._dirInitEh=null)},e.prototype._dirValChgEh=function(e,t){if(this._onChange&&this._directive&&this._ngModelProp){var i=this._directive[this._ngModelProp];Ng2Utils.equals(this._modelValue,i)||(this._modelValue=i,this._onChange(i))}},e.prototype._dirLostFocusEh=function(e,t){this._onTouched&&this._onTouched()},e}();exports.WjValueAccessor=WjValueAccessor,exports.WjValueAccessorFactory=WjValueAccessorFactory;var moduleExports=[],WjDirectiveBaseModule=function(){function e(){}return e.decorators=[{type:core_1.NgModule,args:[{}]}],e.ctorParameters=function(){return[]},e}();exports.WjDirectiveBaseModule=WjDirectiveBaseModule;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.grid.filter.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
    *
    * Wijmo Library 5.20173.380
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wjcGridFilter=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.filter.js"),core_1=__webpack_require__("../../../core/esm5/core.js"),core_2=__webpack_require__("../../../core/esm5/core.js"),core_3=__webpack_require__("../../../core/esm5/core.js"),common_1=__webpack_require__("../../../common/esm5/common.js"),wijmo_angular2_directiveBase_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.directiveBase.js");exports.wjFlexGridFilterMeta={selector:"wj-flex-grid-filter",template:"",inputs:["wjProperty","showFilterIcons","showSortButtons","defaultFilterType","filterColumns"],outputs:["initialized","filterChangingNg: filterChanging","filterChangedNg: filterChanged","filterAppliedNg: filterApplied"],providers:[]};var WjFlexGridFilter=function(e){function r(r,t,o){var i=e.call(this,o)||this;i.isInitialized=!1;i._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(i,r,t,o);return i.created(),i}return __extends(r,e),r.prototype.created=function(){},r.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},r.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},r.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},r.meta={outputs:exports.wjFlexGridFilterMeta.outputs},r.decorators=[{type:core_1.Component,args:[{selector:exports.wjFlexGridFilterMeta.selector,template:exports.wjFlexGridFilterMeta.template,inputs:exports.wjFlexGridFilterMeta.inputs,outputs:exports.wjFlexGridFilterMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return r})}].concat(exports.wjFlexGridFilterMeta.providers)}]}],r.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},r}(wjcGridFilter.FlexGridFilter);exports.WjFlexGridFilter=WjFlexGridFilter;var moduleExports=[WjFlexGridFilter],WjGridFilterModule=function(){function e(){}return e.decorators=[{type:core_1.NgModule,args:[{imports:[wijmo_angular2_directiveBase_1.WjDirectiveBaseModule,common_1.CommonModule],declarations:moduleExports.slice(),exports:moduleExports.slice()}]}],e.ctorParameters=function(){return[]},e}();exports.WjGridFilterModule=WjGridFilterModule;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.grid.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
    *
    * Wijmo Library 5.20173.380
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
function tryGetModuleWijmoGridDetail(){var e,t;return(e=window.wijmo)&&(t=e.grid)&&t.detail}function tryGetModuleWijmoInput(){var e;return(e=window.wijmo)&&e.input}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wjcGrid=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.js"),wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),core_1=__webpack_require__("../../../core/esm5/core.js"),core_2=__webpack_require__("../../../core/esm5/core.js"),core_3=__webpack_require__("../../../core/esm5/core.js"),common_1=__webpack_require__("../../../common/esm5/common.js"),forms_1=__webpack_require__("../../../forms/esm5/forms.js"),wijmo_angular2_directiveBase_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.directiveBase.js");exports.wjFlexGridMeta={selector:"wj-flex-grid",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","newRowAtTop","allowAddNew","allowDelete","allowDragging","allowMerging","allowResizing","allowSorting","quickAutoSize","autoSizeMode","autoGenerateColumns","childItemsPath","groupHeaderFormat","headersVisibility","showSelectedHeaders","showMarquee","itemFormatter","isReadOnly","imeEnabled","mergeManager","selectionMode","showGroups","showSort","showDropDown","showAlternatingRows","showErrors","validateEdits","treeIndent","itemsSource","autoClipboard","frozenRows","frozenColumns","cloneFrozenCells","deferResizing","sortRowIndex","stickyHeaders","preserveSelectedState","preserveOutlineState","keyActionTab","keyActionEnter","rowHeaderPath","virtualizationThreshold"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","beginningEditNg: beginningEdit","cellEditEndedNg: cellEditEnded","cellEditEndingNg: cellEditEnding","prepareCellForEditNg: prepareCellForEdit","formatItemNg: formatItem","resizingColumnNg: resizingColumn","resizedColumnNg: resizedColumn","autoSizingColumnNg: autoSizingColumn","autoSizedColumnNg: autoSizedColumn","draggingColumnNg: draggingColumn","draggingColumnOverNg: draggingColumnOver","draggedColumnNg: draggedColumn","sortingColumnNg: sortingColumn","sortedColumnNg: sortedColumn","resizingRowNg: resizingRow","resizedRowNg: resizedRow","autoSizingRowNg: autoSizingRow","autoSizedRowNg: autoSizedRow","draggingRowNg: draggingRow","draggingRowOverNg: draggingRowOver","draggedRowNg: draggedRow","deletingRowNg: deletingRow","deletedRowNg: deletedRow","loadingRowsNg: loadingRows","loadedRowsNg: loadedRows","rowEditStartingNg: rowEditStarting","rowEditStartedNg: rowEditStarted","rowEditEndingNg: rowEditEnding","rowEditEndedNg: rowEditEnded","rowAddedNg: rowAdded","groupCollapsedChangedNg: groupCollapsedChanged","groupCollapsedChangingNg: groupCollapsedChanging","itemsSourceChangedNg: itemsSourceChanged","selectionChangingNg: selectionChanging","selectionChangedNg: selectionChanged","scrollPositionChangedNg: scrollPositionChanged","updatingViewNg: updatingView","updatedViewNg: updatedView","updatingLayoutNg: updatingLayout","updatedLayoutNg: updatedLayout","pastingNg: pasting","pastedNg: pasted","pastingCellNg: pastingCell","pastedCellNg: pastedCell","copyingNg: copying","copiedNg: copied"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjFlexGrid=function(e){function t(t,o,r,i){var n=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;n.isInitialized=!1;n._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(n,t,o,r);return new DirectiveCellFactory(n,i),n.deferUpdate(function(){if(n.rows.defaultSize<10){var e=n.hostElement,t=getComputedStyle(e),o=getComputedStyle(document.body),r=2*parseInt(t.fontSize&&wjcCore.contains(document.body,e)?t.fontSize:o.fontSize);n.rows.defaultSize=r,n.columns.defaultSize=4*r,n.columnHeaders.rows.defaultSize=r,n.rowHeaders.columns.defaultSize=Math.round(1.25*r)}}),n.created(),n}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,r,i){var n=this;void 0===i&&(i=!1);var l=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,a=l.ngZone;a&&l.outsideZoneEvents[o]?a.runOutsideAngular(function(){e.prototype.addEventListener.call(n,t,o,r,i)}):e.prototype.addEventListener.call(this,t,o,r,i)},t.meta={outputs:exports.wjFlexGridMeta.outputs},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjFlexGridMeta.selector,template:exports.wjFlexGridMeta.template,inputs:exports.wjFlexGridMeta.inputs,outputs:exports.wjFlexGridMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjFlexGridMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]},{type:core_3.ChangeDetectorRef,decorators:[{type:core_3.Inject,args:[core_3.ChangeDetectorRef]}]}]},t}(wjcGrid.FlexGrid);exports.WjFlexGrid=WjFlexGrid,exports.wjFlexGridColumnMeta={selector:"wj-flex-grid-column",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","isContentHtml","isSelected","visible","wordWrap","mask","inputType","isRequired","showDropDown","dropDownCssClass","quickAutoSize"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]};var WjFlexGridColumn=function(e){function t(t,o,r){var i=e.call(this)||this;i.isInitialized=!1,i.wjProperty="columns";var n=(i._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(i,t,o,r)).parentBehavior.directive;return n.autoGenerateColumns&&(n.autoGenerateColumns=!1,n.columns.clear()),i.created(),i}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:exports.wjFlexGridColumnMeta.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjFlexGridColumnMeta.selector,template:exports.wjFlexGridColumnMeta.template,inputs:exports.wjFlexGridColumnMeta.inputs,outputs:exports.wjFlexGridColumnMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjFlexGridColumnMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcGrid.Column);exports.WjFlexGridColumn=WjFlexGridColumn;var WjFlexGridCellTemplate=function(){function e(e,t,o,r,i,n,l){this.viewContainerRef=e,this.templateRef=t,this.elRef=o,this.domRenderer=i,this.cdRef=l,this.autoSizeRows=!0,this.forceFullEdit=!0,r instanceof WjFlexGrid?this.grid=r:r instanceof WjFlexGridColumn&&(this.column=r,this.grid=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getBehavior(r).parentBehavior.directive)}return e._getTemplContextProp=function(e){return"$__cellTempl"+CellTemplateType[e]},e.prototype.ngOnInit=function(){this.ownerControl=this.column&&this.column.grid===this.grid?this.column:this.grid,this._attachToControl()},e.prototype.ngOnDestroy=function(){this.cellTypeStr&&(this.viewContainerRef.clear(),this.ownerControl[e._getTemplContextProp(this.cellType)]=null,this.grid.invalidate())},e.prototype._instantiateTemplate=function(e,t){return wijmo_angular2_directiveBase_1.WjDirectiveBehavior.instantiateTemplate(e,this.viewContainerRef,this.templateRef,this.domRenderer,!1,t)},e.prototype._attachToControl=function(){if(this.cellTypeStr){var t=this.cellType=wjcCore.asEnum(this.cellTypeStr,CellTemplateType),o=this.ownerControl;o[e._getTemplContextProp(t)]=this,o instanceof wjcGrid.Column&&(t===CellTemplateType.Cell||t===CellTemplateType.ColumnHeader||t===CellTemplateType.ColumnFooter)&&o._setFlag(wjcGrid.RowColFlags.HasTemplate,!0),this.grid.invalidate()}},e.decorators=[{type:core_2.Directive,args:[{selector:"[wjFlexGridCellTemplate]",inputs:["wjFlexGridCellTemplate","cellTypeStr: cellType","cellOverflow","valuePaths","autoSizeRows","forceFullEdit"],exportAs:"wjFlexGridCellTemplate",providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return e})}]}]}],e.ctorParameters=function(){return[{type:core_2.ViewContainerRef,decorators:[{type:core_3.Inject,args:[core_2.ViewContainerRef]}]},{type:core_2.TemplateRef,decorators:[{type:core_3.Inject,args:[core_2.TemplateRef]},{type:core_2.Optional}]},{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]},{type:core_2.Renderer,decorators:[{type:core_3.Inject,args:[core_2.Renderer]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:core_3.ChangeDetectorRef,decorators:[{type:core_3.Inject,args:[core_3.ChangeDetectorRef]}]}]},e}();exports.WjFlexGridCellTemplate=WjFlexGridCellTemplate;var CellTemplateType;!function(e){e[e.Cell=0]="Cell",e[e.CellEdit=1]="CellEdit",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.RowHeaderEdit=4]="RowHeaderEdit",e[e.TopLeft=5]="TopLeft",e[e.GroupHeader=6]="GroupHeader",e[e.Group=7]="Group",e[e.NewCellTemplate=8]="NewCellTemplate",e[e.ColumnFooter=9]="ColumnFooter",e[e.BottomLeft=10]="BottomLeft"}(CellTemplateType=exports.CellTemplateType||(exports.CellTemplateType={}));var DirectiveCellFactory=function(e){function t(o,r){var i=e.call(this)||this;if(i._needsCdCheck=!1,i._lastApplyTimeStamp=0,i._noApplyLag=!1,i._startingEditing=!1,i._cellStampCounter=0,i._composing=!1,i.grid=o,i._gridCdRef=r,!t._templateTypes){t._templateTypes=[];for(var n in CellTemplateType)isNaN(n)&&t._templateTypes.push(n)}var l=i;return i._baseCf=o.cellFactory,o.cellFactory=i,i._evtInput=document.createEvent("HTMLEvents"),i._evtInput.initEvent("input",!0,!1),i._evtBlur=document.createEvent("HTMLEvents"),i._evtBlur.initEvent("blur",!1,!1),o.prepareCellForEdit.addHandler(function(e,t){l._noApplyLag=!0}),o.cellEditEnded.addHandler(function(e,t){(t.range.col<0||t.range.col<o.columns.length&&!o.columns[t.range.col][WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType.CellEdit)])&&(l._editChar=null),setTimeout(function(){l._noApplyLag=!1},300)}),o.beginningEdit.addHandler(function(e,t){l._startingEditing=!0}),o.hostElement.addEventListener("keydown",function(e){l._startingEditing=!1},!0),o.hostElement.addEventListener("keypress",function(e){var t=e.charCode>32?String.fromCharCode(e.charCode):null;t&&(!o.activeEditor||l._startingEditing?l._editChar=t:l._editChar&&(l._editChar+=t))},!0),o.hostElement.addEventListener("compositionstart",function(e){l._composing=!0},!0),o.hostElement.addEventListener("compositionend",function(e){l._composing=!1},!0),o.updatedView.addHandler(function(){i._needsCdCheck&&(i._needsCdCheck=!1,i._gridCdRef.markForCheck())},i),i}return __extends(t,e),t.prototype.updateCell=function(e,o,r,i,n){var l=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var a=i[t._cellStampProp]=this._cellStampCounter;i.style.overflow&&(i.style.overflow="");var d,s=this,p=e.grid,c=p.editRange,u=e.rows[o],g=u.dataItem,m=!1,C=!1,w=!1,f=!1;switch(e.cellType){case wjcGrid.CellType.Cell:if(c&&c.row===o&&c.col===r)d=CellTemplateType.CellEdit,C=w=!0;else if(u instanceof wjcGrid.GroupRow){var v=!((f=g instanceof wjcCore.CollectionViewGroup)||u.hasChildren);r==e.columns.firstVisibleIndex?d=v?CellTemplateType.Cell:CellTemplateType.GroupHeader:(d=v?CellTemplateType.Cell:CellTemplateType.Group,C=!0)}else u instanceof wjcGrid._NewRowTemplate?d=CellTemplateType.NewCellTemplate:tryGetModuleWijmoGridDetail()&&tryGetModuleWijmoGridDetail().DetailRow&&u instanceof tryGetModuleWijmoGridDetail().DetailRow||(d=CellTemplateType.Cell);break;case wjcGrid.CellType.ColumnHeader:d=CellTemplateType.ColumnHeader;break;case wjcGrid.CellType.RowHeader:d=p.collectionView&&p.collectionView.currentEditItem===g?CellTemplateType.RowHeaderEdit:CellTemplateType.RowHeader,m=!0;break;case wjcGrid.CellType.TopLeft:d=CellTemplateType.TopLeft,m=!0;break;case wjcGrid.CellType.ColumnFooter:d=CellTemplateType.ColumnFooter,C=!0;break;case wjcGrid.CellType.BottomLeft:d=CellTemplateType.BottomLeft,m=!0}var _=!1;if(null!=d){var h=f&&d==CellTemplateType.GroupHeader?p.columns.getColumn(g.groupDescription.propertyName):r>=0&&r<e.columns.length?e.columns[r]:null;if(h){var y=WjFlexGridCellTemplate._getTemplContextProp(d),j=(m?p:h)[y];if(j||(d===CellTemplateType.RowHeaderEdit?(d=CellTemplateType.RowHeader,y=WjFlexGridCellTemplate._getTemplContextProp(d),j=p[y]):d!==CellTemplateType.Group&&d!==CellTemplateType.GroupHeader||f||(d=CellTemplateType.Cell,y=WjFlexGridCellTemplate._getTemplContextProp(d),j=h[y])),j){var E;C&&(E=e.getCellData(o,r,!1)),_=!0;var T=i.getAttribute(wjcGrid.FlexGrid._WJS_MEASURE),x=T&&"true"===T.toLowerCase();w&&this._baseCf.updateCell(e,o,r,i,n,!0);var R,G=i[y]||{},S=G.column!==h||!G.viewRef||G.templateContextProperty!==y||i.firstChild!=G.rootElement,F=w&&this._composing&&p.imeEnabled;if(S){if(w){var I=i.firstElementChild;I&&(F||i.focus(),I.style.display="none")}else i.textContent="";this._doDisposeCell(i);var N={};R=this._setViewRefContext(N,u,h,g,E,j.valuePaths);var W=j._instantiateTemplate(i,N);G.column=h,G.viewRef=W.viewRef,G.rootElement=W.rootElement,G.templateContextProperty=y,i[y]=G}else R=this._setViewRefContext(G.viewRef.context,u,h,g,E,j.valuePaths);if(j.cellOverflow&&(i.style.overflow=j.cellOverflow),x?j.cdRef.detectChanges():j.autoSizeRows&&!F?setTimeout(function(){if(a===i[t._cellStampProp]){var r=i.scrollHeight,d=e.rows,c=n&&n.rowSpan||1;if(o<d.length&&d[o].renderHeight*c<r-1){if(d.defaultSize=r/c,w){var u=s._isFullEdit();return p.refresh(),void p.startEditing(u)}}else w&&l._initEditInput(G,j,null)}},0):w&&setTimeout(function(){F?l._initImeEditInput(G,j):l._initEditInput(G,j,null)},0),w){s._cellEditorVars=R.localVars;var D=function(e,t){if(p.cellEditEnding.removeHandler(D),!t.stayInEditMode){var o=wjcCore.getActiveElement();o&&o.dispatchEvent(s._evtBlur),i.focus()}if(s._triggerEditorEvents(i),!t.cancel&&!t.stayInEditMode)for(var r=R.localVars,n=0,l=Object.getOwnPropertyNames(R.bindings);n<l.length;n++){var a=l[n];R.bindings[a].setValue(r,R.localVars.values[a])}var d=i.querySelectorAll(".wj-dropdown");[].forEach.call(d,function(e){var t=wjcCore.Control.getControl(e);t&&tryGetModuleWijmoInput()&&t instanceof tryGetModuleWijmoInput().DropDown&&(t.isDroppedDown=!1)})},H=function(e,t){p.cellEditEnded.removeHandler(H),s._cellEditorVars=null};p.cellEditEnding.addHandler(D),p.cellEditEnded.addHandler(H)}else this._baseCf.updateCell(e,o,r,i,n,!1)}}}_||(this._doDisposeCell(i),this._baseCf.updateCell(e,o,r,i,n))},t.prototype.getEditorValue=function(t){if(this._cellEditorVars){var o=t.editRange;return o&&o.isValid&&this._triggerEditorEvents(t.cells.getCellElement(o.row,o.col)),this._cellEditorVars.value}return e.prototype.getEditorValue.call(this,t)},t.prototype.disposeCell=function(e){this._doDisposeCell(e)},t.prototype._doDisposeCell=function(e){for(var o=t._templateTypes,r=0;r<o.length;r++){var i=WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType[o[r]]),n=e[i];if(n&&n.viewRef){var l=(n.column||this.grid)[i];if(l){var a=l.viewContainerRef.indexOf(n.viewRef);a>-1&&l.viewContainerRef.remove(a)}n.viewRef=null,n.rootElement=null,n.column=null,n.templateContextProperty=null,e[i]=null}}},t.prototype._setViewRefContext=function(e,t,o,r,i,n){this._needsCdCheck=!0,e.row=t,e.col=o,e.item=r;var l={},a=e.cell||{},d={},s={localVars:a,bindings:d};if(a.row=t,a.col=o,a.item=r,a.value=i,a.values=l,n)for(var p=0,c=Object.getOwnPropertyNames(n);p<c.length;p++){var u=c[p],g=new wjcCore.Binding(n[u]);d[u]=g,l[u]=g.getValue(a)}return e.cell!==a&&(e.cell=a),s},t.prototype._initEditInput=function(e,t,o){var r=this;this._setFullEdit(t);var i=this._findInitialInput(e);if(i){var n=window.getComputedStyle(i);if("none"!==n.display&&"visible"===n.visibility){var l=function(){i.removeEventListener("focus",l),setTimeout(function(){setTimeout(function(){var e=null!=o?o:r._editChar;if(e){var t=i.selectionStart+e.length;i.value=e,r._editChar=null,i.dispatchEvent(r._evtInput),setTimeout(function(){setTimeout(function(){wjcCore.setSelectionRange(i,Math.min(t,i.value.length),i.value.length)},0)},0)}},0)},0)};i.addEventListener("focus",l),i.focus()}}},t.prototype._initImeEditInput=function(e,t){var o=this,r=wjcCore.getActiveElement();if(r&&r instanceof HTMLInputElement&&wjcCore.hasClass(r,"wj-grid-ime")){var i=function(n){r.removeEventListener("compositionend",i),wjcCore.setCss(r,wjcGrid._ImeHandler._cssHidden),o._initEditInput(e,t,r.value)};r.addEventListener("compositionend",i);var n=this._findInitialInput(e);if(n){var l=n.getBoundingClientRect(),a=r.getBoundingClientRect(),d=window.getComputedStyle(r),s=parseFloat(d.left),p=parseFloat(d.top);wjcCore.setCss(r,{left:s+l.left-a.left+"px",top:p+l.top-a.top+"px",width:l.width+"px",height:l.height+"px"})}}},t.prototype._findInitialInput=function(e){var t=e&&e.rootElement&&e.rootElement.querySelectorAll("input");if(t)for(var o=0;o<t.length;o++){var r=t[o],i=window.getComputedStyle(r);if("none"!==i.display&&"visible"===i.visibility)return r}return null},t.prototype._triggerEditorEvents=function(e){if(e)for(var t=e.querySelectorAll(".wj-control"),o=0;o<t.length;o++){var r=t[o],i=wjcCore.Control.getControl(r);if(i){var n=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getBehavior(i);n&&n.flushPendingEvents()}}},t.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit},t.prototype._setFullEdit=function(e){var t=this.grid;e.forceFullEdit&&t.activeEditor&&(t._edtHdl._fullEdit=!0)},t._cellStampProp="__wjCellStamp",t}(wjcGrid.CellFactory),moduleExports=[WjFlexGrid,WjFlexGridColumn,WjFlexGridCellTemplate],WjGridModule=function(){function e(){}return e.decorators=[{type:core_1.NgModule,args:[{imports:[wijmo_angular2_directiveBase_1.WjDirectiveBaseModule,common_1.CommonModule],declarations:moduleExports.slice(),exports:moduleExports.slice()}]}],e.ctorParameters=function(){return[]},e}();exports.WjGridModule=WjGridModule;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.input.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
    *
    * Wijmo Library 5.20173.380
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wjcInput=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js"),wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),core_1=__webpack_require__("../../../core/esm5/core.js"),core_2=__webpack_require__("../../../core/esm5/core.js"),core_3=__webpack_require__("../../../core/esm5/core.js"),common_1=__webpack_require__("../../../common/esm5/common.js"),forms_1=__webpack_require__("../../../forms/esm5/forms.js"),wijmo_angular2_directiveBase_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.directiveBase.js");exports.wjComboBoxMeta={selector:"wj-combo-box",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","itemsSource","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjComboBox=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="selectedValue";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjComboBoxMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjComboBoxMeta.selector,template:exports.wjComboBoxMeta.template,inputs:exports.wjComboBoxMeta.inputs,outputs:exports.wjComboBoxMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjComboBoxMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.ComboBox);exports.WjComboBox=WjComboBox,exports.wjAutoCompleteMeta={selector:"wj-auto-complete",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","delay","maxItems","minLength","cssMatch","itemsSourceFunction","searchMemberPath","itemsSource","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjAutoComplete=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="selectedValue";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjAutoCompleteMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjAutoCompleteMeta.selector,template:exports.wjAutoCompleteMeta.template,inputs:exports.wjAutoCompleteMeta.inputs,outputs:exports.wjAutoCompleteMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjAutoCompleteMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.AutoComplete);exports.WjAutoComplete=WjAutoComplete,exports.wjCalendarMeta={selector:"wj-calendar",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","monthView","showHeader","itemFormatter","itemValidator","firstDayOfWeek","max","min","formatYearMonth","formatDayHeaders","formatDays","formatYear","formatMonths","selectionMode","isReadOnly","value","displayMonth"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","valueChangedNg: valueChanged","valueChangePC: valueChange","displayMonthChangedNg: displayMonthChanged","displayMonthChangePC: displayMonthChange","formatItemNg: formatItem"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjCalendar=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjCalendarMeta.outputs,changeEvents:{valueChanged:["value"],displayMonthChanged:["displayMonth"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjCalendarMeta.selector,template:exports.wjCalendarMeta.template,inputs:exports.wjCalendarMeta.inputs,outputs:exports.wjCalendarMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjCalendarMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.Calendar);exports.WjCalendar=WjCalendar,exports.wjColorPickerMeta={selector:"wj-color-picker",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","showAlphaChannel","showColorString","palette","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjColorPicker=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjColorPickerMeta.outputs,changeEvents:{valueChanged:["value"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjColorPickerMeta.selector,template:exports.wjColorPickerMeta.template,inputs:exports.wjColorPickerMeta.inputs,outputs:exports.wjColorPickerMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjColorPickerMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.ColorPicker);exports.WjColorPicker=WjColorPicker,exports.wjInputMaskMeta={selector:"wj-input-mask",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","mask","isRequired","promptChar","placeholder","rawValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","valueChangedNg: valueChanged","rawValueChangePC: rawValueChange","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputMask=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputMaskMeta.outputs,changeEvents:{valueChanged:["rawValue","value"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjInputMaskMeta.selector,template:exports.wjInputMaskMeta.template,inputs:exports.wjInputMaskMeta.inputs,outputs:exports.wjInputMaskMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjInputMaskMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.InputMask);exports.WjInputMask=WjInputMask,exports.wjInputColorMeta={selector:"wj-input-color",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","showAlphaChannel","value","text"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputColor=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputColorMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjInputColorMeta.selector,template:exports.wjInputColorMeta.template,inputs:exports.wjInputColorMeta.inputs,outputs:exports.wjInputColorMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjInputColorMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.InputColor);exports.WjInputColor=WjInputColor,exports.wjMultiSelectMeta={selector:"wj-multi-select",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","checkedMemberPath","maxHeaderItems","headerFormat","headerFormatter","showSelectAllCheckbox","selectAllLabel","itemsSource","checkedItems","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjMultiSelect=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="checkedItems";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjMultiSelectMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],checkedItemsChanged:["checkedItems"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjMultiSelectMeta.selector,template:exports.wjMultiSelectMeta.template,inputs:exports.wjMultiSelectMeta.inputs,outputs:exports.wjMultiSelectMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjMultiSelectMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.MultiSelect);exports.WjMultiSelect=WjMultiSelect,exports.wjMultiAutoCompleteMeta={selector:"wj-multi-auto-complete",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","delay","maxItems","minLength","cssMatch","itemsSourceFunction","searchMemberPath","maxSelectedItems","selectedItems","itemsSource","selectedMemberPath","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","selectedItemsChangedNg: selectedItemsChanged","selectedItemsChangePC: selectedItemsChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjMultiAutoComplete=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="selectedItems";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjMultiAutoCompleteMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],selectedItemsChanged:["selectedItems"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjMultiAutoCompleteMeta.selector,template:exports.wjMultiAutoCompleteMeta.template,inputs:exports.wjMultiAutoCompleteMeta.inputs,outputs:exports.wjMultiAutoCompleteMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjMultiAutoCompleteMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.MultiAutoComplete);exports.WjMultiAutoComplete=WjMultiAutoComplete,exports.wjInputNumberMeta={selector:"wj-input-number",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","showSpinner","max","min","step","isRequired","placeholder","inputType","format","isReadOnly","value","text"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","valueChangedNg: valueChanged","valueChangePC: valueChange","textChangedNg: textChanged","textChangePC: textChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputNumber=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputNumberMeta.outputs,changeEvents:{valueChanged:["value"],textChanged:["text"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjInputNumberMeta.selector,template:exports.wjInputNumberMeta.template,inputs:exports.wjInputNumberMeta.inputs,outputs:exports.wjInputNumberMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjInputNumberMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.InputNumber);exports.WjInputNumber=WjInputNumber,exports.wjInputDateMeta={selector:"wj-input-date",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","selectionMode","format","mask","max","min","inputType","itemValidator","itemFormatter","text","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputDate=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputDateMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjInputDateMeta.selector,template:exports.wjInputDateMeta.template,inputs:exports.wjInputDateMeta.inputs,outputs:exports.wjInputDateMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjInputDateMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.InputDate);exports.WjInputDate=WjInputDate,exports.wjInputTimeMeta={selector:"wj-input-time",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","max","min","step","format","mask","inputType","itemsSource","text","selectedIndex","selectedItem","selectedValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputTime=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputTimeMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],valueChanged:["value"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjInputTimeMeta.selector,template:exports.wjInputTimeMeta.template,inputs:exports.wjInputTimeMeta.inputs,outputs:exports.wjInputTimeMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjInputTimeMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.InputTime);exports.WjInputTime=WjInputTime,exports.wjInputDateTimeMeta={selector:"wj-input-date-time",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","selectionMode","format","mask","max","min","inputType","itemValidator","itemFormatter","timeMax","timeMin","timeStep","timeFormat","text","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputDateTime=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputDateTimeMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjInputDateTimeMeta.selector,template:exports.wjInputDateTimeMeta.template,inputs:exports.wjInputDateTimeMeta.inputs,outputs:exports.wjInputDateTimeMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjInputDateTimeMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.InputDateTime);exports.WjInputDateTime=WjInputDateTime,exports.wjListBoxMeta={selector:"wj-list-box",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isContentHtml","maxHeight","selectedValuePath","itemFormatter","displayMemberPath","checkedMemberPath","itemsSource","selectedIndex","selectedItem","selectedValue","checkedItems"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","formatItemNg: formatItem","itemsChangedNg: itemsChanged","itemCheckedNg: itemChecked","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjListBox=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="selectedValue";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjListBoxMeta.outputs,changeEvents:{selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],checkedItemsChanged:["checkedItems"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjListBoxMeta.selector,template:exports.wjListBoxMeta.template,inputs:exports.wjListBoxMeta.inputs,outputs:exports.wjListBoxMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjListBoxMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.ListBox);exports.WjListBox=WjListBox,exports.wjMenuMeta={selector:"wj-menu",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","header","commandParameterPath","commandPath","isButton","itemsSource","text","selectedIndex","selectedItem","selectedValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","itemClickedNg: itemClicked","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjMenu=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="selectedValue";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.itemsSource=new wjcCore.ObservableArray,r.selectedIndex=0,r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit(),this._attachToControl(),this._updateHeader()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy(),this.listBox.formatItem.removeHandler(this._fmtItem,this),this.listBox.loadingItems.removeHandler(this._loadingItems,this)},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,null!=e&&(this.selectedValue=e,this._updateHeader())},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){var t=e.header;t&&(this._definedHeader=t.currentValue,this._updateHeader())},t.prototype.ngAfterContentInit=function(){this.value=this.value},t.prototype.onItemClicked=function(t){this.value=this.selectedValue,e.prototype.onItemClicked.call(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._updateHeader()},t.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._loadingItems,this),this.invalidate()},t.prototype._loadingItems=function(e){for(var t=e.hostElement.getElementsByClassName("wj-listbox-item"),o=t.length-1;o>=0;o--)t[o].textContent=""},t.prototype._fmtItem=function(e,t){if(t.data instanceof WjMenuItem){var o=t.item;o.textContent="";var n=t.data,r=n.contentRoot;r&&(o.appendChild(r),n.added(o))}},t.prototype._updateHeader=function(){this.header=this._definedHeader||"";var e=this.selectedItem;if(null!=this.value&&e&&this.displayMemberPath){var t=null;if(e instanceof WjMenuItem){var o=e.contentRoot;t=o?o.innerHTML:e[this.displayMemberPath]}null!=t&&(this.header+=": <b>"+t+"</b>")}},t.meta={outputs:exports.wjMenuMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],itemClicked:["value"]}},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjMenuMeta.selector,template:exports.wjMenuMeta.template,inputs:exports.wjMenuMeta.inputs,outputs:exports.wjMenuMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjMenuMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.Menu);exports.WjMenu=WjMenu,exports.wjMenuItemMeta={selector:"wj-menu-item",template:"<div *wjMenuItemTemplateDir><ng-content></ng-content></div>",inputs:["wjProperty","value","cmd","cmdParam"],outputs:["initialized"],providers:[]};var WjMenuItem=function(){function e(e,t,o,n,r){this.viewContainerRef=n,this.domRenderer=r,this.isInitialized=!1,this.wjProperty="itemsSource";var a=this._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(this,e,t,o);this._ownerMenu=a.parentBehavior.directive,this.created()}return e.prototype.created=function(){},e.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit();var e=this._ownerMenu;1==e.itemsSource.length&&e.selectedIndex<0&&(e.selectedIndex=0),e.displayMemberPath||(e.displayMemberPath="header"),e.selectedValuePath||(e.selectedValuePath="value"),e.commandPath||(e.commandPath="cmd"),e.commandParameterPath||(e.commandParameterPath="cmdParam")},e.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},e.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},e.prototype.added=function(e){},e.meta={outputs:exports.wjMenuItemMeta.outputs,siblingId:"menuItemDir"},e.decorators=[{type:core_1.Component,args:[{selector:exports.wjMenuItemMeta.selector,template:exports.wjMenuItemMeta.template,inputs:exports.wjMenuItemMeta.inputs,outputs:exports.wjMenuItemMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return e})}].concat(exports.wjMenuItemMeta.providers)}]}],e.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]},{type:core_2.ViewContainerRef,decorators:[{type:core_3.Inject,args:[core_2.ViewContainerRef]}]},{type:core_2.Renderer,decorators:[{type:core_3.Inject,args:[core_2.Renderer]}]}]},e}();exports.WjMenuItem=WjMenuItem;var WjMenuItemTemplateDir=function(){function e(e,t,o,n,r,a,i){this.viewContainerRef=e,this.templateRef=t,this.elRef=o,this.domRenderer=r,this.ownerItem=a||i,this.ownerItem.templateDir=this}return e.prototype.ngAfterContentInit=function(){var e=this;setTimeout(function(){var t=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.instantiateTemplate(null,e.viewContainerRef,e.templateRef,e.domRenderer,!0).rootElement;e.contentRoot=t,e.ownerItem.contentRoot=t,e.ownerItem._ownerMenu.listBox.invalidate(),e.ownerItem._ownerMenu.invalidate()},0)},e.decorators=[{type:core_2.Directive,args:[{selector:"[wjMenuItemTemplateDir]",inputs:["wjMenuItemTemplateDir"]}]}],e.ctorParameters=function(){return[{type:core_2.ViewContainerRef,decorators:[{type:core_3.Inject,args:[core_2.ViewContainerRef]}]},{type:core_2.TemplateRef,decorators:[{type:core_3.Inject,args:[core_2.TemplateRef]},{type:core_2.Optional}]},{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:core_2.Renderer,decorators:[{type:core_3.Inject,args:[core_2.Renderer]}]},{type:WjMenuItem,decorators:[{type:core_3.Inject,args:[WjMenuItem]},{type:core_2.Optional}]},{type:WjMenuSeparator,decorators:[{type:core_3.Inject,args:[core_2.forwardRef(function(){return WjMenuSeparator})]},{type:core_2.Optional}]}]},e}();exports.WjMenuItemTemplateDir=WjMenuItemTemplateDir,exports.wjMenuSeparatorMeta={selector:"wj-menu-separator",template:'<div *wjMenuItemTemplateDir class="wj-state-disabled" style="width:100%;height:1px;background-color:lightgray"></div>',inputs:["wjProperty"],outputs:["initialized"],providers:[]};var WjMenuSeparator=function(e){function t(t,o,n,r,a){var i=e.call(this,t,o,n,r,a)||this;return i.created(),i}return __extends(t,e),t.prototype.added=function(e){wjcCore.addClass(e,"wj-state-disabled")},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjMenuSeparatorMeta.selector,template:exports.wjMenuSeparatorMeta.template,inputs:exports.wjMenuSeparatorMeta.inputs,outputs:exports.wjMenuSeparatorMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjMenuSeparatorMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]},{type:core_2.ViewContainerRef,decorators:[{type:core_3.Inject,args:[core_2.ViewContainerRef]}]},{type:core_2.Renderer,decorators:[{type:core_3.Inject,args:[core_2.Renderer]}]}]},t}(WjMenuItem);exports.WjMenuSeparator=WjMenuSeparator,exports.wjItemTemplateMeta={selector:"[wjItemTemplate]",inputs:["wjItemTemplate"],outputs:["initialized"],exportAs:"wjItemTemplate",providers:[]};var WjItemTemplate=function(){function e(t,o,n,r,a,i,s){this.viewContainerRef=r,this.templateRef=a,this.domRenderer=i,this.isInitialized=!1;var p=this._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(this,t,o,n);this.ownerControl=p.parentBehavior.directive,this.listBox=e._getListBox(this.ownerControl),this._cdRef=s,this.created()}return e.prototype.created=function(){},e.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit(),this._attachToControl()},e.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},e.prototype.ngOnDestroy=function(){var e=this.ownerControl,t=this.listBox;t&&(t.formatItem.removeHandler(this._fmtItem,this),t.loadingItems.removeHandler(this._loadingItems,this)),e&&e.invalidate()},e.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._loadingItems,this),this.ownerControl.invalidate()},e.prototype._loadingItems=function(e){this.viewContainerRef.clear()},e.prototype._fmtItem=function(e,t){var o=t.item;o.textContent="";var n=this._instantiateTemplate(o);n.context.control=e,n.context.item=t.data,n.context.itemIndex=t.index,t.index===this.listBox.collectionView.items.length-1&&this._cdRef.detectChanges()},e.prototype._instantiateTemplate=function(e){return wijmo_angular2_directiveBase_1.WjDirectiveBehavior.instantiateTemplate(e,this.viewContainerRef,this.templateRef,this.domRenderer).viewRef},e._getListBox=function(e){return e?e instanceof wjcInput.ListBox?e:e.listBox:null},e.meta={outputs:exports.wjItemTemplateMeta.outputs,parentRefProperty:"owner"},e.decorators=[{type:core_2.Directive,args:[{selector:exports.wjItemTemplateMeta.selector,inputs:exports.wjItemTemplateMeta.inputs,outputs:exports.wjItemTemplateMeta.outputs,exportAs:exports.wjItemTemplateMeta.exportAs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return e})}].concat(exports.wjItemTemplateMeta.providers)}]}],e.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]},{type:core_2.ViewContainerRef,decorators:[{type:core_3.Inject,args:[core_2.ViewContainerRef]}]},{type:core_2.TemplateRef,decorators:[{type:core_3.Inject,args:[core_2.TemplateRef]},{type:core_2.Optional}]},{type:core_2.Renderer,decorators:[{type:core_3.Inject,args:[core_2.Renderer]}]},{type:core_3.ChangeDetectorRef,decorators:[{type:core_3.Inject,args:[core_3.ChangeDetectorRef]}]}]},e}();exports.WjItemTemplate=WjItemTemplate,exports.wjPopupMeta={selector:"wj-popup",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","owner","showTrigger","hideTrigger","fadeIn","fadeOut","dialogResultEnter","modal","removeOnHide"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","showingNg: showing","shownNg: shown","hidingNg: hiding","hiddenNg: hidden"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjPopup=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1;r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}return __extends(t,e),t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.prototype.ngOnChanges=function(e){e.owner&&null==this.modal&&(this.modal=!this.owner)},t.prototype.dispose=function(){this.isVisible&&(this.hiding.removeAllHandlers(),this.fadeOut=!1,this.hide()),e.prototype.dispose.call(this)},t.meta={outputs:exports.wjPopupMeta.outputs},t.decorators=[{type:core_1.Component,args:[{selector:exports.wjPopupMeta.selector,template:exports.wjPopupMeta.template,inputs:exports.wjPopupMeta.inputs,outputs:exports.wjPopupMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return t})}].concat(exports.wjPopupMeta.providers)}]}],t.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},t}(wjcInput.Popup);exports.WjPopup=WjPopup;var WjContextMenu=function(){function e(e){this.elRef=e}return e.prototype.onContextMenu=function(e){var t=this.wjContextMenu,o=t.dropDown;t&&o&&!wjcCore.closest(e.target,"[disabled]")&&(e.preventDefault(),t.owner=this.elRef.nativeElement,t.show(e))},e.decorators=[{type:core_2.Directive,args:[{selector:"[wjContextMenu]",inputs:["wjContextMenu"],exportAs:"wjContextMenu",host:{"(contextmenu)":"onContextMenu($event)"}}]}],e.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]}]},e}();exports.WjContextMenu=WjContextMenu,exports.wjCollectionViewNavigatorMeta={selector:"wj-collection-view-navigator",template:'<div class="wj-control wj-content wj-pager">\n                <div class="wj-input-group">\n                    <span class="wj-input-group-btn" >\n                        <button class="wj-btn wj-btn-default" type="button"\n                           (click)="cv.moveCurrentToFirst()"\n                           [disabled]="!cv || cv?.currentPosition <= 0">\n                            <span class="wj-glyph-left" style="margin-right: -4px;"></span>\n                            <span class="wj-glyph-left"></span>\n                         </button>\n                    </span>\n                    <span class="wj-input-group-btn" >\n                       <button class="wj-btn wj-btn-default" type="button"\n                           (click)="cv.moveCurrentToPrevious()"\n                           [disabled]="!cv || cv?.currentPosition <= 0">\n                            <span class="wj-glyph-left"></span>\n                       </button>\n                    </span>\n                    <input type="text" class="wj-form-control" \n                           value="{{cv?.currentPosition + 1 | number}} / {{cv?.itemCount | number}}" \n                           disabled />\n                    <span class="wj-input-group-btn" >\n                        <button class="wj-btn wj-btn-default" type="button"\n                           (click)="cv.moveCurrentToNext()"\n                           [disabled]="!cv || cv?.currentPosition >= cv?.itemCount - 1">\n                            <span class="wj-glyph-right"></span>\n                        </button>\n                    </span>\n                    <span class="wj-input-group-btn" >\n                        <button class="wj-btn wj-btn-default" type="button"\n                           (click)="cv.moveCurrentToLast()"\n                           [disabled]="!cv || cv?.currentPosition >= cv?.itemCount - 1">\n                            <span class="wj-glyph-right"></span>\n                            <span class="wj-glyph-right" style="margin-left: -4px;"></span>\n                        </button>\n                    </span>\n                </div>\n            </div>',inputs:["wjModelProperty","cv"],outputs:["initialized"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjCollectionViewNavigator=function(){function e(e,t,o){this.isInitialized=!1;this._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(this,e,t,o);this.created()}return e.prototype.created=function(){},e.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},e.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},e.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},e.meta={outputs:exports.wjCollectionViewNavigatorMeta.outputs},e.decorators=[{type:core_1.Component,args:[{selector:exports.wjCollectionViewNavigatorMeta.selector,template:exports.wjCollectionViewNavigatorMeta.template,inputs:exports.wjCollectionViewNavigatorMeta.inputs,outputs:exports.wjCollectionViewNavigatorMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return e})}].concat(exports.wjCollectionViewNavigatorMeta.providers)}]}],e.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},e}();exports.WjCollectionViewNavigator=WjCollectionViewNavigator,exports.wjCollectionViewPagerMeta={selector:"wj-collection-view-pager",template:'<div class="wj-control wj-content wj-pager" >\n                <div class="wj-input-group">\n                    <span class="wj-input-group-btn" >\n                        <button class="wj-btn wj-btn-default" type="button"\n                            (click)="cv.moveToFirstPage()"\n                            [disabled]="!cv || cv?.pageIndex <= 0">\n                            <span class="wj-glyph-left" style="margin-right: -4px;"></span>\n                            <span class="wj-glyph-left"></span>\n                        </button>\n                    </span>\n                    <span class="wj-input-group-btn" >\n                    <button class="wj-btn wj-btn-default" type="button"\n                            (click)="cv.moveToPreviousPage()"\n                            [disabled]="!cv || cv?.pageIndex <= 0">\n                            <span class="wj-glyph-left"></span>\n                        </button>\n                    </span>\n                    <input type="text" class="wj-form-control" \n                           value="{{cv?.pageIndex + 1 | number}} / {{cv?.pageCount | number}}" \n                           disabled />\n                    <span class="wj-input-group-btn" >\n                        <button class="wj-btn wj-btn-default" type="button"\n                            (click)="cv.moveToNextPage()"\n                            [disabled]="!cv || cv?.pageIndex >= cv?.pageCount - 1">\n                            <span class="wj-glyph-right"></span>\n                        </button>\n                    </span>\n                    <span class="wj-input-group-btn" >\n                        <button class="wj-btn wj-btn-default" type="button"\n                            (click)="cv.moveToLastPage()"\n                            [disabled]="!cv || cv?.pageIndex >= cv?.pageCount - 1">\n                            <span class="wj-glyph-right"></span>\n                            <span class="wj-glyph-right" style="margin-left: -4px;"></span>\n                        </button>\n                    </span>\n                </div>\n            </div>',inputs:["wjModelProperty","cv"],outputs:["initialized"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjCollectionViewPager=function(){function e(e,t,o){this.isInitialized=!1;this._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(this,e,t,o);this.created()}return e.prototype.created=function(){},e.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},e.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},e.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},e.meta={outputs:exports.wjCollectionViewPagerMeta.outputs},e.decorators=[{type:core_1.Component,args:[{selector:exports.wjCollectionViewPagerMeta.selector,template:exports.wjCollectionViewPagerMeta.template,inputs:exports.wjCollectionViewPagerMeta.inputs,outputs:exports.wjCollectionViewPagerMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return e})}].concat(exports.wjCollectionViewPagerMeta.providers)}]}],e.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},e}();exports.WjCollectionViewPager=WjCollectionViewPager;var moduleExports=[WjComboBox,WjAutoComplete,WjCalendar,WjColorPicker,WjInputMask,WjInputColor,WjMultiSelect,WjMultiAutoComplete,WjInputNumber,WjInputDate,WjInputTime,WjInputDateTime,WjListBox,WjMenu,WjMenuItem,WjMenuSeparator,WjItemTemplate,WjPopup,WjContextMenu,WjCollectionViewNavigator,WjCollectionViewPager],WjInputModule=function(){function e(){}return e.decorators=[{type:core_1.NgModule,args:[{imports:[wijmo_angular2_directiveBase_1.WjDirectiveBaseModule,common_1.CommonModule],declarations:moduleExports.concat([WjMenuItemTemplateDir]),exports:moduleExports.slice()}]}],e.ctorParameters=function(){return[]},e}();exports.WjInputModule=WjInputModule;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.viewer.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
    *
    * Wijmo Library 5.20173.380
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t])};return function(o,t){function r(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wjcViewer=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.viewer.js"),wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),core_1=__webpack_require__("../../../core/esm5/core.js"),core_2=__webpack_require__("../../../core/esm5/core.js"),core_3=__webpack_require__("../../../core/esm5/core.js"),common_1=__webpack_require__("../../../common/esm5/common.js"),forms_1=__webpack_require__("../../../forms/esm5/forms.js"),wijmo_angular2_directiveBase_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.directiveBase.js");exports.wjReportViewerMeta={selector:"wj-report-viewer",template:"",inputs:["asyncBindings","wjModelProperty","serviceUrl","filePath","fullScreen","zoomFactor","mouseMode","selectMouseMode","viewMode","paginated","reportName"],outputs:["initialized","pageIndexChangedNg: pageIndexChanged","viewModeChangedNg: viewModeChanged","viewModeChangePC: viewModeChange","mouseModeChangedNg: mouseModeChanged","mouseModeChangePC: mouseModeChange","selectMouseModeChangedNg: selectMouseModeChanged","selectMouseModeChangePC: selectMouseModeChange","fullScreenChangedNg: fullScreenChanged","fullScreenChangePC: fullScreenChange","zoomFactorChangedNg: zoomFactorChanged","zoomFactorChangePC: zoomFactorChange","queryLoadingDataNg: queryLoadingData"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjReportViewer=function(e){function o(o,t,r){var n=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(o,t))||this;n.isInitialized=!1;n._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(n,o,t,r);return n.created(),n}return __extends(o,e),o.prototype.created=function(){},o.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},o.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},o.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},o.prototype.addEventListener=function(o,t,r,n){var a=this;void 0===n&&(n=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[t]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,o,t,r,n)}):e.prototype.addEventListener.call(this,o,t,r,n)},o.prototype.onSelectMouseModeChanged=function(e){(this.selectMouseModeChanged._handlers.length>1||this.selectMouseModeChangedNg.observers.length>0)&&wjcCore._deprecated("selectMouseModeChanged","mouseModeChanged"),this.selectMouseModeChanged.raise(this,e)},o.meta={outputs:exports.wjReportViewerMeta.outputs,changeEvents:{viewModeChanged:["viewMode"],mouseModeChanged:["mouseMode"],selectMouseModeChanged:["selectMouseMode"],fullScreenChanged:["fullScreen"],zoomFactorChanged:["zoomFactor"]}},o.decorators=[{type:core_1.Component,args:[{selector:exports.wjReportViewerMeta.selector,template:exports.wjReportViewerMeta.template,inputs:exports.wjReportViewerMeta.inputs,outputs:exports.wjReportViewerMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return o})}].concat(exports.wjReportViewerMeta.providers)}]}],o.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},o}(wjcViewer.ReportViewer);exports.WjReportViewer=WjReportViewer,exports.wjPdfViewerMeta={selector:"wj-pdf-viewer",template:"",inputs:["asyncBindings","wjModelProperty","serviceUrl","filePath","fullScreen","zoomFactor","mouseMode","selectMouseMode","viewMode"],outputs:["initialized","pageIndexChangedNg: pageIndexChanged","viewModeChangedNg: viewModeChanged","viewModeChangePC: viewModeChange","mouseModeChangedNg: mouseModeChanged","mouseModeChangePC: mouseModeChange","selectMouseModeChangedNg: selectMouseModeChanged","selectMouseModeChangePC: selectMouseModeChange","fullScreenChangedNg: fullScreenChanged","fullScreenChangePC: fullScreenChange","zoomFactorChangedNg: zoomFactorChanged","zoomFactorChangePC: zoomFactorChange","queryLoadingDataNg: queryLoadingData"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjPdfViewer=function(e){function o(o,t,r){var n=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(o,t))||this;n.isInitialized=!1;n._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(n,o,t,r);return n.created(),n}return __extends(o,e),o.prototype.created=function(){},o.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},o.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},o.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},o.prototype.addEventListener=function(o,t,r,n){var a=this;void 0===n&&(n=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[t]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,o,t,r,n)}):e.prototype.addEventListener.call(this,o,t,r,n)},o.prototype.onSelectMouseModeChanged=function(e){(this.selectMouseModeChanged._handlers.length>1||this.selectMouseModeChangedNg.observers.length>0)&&wjcCore._deprecated("selectMouseModeChanged","mouseModeChanged"),this.selectMouseModeChanged.raise(this,e)},o.meta={outputs:exports.wjPdfViewerMeta.outputs,changeEvents:{viewModeChanged:["viewMode"],mouseModeChanged:["mouseMode"],selectMouseModeChanged:["selectMouseMode"],fullScreenChanged:["fullScreen"],zoomFactorChanged:["zoomFactor"]}},o.decorators=[{type:core_1.Component,args:[{selector:exports.wjPdfViewerMeta.selector,template:exports.wjPdfViewerMeta.template,inputs:exports.wjPdfViewerMeta.inputs,outputs:exports.wjPdfViewerMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_2.forwardRef(function(){return o})}].concat(exports.wjPdfViewerMeta.providers)}]}],o.ctorParameters=function(){return[{type:core_2.ElementRef,decorators:[{type:core_3.Inject,args:[core_2.ElementRef]}]},{type:core_2.Injector,decorators:[{type:core_3.Inject,args:[core_2.Injector]}]},{type:void 0,decorators:[{type:core_3.Inject,args:["WjComponent"]},{type:core_3.SkipSelf},{type:core_2.Optional}]}]},o}(wjcViewer.PdfViewer);exports.WjPdfViewer=WjPdfViewer;var moduleExports=[WjReportViewer,WjPdfViewer],WjViewerModule=function(){function e(){}return e.decorators=[{type:core_1.NgModule,args:[{imports:[wijmo_angular2_directiveBase_1.WjDirectiveBaseModule,common_1.CommonModule],declarations:moduleExports.slice(),exports:moduleExports.slice()}]}],e.ctorParameters=function(){return[]},e}();exports.WjViewerModule=WjViewerModule;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.filter.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
    *
    * Wijmo Library 5.20173.380
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wjcGrid=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.js"),wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),wjcInput=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js"),wjcSelf=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.filter.js");window.wijmo=window.wijmo||{},window.wijmo.grid=window.wijmo.grid||{},window.wijmo.grid.filter=wjcSelf;var ValueFilter=function(){function e(e){this._maxValues=250,this._sortValues=!0,this._col=e,this._bnd=e.binding?new wjcCore.Binding(e.binding):null}return Object.defineProperty(e.prototype,"showValues",{get:function(){return this._values},set:function(e){this._values=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterText",{get:function(){return this._filterText},set:function(e){this._filterText=wjcCore.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValues",{get:function(){return this._maxValues},set:function(e){this._maxValues=wjcCore.asNumber(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(e){this._uniqueValues=wjcCore.asArray(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortValues",{get:function(){return this._sortValues},set:function(e){this._sortValues=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map=wjcCore.asType(e,wjcGrid.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return null!=this._values&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=this.column;return!(this._bnd&&this._values&&Object.keys(this._values).length)||(e=this._bnd.getValue(e),e=this.dataMap?this.dataMap.getDisplayValue(e):t.dataMap?t.dataMap.getDisplayValue(e):wjcCore.Globalize.format(e,t.format),void 0!=this._values[e])},e.prototype.clear=function(){this.showValues=null,this.filterText=null},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e.prototype._getUniqueValues=function(e,t){var i=[];if(this.uniqueValues){for(var r=this.uniqueValues,n=0;n<r.length;n++){u=r[n];i.push({value:u,text:u.toString()})}return i}var o={},l=e.collectionView?e.collectionView.sourceCollection:[],a=e.collectionView;if(t&&a&&a.sourceCollection&&a.filter){var s=this.showValues;this.showValues=null;for(var c=[],n=0;n<l.length;n++)a.filter(l[n])&&c.push(l[n]);l=c,this.showValues=s}for(n=0;n<l.length;n++){var u=e._binding.getValue(l[n]),p=this.dataMap?this.dataMap.getDisplayValue(u):e.dataMap?e.dataMap.getDisplayValue(u):wjcCore.Globalize.format(u,e.format);o[p]||(o[p]=!0,i.push({value:u,text:p}))}return i},e}();exports.ValueFilter=ValueFilter;var ValueFilterEditor=function(e){function t(t,i){var r=e.call(this,t)||this;r._filter=wjcCore.asType(i,ValueFilter,!1);var n=r.getTemplate();if(r.applyTemplate("wj-control",n,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),wjcCore.setText(r._spSelectAll,wjcCore.culture.FlexGridFilter.selectAll),r._view=new wjcCore.CollectionView,i.sortValues){var o=i.column.dataMap||i.dataMap?"text":"value",l=i.column.dataType!=wjcCore.DataType.Boolean;r._view.sortDescriptions.push(new wjcCore.SortDescription(o,l))}return r._view.filter=r._filterValues.bind(r),r._view.collectionChanged.addHandler(r._updateSelectAllCheck,r),r._filterText="",r._cmbFilter=new wjcInput.ComboBox(r._divFilter,{placeholder:wjcCore.culture.FlexGridFilter.search}),r._lbValues=new wjcInput.ListBox(r._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:r._view,itemFormatter:function(e,t){return t||wjcCore.culture.FlexGridFilter.null}}),r._cmbFilter.textChanged.addHandler(r._filterTextChanged,r),r._cbSelectAll.addEventListener("click",r._cbSelectAllClicked.bind(r)),r.updateEditor(),r}return __extends(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this;setTimeout(function(){e._updateEditor()})},t.prototype._updateEditor=function(){var e=this,t=this._filter.column,i=this._filter._getUniqueValues(t,!0);this._lbValues.isContentHtml=t.isContentHtml;var r=this._filter.showValues;if(r&&0!=Object.keys(r).length){for(var n in r)for(o=0;o<i.length;o++)if(i[o].text==n){i[o].show=!0;break}}else for(var o=0;o<i.length;o++)i[o].show=!0;this._view.pageSize=20,this._view.sourceCollection=i,this._view.moveCurrentTo(null),setTimeout(function(){e._view.pageSize=e._filter.maxValues,e._cmbFilter.text=e._filter.filterText,e._filterText=e._cmbFilter.text.toLowerCase()})},t.prototype.clearEditor=function(){this._cmbFilter.text="",this._filterText="",this._view.pageSize=0,this._view.refresh();for(var e=this._view.items,t=0;t<e.length;t++)e[t].show=!1;this._view.pageSize=this._filter.maxValues},t.prototype.updateFilter=function(){var e=null,t=this._view.items;if(this._filterText||this._cbSelectAll.indeterminate){e={};for(var i=0;i<t.length;i++){var r=t[i];r.show&&(e[r.text]=!0)}}this._filter.showValues=e,this._filter.filterText=this._filterText},t.prototype._filterTextChanged=function(){var e=this;this._toText&&clearTimeout(this._toText),this._toText=setTimeout(function(){var t=e._cmbFilter.text.toLowerCase();t!=e._filterText&&(e._filterText=t,e._view.refresh(),e._cbSelectAll.checked=!0,e._cbSelectAllClicked())},500)},t.prototype._filterValues=function(e){return!this._filterText||!(!e||!e.text)&&e.text.toLowerCase().indexOf(this._filterText)>-1},t.prototype._cbSelectAllClicked=function(){for(var e=this._cbSelectAll.checked,t=this._view.items,i=0;i<t.length;i++)t[i].show=e;this._view.refresh()},t.prototype._updateSelectAllCheck=function(){for(var e=0,t=this._view.items,i=0;i<t.length;i++)t[i].show&&e++;0==e?(this._cbSelectAll.checked=!1,this._cbSelectAll.indeterminate=!1):e==t.length?(this._cbSelectAll.checked=!0,this._cbSelectAll.indeterminate=!1):this._cbSelectAll.indeterminate=!0},t.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values" style="height:150px"></div></div>',t}(wjcCore.Control);exports.ValueFilterEditor=ValueFilterEditor;var ConditionFilter=function(){function e(e){this._c1=new FilterCondition,this._c2=new FilterCondition,this._and=!0,this._col=e,this._bnd=e.binding?new wjcCore.Binding(e.binding):null}return Object.defineProperty(e.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"and",{get:function(){return this._and},set:function(e){this._and=wjcCore.asBoolean(e),this._bnd=this._col&&this._col.binding?new wjcCore.Binding(this._col.binding):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map=wjcCore.asType(e,wjcGrid.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=this._col,i=this._c1,r=this._c2;if(!this._bnd||!this.isActive)return!0;e=this._bnd.getValue(e),t.dataMap?e=t.dataMap.getDisplayValue(e):wjcCore.isDate(e)?(wjcCore.isString(i.value)||wjcCore.isString(r.value))&&(e=wjcCore.Globalize.format(e,t.format)):wjcCore.isNumber(e)&&(e=wjcCore.Globalize.parseFloat(wjcCore.Globalize.format(e,t.format)));var n=i.apply(e),o=r.apply(e);return i.isActive&&r.isActive?this._and?n&&o:n||o:i.isActive?n:!r.isActive||o},e.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}();exports.ConditionFilter=ConditionFilter;var ConditionFilterEditor=function(e){function t(t,i){var r=e.call(this,t)||this;r._filter=wjcCore.asType(i,ConditionFilter,!1);var n=r.getTemplate();r.applyTemplate("wj-control",n,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"});var o=wjcCore.culture.FlexGridFilter;wjcCore.setText(r._divHdr,o.header),wjcCore.setText(r._spAnd,o.and),wjcCore.setText(r._spOr,o.or),r._cmb1=r._createOperatorCombo(r._divCmb1),r._cmb2=r._createOperatorCombo(r._divCmb2),r._val1=r._createValueInput(r._divVal1),r._val2=r._createValueInput(r._divVal2);var l=r._btnAndOrChanged.bind(r);return r._btnAnd.addEventListener("change",l),r._btnOr.addEventListener("change",l),r.updateEditor(),r}return __extends(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.condition1,t=this._filter.condition2;this._cmb1.selectedValue=e.operator,this._cmb2.selectedValue=t.operator,this._val1 instanceof wjcInput.ComboBox?(this._val1.text=wjcCore.changeType(e.value,wjcCore.DataType.String,null),this._val2.text=wjcCore.changeType(t.value,wjcCore.DataType.String,null)):(this._val1.value=e.value,this._val2.value=t.value),this._btnAnd.checked=this._filter.and,this._btnOr.checked=!this._filter.and},t.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._btnAnd.checked=!0,this._btnOr.checked=!1},t.prototype.updateFilter=function(){var e=this._filter.column,t=this._filter.condition1,i=this._filter.condition2;if(t.operator=this._cmb1.selectedValue,i.operator=this._cmb2.selectedValue,this._val1 instanceof wjcInput.ComboBox){var r=e.dataType==wjcCore.DataType.Date?wjcCore.DataType.String:e.dataType;t.value=wjcCore.changeType(this._val1.text,r,e.format),i.value=wjcCore.changeType(this._val2.text,r,e.format)}else t.value=this._val1.value,i.value=this._val2.value;this._filter.and=this._btnAnd.checked},t.prototype._createOperatorCombo=function(e){var t=this._filter.column,i=wjcCore.culture.FlexGridFilter.stringOperators;t.dataType!=wjcCore.DataType.Date||this._isTimeFormat(t.format)?t.dataType!=wjcCore.DataType.Number||t.dataMap?t.dataType!=wjcCore.DataType.Boolean||t.dataMap||(i=wjcCore.culture.FlexGridFilter.booleanOperators):i=wjcCore.culture.FlexGridFilter.numberOperators:i=wjcCore.culture.FlexGridFilter.dateOperators;var r=new wjcInput.ComboBox(e);return r.itemsSource=i,r.displayMemberPath="name",r.selectedValuePath="op",r},t.prototype._createValueInput=function(e){var t=this._filter.column,i=null;return t.dataType!=wjcCore.DataType.Date||this._isTimeFormat(t.format)?t.dataType!=wjcCore.DataType.Number||t.dataMap?(i=new wjcInput.ComboBox(e)).itemsSource=this._filter.dataMap?this._filter.dataMap.getDisplayValues():t.dataMap?t.dataMap.getDisplayValues():t.dataType==wjcCore.DataType.Boolean?[!0,!1]:null:(i=new wjcInput.InputNumber(e)).format=t.format:(i=new wjcInput.InputDate(e)).format=t.format,i.isRequired=!1,i},t.prototype._isTimeFormat=function(e){return!!e&&(e=wjcCore.culture.Globalize.calendar.patterns[e]||e,/[Hmst]+/.test(e))},t.prototype._btnAndOrChanged=function(e){this._btnAnd.checked=e.target==this._btnAnd,this._btnOr.checked=e.target==this._btnOr},t.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div style="text-align:center"><label><input wj-part="btn-and" type="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',t}(wjcCore.Control);exports.ConditionFilterEditor=ConditionFilterEditor;var FilterCondition=function(){function e(){this._op=null}return Object.defineProperty(e.prototype,"operator",{get:function(){return this._op},set:function(e){this._op=wjcCore.asEnum(e,Operator,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._val},set:function(e){this._val=e,this._strVal=wjcCore.isString(e)?e.toString().toLowerCase():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case Operator.EQ:case Operator.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.operator=null,this.value=null},e.prototype.apply=function(e){var t=this._strVal||this._val;switch(wjcCore.isString(e)&&(e=e.toLowerCase()),wjcCore.isString(t)&&null==e&&(e=""),this._op){case null:return!0;case Operator.EQ:return wjcCore.isDate(e)&&wjcCore.isDate(t)?wjcCore.DateTime.sameDate(e,t):e==t;case Operator.NE:return e!=t;case Operator.GT:return e>t;case Operator.GE:return e>=t;case Operator.LT:return e<t;case Operator.LE:return e<=t;case Operator.BW:return!(!this._strVal||!wjcCore.isString(e))&&0==e.indexOf(this._strVal);case Operator.EW:return!!(this._strVal&&wjcCore.isString(e)&&e.length>=this._strVal.length)&&e.substr(e.length-this._strVal.length)==t;case Operator.CT:return!(!this._strVal||!wjcCore.isString(e))&&e.indexOf(this._strVal)>-1;case Operator.NC:return!(!this._strVal||!wjcCore.isString(e))&&e.indexOf(this._strVal)<0}throw"Unknown operator"},e}();exports.FilterCondition=FilterCondition;var Operator;!function(e){e[e.EQ=0]="EQ",e[e.NE=1]="NE",e[e.GT=2]="GT",e[e.GE=3]="GE",e[e.LT=4]="LT",e[e.LE=5]="LE",e[e.BW=6]="BW",e[e.EW=7]="EW",e[e.CT=8]="CT",e[e.NC=9]="NC"}(Operator=exports.Operator||(exports.Operator={}));var ColumnFilter=function(){function e(e,t){this._owner=e,this._col=t,this._valueFilter=new ValueFilter(t),this._conditionFilter=new ConditionFilter(t)}return Object.defineProperty(e.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(e){if(e!=this._filterType){var t=this.isActive;this.clear(),this._filterType=wjcCore.asEnum(e,FilterType,!0),t?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(e){this.conditionFilter.dataMap=e,this.valueFilter.dataMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){return this._conditionFilter.apply(e)&&this._valueFilter.apply(e)},e.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}();exports.ColumnFilter=ColumnFilter,wjcCore.culture.FlexGridFilter=window.wijmo.culture.FlexGridFilter||{ascending:"↑ Ascending",descending:"↓ Descending",apply:"Apply",cancel:"Cancel",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All",null:"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:Operator.EQ},{name:"Does not equal",op:Operator.NE},{name:"Begins with",op:Operator.BW},{name:"Ends with",op:Operator.EW},{name:"Contains",op:Operator.CT},{name:"Does not contain",op:Operator.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:Operator.EQ},{name:"Does not equal",op:Operator.NE},{name:"Is Greater than",op:Operator.GT},{name:"Is Greater than or equal to",op:Operator.GE},{name:"Is Less than",op:Operator.LT},{name:"Is Less than or equal to",op:Operator.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:Operator.EQ},{name:"Is Before",op:Operator.LT},{name:"Is After",op:Operator.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:Operator.EQ},{name:"Does not equal",op:Operator.NE}]};var ColumnFilterEditor=function(e){function t(t,i,r){void 0===r&&(r=!0);var n=e.call(this,t,null,!0)||this;n.filterChanged=new wjcCore.Event,n.buttonClicked=new wjcCore.Event,n._filter=wjcCore.asType(i,ColumnFilter);var o=n.getTemplate();n.applyTemplate("wj-control wj-columnfiltereditor wj-content",o,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClear:"btn-clear"});var l=wjcCore.culture.FlexGridFilter;wjcCore.setText(n._btnAsc,l.ascending),wjcCore.setText(n._btnDsc,l.descending),wjcCore.setText(n._aVal,l.values),wjcCore.setText(n._aCnd,l.conditions),wjcCore.setText(n._btnApply,l.apply),wjcCore.setText(n._btnCancel,l.cancel),wjcCore.setText(n._btnClear,l.clear);var a=n.filter.conditionFilter.isActive||0==(i.filterType&FilterType.Value)?FilterType.Condition:FilterType.Value;n._showFilter(a);var s=n.filter.column.grid.collectionView;r&&s&&s.canSort||(n._divSort.style.display="none");var c=n._btnClicked.bind(n);return n._btnApply.addEventListener("click",c),n._btnCancel.addEventListener("click",c),n._btnClear.addEventListener("click",c),n._btnAsc.addEventListener("click",c),n._btnDsc.addEventListener("click",c),n._aVal.addEventListener("click",c),n._aCnd.addEventListener("click",c),n.hostElement.addEventListener("keydown",function(e){switch(e.keyCode){case wjcCore.Key.Enter:switch(e.target.tagName){case"A":case"BUTTON":n._btnClicked(e);break;default:n.updateFilter(),n.onFilterChanged(),n.onButtonClicked()}e.preventDefault();break;case wjcCore.Key.Escape:n.onButtonClicked(),e.preventDefault()}}),n}return __extends(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},t.prototype.updateFilter=function(){switch(this._getFilterType()){case FilterType.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case FilterType.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},t.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},t.prototype.onButtonClicked=function(e){this.buttonClicked.raise(this,e)},t.prototype._handleResize=function(){this._wasTouching||this.onButtonClicked()},t.prototype._showFilter=function(e){switch(this._wasTouching=this.isTouching,e==FilterType.Value&&null==this._edtVal&&(this._edtVal=new ValueFilterEditor(this._divEdtVal,this.filter.valueFilter)),e==FilterType.Condition&&null==this._edtCnd&&(this._edtCnd=new ConditionFilterEditor(this._divEdtCnd,this.filter.conditionFilter)),0!=(e&this.filter.filterType)&&(e==FilterType.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0),this._edtVal.focus()):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1),this._edtCnd.focus())),this.filter.filterType){case FilterType.None:case FilterType.Condition:case FilterType.Value:this._divType.style.display="none";break;default:this._divType.style.display=""}},t.prototype._enableLink=function(e,t){e.style.textDecoration=t?"":"none",e.style.fontWeight=t?"":"bold",wjcCore.setAttribute(e,"href",t?"":null)},t.prototype._getFilterType=function(){return"none"!=this._divEdtVal.style.display?FilterType.Value:FilterType.Condition},t.prototype._btnClicked=function(e){if(e.preventDefault(),e.stopPropagation(),!wjcCore.hasClass(e.target,"wj-state-disabled"))if(e.target!=this._aVal)if(e.target!=this._aCnd){if(e.target==this._btnAsc||e.target==this._btnDsc){var t=this.filter.column,i=t.sortMemberPath?t.sortMemberPath:t.binding,r=t.grid.collectionView,n=new wjcCore.SortDescription(i,e.target==this._btnAsc);r.sortDescriptions.deferUpdate(function(){r.sortDescriptions.clear(),r.sortDescriptions.push(n)})}e.target==this._btnApply?(this.updateFilter(),this.onFilterChanged()):e.target==this._btnClear?this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()):this.updateEditor(),this.onButtonClicked()}else this._showFilter(FilterType.Condition);else this._showFilter(FilterType.Value)},t.controlTemplate='<div><div wj-part="div-sort"><a wj-part="btn-asc" href="" style="min-width:95px" draggable="false"></a>&nbsp;&nbsp;&nbsp;<a wj-part="btn-dsc" href="" style="min-width:95px" draggable="false"></a></div><div style="text-align:right;margin:10px 0px;font-size:80%"><div wj-part="div-type"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div></div><div wj-part="div-edt-val"></div><div wj-part="div-edt-cnd"></div><div style="text-align:right;margin-top:10px"><a wj-part="btn-apply" href="" draggable="false"></a>&nbsp;&nbsp;<a wj-part="btn-cancel" href="" draggable="false"></a>&nbsp;&nbsp;<a wj-part="btn-clear" href="" draggable="false"></a></div>',t}(wjcCore.Control);exports.ColumnFilterEditor=ColumnFilterEditor;var FilterType;!function(e){e[e.None=0]="None",e[e.Condition=1]="Condition",e[e.Value=2]="Value",e[e.Both=3]="Both"}(FilterType=exports.FilterType||(exports.FilterType={}));var FlexGridFilter=function(){function e(e,t){this._showIcons=!0,this._showSort=!0,this._defFilterType=FilterType.Both,this.filterApplied=new wjcCore.Event,this.filterChanging=new wjcCore.Event,this.filterChanged=new wjcCore.Event;var i="Missing dependency: FlexGridFilter requires ";wjcCore.assert(null!=wjcGrid,i+"wijmo.grid."),wjcCore.assert(null!=wjcInput,i+"wijmo.input."),this._filters=[],this._g=wjcCore.asType(e,wjcGrid.FlexGrid,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this));var r=this._g.hostElement;e.addEventListener(r,"mousedown",this._mousedown.bind(this),!0),e.addEventListener(r,"click",this._click.bind(this),!0),e.addEventListener(r,"keydown",this._keydown.bind(this),!0),this._g.invalidate(),t&&wjcCore.copy(this,t)}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(e){this._filterColumns=wjcCore.asArray(e),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(e){e!=this.showFilterIcons&&(this._showIcons=wjcCore.asBoolean(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(e){this._showSort=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.getColumnFilter=function(e,t){void 0===t&&(t=!0),e=this._asColumn(e);for(var i=0;i<this._filters.length;i++)if(this._filters[i].column==e)return this._filters[i];if(t&&e.binding){var r=new ColumnFilter(this,e);return this._filters.push(r),r}return null},Object.defineProperty(e.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(e){e!=this.defaultFilterType&&(this._defFilterType=wjcCore.asEnum(e,FilterType,!1),this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterDefinition",{get:function(){for(var e={defaultFilterType:this.defaultFilterType,filters:[]},t=0;t<this._filters.length;t++){var i=this._filters[t];if(i&&i.column&&i.column.binding)if(i.conditionFilter.isActive){var r=i.conditionFilter;e.filters.push({binding:i.column.binding,type:"condition",condition1:{operator:r.condition1.operator,value:r.condition1.value},and:r.and,condition2:{operator:r.condition2.operator,value:r.condition2.value}})}else if(i.valueFilter.isActive){var n=i.valueFilter;e.filters.push({binding:i.column.binding,type:"value",filterText:n.filterText,showValues:n.showValues})}}return JSON.stringify(e)},set:function(e){if(e=wjcCore.asString(e),this.clear(),e){var t=JSON.parse(e);this.defaultFilterType=t.defaultFilterType;for(var i=0;i<t.filters.length;i++){var r=t.filters[i],n=this._g.getColumn(r.binding),o=this.getColumnFilter(n,!0);if(o)switch(r.type){case"condition":var l=o.conditionFilter;l.condition1.value=n.dataType==wjcCore.DataType.Date?wjcCore.changeType(r.condition1.value,n.dataType,null):r.condition1.value,l.condition1.operator=r.condition1.operator,l.and=r.and,l.condition2.value=n.dataType==wjcCore.DataType.Date?wjcCore.changeType(r.condition2.value,n.dataType,null):r.condition2.value,l.condition2.operator=r.condition2.operator;break;case"value":var a=o.valueFilter;a.filterText=r.filterText,a.showValues=r.showValues}}}this.apply()},enumerable:!0,configurable:!0}),e.prototype.editColumnFilter=function(e,t){var i=this;this.closeEditor(),e=this._asColumn(e);var r=new wjcGrid.CellRangeEventArgs(this._g.cells,new wjcGrid.CellRange(-1,e.index));if(this.onFilterChanging(r),!r.cancel){r.cancel=!0;var n=document.createElement("div"),o=this.getColumnFilter(e),l=new ColumnFilterEditor(n,o,this.showSortButtons);wjcCore.addClass(n,"wj-dropdown-panel"),this._g.rightToLeft&&(n.dir="rtl"),l.filterChanged.addHandler(function(){r.cancel=!1,setTimeout(function(){r.cancel||i.apply()})}),l.buttonClicked.addHandler(function(){i.closeEditor(),i._g.focus(),i.onFilterChanged(r)}),l.lostFocus.addHandler(function(){setTimeout(function(){var e=wjcCore.Control.getControl(i._divEdt);e&&!e.containsFocus()&&i.closeEditor()},10)});var a=this._g.columnHeaders,s=t?t.row:a.rows.length-1,c=t?t.col:e.index,u=a.getCellBoundingRect(s,c),p=document.elementFromPoint(u.left+u.width/2,u.top+u.height/2);(p=wjcCore.closest(p,".wj-cell"))?wjcCore.showPopup(n,p,!1,!1,!1):wjcCore.showPopup(n,u),l.focus(),this._divEdt=n,this._edtCol=e}},e.prototype.closeEditor=function(){if(this._divEdt){wjcCore.hidePopup(this._divEdt,!0);var e=wjcCore.Control.getControl(this._divEdt);e&&e.dispose(),this._divEdt=null,this._edtCol=null}},e.prototype.apply=function(){var e=this._g.collectionView;if(e){var t=this._g.editableCollectionView;t&&(t.commitEdit(),t.commitNew()),e.filter?e.refresh():e.filter=this._filter.bind(this)}var i=e?e.updateFilterDefinition:null;wjcCore.isFunction(i)&&i.call(e,this),this.onFilterApplied()},e.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},e.prototype.onFilterApplied=function(e){this.filterApplied.raise(this,e)},e.prototype.onFilterChanging=function(e){this.filterChanging.raise(this,e)},e.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},e.prototype._asColumn=function(e){return wjcCore.isString(e)?this._g.getColumn(e):wjcCore.isNumber(e)?this._g.columns[e]:wjcCore.asType(e,wjcGrid.Column,!1)},e.prototype._filter=function(e){for(var t=0;t<this._filters.length;t++)if(!this._filters[t].apply(e))return!1;return!0},e.prototype._formatItem=function(t,i){if(i.panel.cellType==wjcGrid.CellType.ColumnHeader){var r=this._g,n=r.getMergedRange(i.panel,i.row,i.col)||new wjcGrid.CellRange(i.row,i.col),o=r.columns[n.col],l=r._getBindingColumn(i.panel,i.row,o);if(n.row2==i.panel.rows.length-1||o!=l){var a=this.getColumnFilter(l,this.defaultFilterType!=FilterType.None);if(this._filterColumns&&this._filterColumns.indexOf(l.binding)<0&&(a=null),a&&a.filterType!=FilterType.None){if(this._showIcons){e._filterGlyph||(e._filterGlyph=wjcCore.createElement('<div role="button" class="'+e._WJC_FILTER+'"><span class="wj-glyph-filter"></span></div> '));var s=i.cell.querySelector("div")||i.cell;s.querySelector(".wj-glyph-filter")||s.insertBefore(e._filterGlyph.cloneNode(!0),s.firstChild)}wjcCore.toggleClass(i.cell,"wj-filter-on",a.isActive),wjcCore.toggleClass(i.cell,"wj-filter-off",!a.isActive)}else wjcCore.removeClass(i.cell,"wj-filter-on"),wjcCore.removeClass(i.cell,"wj-filter-off")}}},e.prototype._mousedown=function(e){this._toggleEditor(e)&&(this._tmd=!0,e.stopPropagation(),e.preventDefault())},e.prototype._click=function(e){(this._tmd||this._toggleEditor(e))&&(e.stopPropagation(),e.preventDefault()),this._tmd=!1},e.prototype._toggleEditor=function(t){var i=this;if(this._tmd=!1,!t.defaultPrevented&&0==t.button)if(wjcCore.closestClass(t.target,e._WJC_FILTER)){var r=this._g,n=new wjcGrid.HitTestInfo(t.target,null);if(n.panel||(n=r.hitTest(t,!0)),n.panel==r.columnHeaders){var o=r.columns[n.col],l=r._getBindingColumn(n.panel,n.row,o);return this._divEdt&&this._edtCol==l?(this.closeEditor(),r.focus()):setTimeout(function(){i.editColumnFilter(l,n)},this._divEdt?100:0),!0}}else this.closeEditor();return!1},e.prototype._keydown=function(e){if(!e.defaultPrevented&&!e.ctrlKey&&e.altKey&&e.keyCode==wjcCore.Key.Down){var t=this.grid.selection,i=t.col>-1?this.grid.columns[t.col]:null;i&&!i.dataMap&&this.getColumnFilter(i,!0)&&(this.editColumnFilter(i),e.preventDefault(),e.stopPropagation())}},e._WJC_FILTER="wj-elem-filter",e}();exports.FlexGridFilter=FlexGridFilter;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
    *
    * Wijmo Library 5.20173.380
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
function tryGetModuleWijmoInput(){var e;return(e=window.wijmo)&&e.input}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),wjcSelf=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.js");window.wijmo=window.wijmo||{},window.wijmo.grid=wjcSelf,wjcCore.culture.FlexGrid=window.wijmo.culture.FlexGrid||{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)"};var HeadersVisibility;!function(e){e[e.None=0]="None",e[e.Column=1]="Column",e[e.Row=2]="Row",e[e.All=3]="All"}(HeadersVisibility=exports.HeadersVisibility||(exports.HeadersVisibility={}));var FlexGrid=function(e){function t(t,o){var i=e.call(this,t,null,!0)||this;i._szClient=new wjcCore.Size(0,0),i._ptScrl=new wjcCore.Point(0,0),i._cellPadding=3,i._autoGenCols=!0,i._autoClipboard=!0,i._readOnly=!1,i._indent=14,i._autoSizeMode=AutoSizeMode.Both,i._hdrVis=HeadersVisibility.All,i._alSorting=!0,i._alAddNew=!1,i._alDelete=!1,i._alResizing=AllowResizing.Columns,i._alDragging=AllowDragging.Columns,i._alMerging=AllowMerging.None,i._ssHdr=HeadersVisibility.None,i._shSort=!0,i._shGroups=!0,i._shAlt=!0,i._shErr=!0,i._shDropDown=!0,i._valEdt=!0,i._deferResizing=!1,i._pSel=!0,i._pOutline=!0,i._vt=0,i.itemsSourceChanged=new wjcCore.Event,i.scrollPositionChanged=new wjcCore.Event,i.selectionChanging=new wjcCore.Event,i.selectionChanged=new wjcCore.Event,i.loadingRows=new wjcCore.Event,i.loadedRows=new wjcCore.Event,i.updatingLayout=new wjcCore.Event,i.updatedLayout=new wjcCore.Event,i.resizingColumn=new wjcCore.Event,i.resizedColumn=new wjcCore.Event,i.autoSizingColumn=new wjcCore.Event,i.autoSizedColumn=new wjcCore.Event,i.draggingColumn=new wjcCore.Event,i.draggingColumnOver=new wjcCore.Event,i.draggedColumn=new wjcCore.Event,i.resizingRow=new wjcCore.Event,i.resizedRow=new wjcCore.Event,i.autoSizingRow=new wjcCore.Event,i.autoSizedRow=new wjcCore.Event,i.draggingRow=new wjcCore.Event,i.draggingRowOver=new wjcCore.Event,i.draggedRow=new wjcCore.Event,i.groupCollapsedChanging=new wjcCore.Event,i.groupCollapsedChanged=new wjcCore.Event,i.sortingColumn=new wjcCore.Event,i.sortedColumn=new wjcCore.Event,i.beginningEdit=new wjcCore.Event,i.prepareCellForEdit=new wjcCore.Event,i.cellEditEnding=new wjcCore.Event,i.cellEditEnded=new wjcCore.Event,i.rowEditStarting=new wjcCore.Event,i.rowEditStarted=new wjcCore.Event,i.rowEditEnding=new wjcCore.Event,i.rowEditEnded=new wjcCore.Event,i.rowAdded=new wjcCore.Event,i.deletingRow=new wjcCore.Event,i.deletedRow=new wjcCore.Event,i.copying=new wjcCore.Event,i.copied=new wjcCore.Event,i.pasting=new wjcCore.Event,i.pasted=new wjcCore.Event,i.pastingCell=new wjcCore.Event,i.pastedCell=new wjcCore.Event,i.formatItem=new wjcCore.Event,i.updatingView=new wjcCore.Event,i.updatedView=new wjcCore.Event,i._mappedColumns=null;var n=i.hostElement;wjcCore.isIE()&&(n.style.borderRadius="0px");var r=i.getTemplate();i.applyTemplate("wj-control wj-flexgrid wj-content",r,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),i._tabIndex=n.tabIndex,n.tabIndex=-1;var l=i._getDefaultRowHeight();return i.deferUpdate(function(){i._rows=new RowCollection(i,l),i._cols=new ColumnCollection(i,4*l),i._hdrRows=new RowCollection(i,l),i._hdrCols=new ColumnCollection(i,Math.round(1.25*l)),i._ftrRows=new RowCollection(i,l),i._gpTL=new GridPanel(i,CellType.TopLeft,i._hdrRows,i._hdrCols,i._eTLCt),i._gpCHdr=new GridPanel(i,CellType.ColumnHeader,i._hdrRows,i._cols,i._eCHdrCt),i._gpRHdr=new GridPanel(i,CellType.RowHeader,i._rows,i._hdrCols,i._eRHdrCt),i._gpCells=new GridPanel(i,CellType.Cell,i._rows,i._cols,i._eCt),i._gpBL=new GridPanel(i,CellType.BottomLeft,i._ftrRows,i._hdrCols,i._eBLCt),i._gpCFtr=new GridPanel(i,CellType.ColumnFooter,i._ftrRows,i._cols,i._eCFtrCt),i._hdrRows.push(new Row),i._hdrCols.push(new Column),i._hdrCols[0].align="center",i._cf=new CellFactory,i._keyHdl=new _KeyboardHandler(i),i._mouseHdl=new _MouseHandler(i),i._edtHdl=new _EditHandler(i),i._selHdl=new _SelectionHandler(i),i._addHdl=new _AddNewHandler(i),i._mrgMgr=new MergeManager(i),i._bndSortConverter=i._sortConverter.bind(i),i._bndScroll=i._scroll.bind(i),wjcCore.setAttribute(i.cells.hostElement,"role","grid",!0),i.selectionMode=SelectionMode.CellRange,i.initialize(o)}),i.addEventListener(i._root,"scroll",function(e){i._updateScrollPosition()&&(i.finishEditing(),i._updateContent(!0))}),i.addEventListener(n,"focus",function(e){if(n.tabIndex>-1){var t=e.target;if(t instanceof HTMLElement&&t.tabIndex<0)return void i._setFocus(!0)}},!0),i}return __extends(t,e),t.prototype._handleResize=function(){this._rcBounds=null,e.prototype._handleResize.call(this)},Object.defineProperty(t.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){e!=this._hdrVis&&(this._hdrVis=wjcCore.asEnum(e,HeadersVisibility),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){e!=this._stickyHdr&&(this._stickyHdr=wjcCore.asBoolean(e),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(e){this._vt=wjcCore.asNumber(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_virtualizationThreshold",{get:function(){return this._vt},set:function(e){wjcCore._deprecated("_virtualizationThreshold","virtualizationThreshold"),this._vt=wjcCore.asNumber(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){for(var e=t._getSerializableProperties(Column),o=new Column,i=[],n=0;n<this.columns.length;n++){for(var r=this.columns[n],l={},s=0;s<e.length;s++){var a=e[s],c=r[a];c!=o[a]&&wjcCore.isPrimitive(c)&&"size"!=a&&(l[a]=c)}i.push(l)}return JSON.stringify({columns:i})},set:function(e){var t=JSON.parse(wjcCore.asString(e));if(!t||null==t.columns)throw"Invalid columnLayout data.";this.columns.clear(),this.initialize(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=wjcCore.asBoolean(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),wjcCore.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(e){e!=this.imeEnabled&&(this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new _ImeHandler(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(e){this._alResizing=wjcCore.asEnum(e,AllowResizing)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=wjcCore.asEnum(e,AutoSizeMode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=wjcCore.asBoolean(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return wjcCore.isBoolean(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){this._alSorting=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=wjcCore.asBoolean(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=wjcCore.asBoolean(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(e){e!=this._alMerging&&(this._alMerging=wjcCore.asEnum(e,AllowMerging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){e!=this._ssHdr&&(this._ssHdr=wjcCore.asEnum(e,HeadersVisibility),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return!this._eMarquee.style.display},set:function(e){if(e!=this.showMarquee){var t=this._eMarquee.style;t.visibility="collapse",t.display=wjcCore.asBoolean(e)?"":"none",this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=wjcCore.asBoolean(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=wjcCore.asBoolean(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlternatingRows",{get:function(){return this._shAlt},set:function(e){e!=this._shAlt&&(this._shAlt=wjcCore.asBoolean(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrors",{get:function(){return this._shErr},set:function(e){e!=this._shErr&&(this._clearCells(),this._shErr=wjcCore.asBoolean(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this.itemValidator&&(this._itemValidator=wjcCore.asFunction(e),this._hasValidation=wjcCore.isFunction(this._itemValidator)||this._cv&&wjcCore.isFunction(this._cv.getError),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(e){this._valEdt=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=wjcCore.asString(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(e){e!=this._alDragging&&(this._alDragging=wjcCore.asEnum(e,AllowDragging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){if(e!=this._items){if(this._cv&&((t=wjcCore.tryCast(this._cv,wjcCore.CollectionView))&&t.sortConverter==this._bndSortConverter&&(t.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._hasValidation=wjcCore.isFunction(this._itemValidator)||this._cv&&wjcCore.isFunction(this._cv.getError),this._cv){this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this);var t=wjcCore.tryCast(this._cv,wjcCore.CollectionView);t&&!t.sortConverter&&(t.sortConverter=this._bndSortConverter)}this._bindGrid(!0),this.onItemsSourceChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editableCollectionView",{get:function(){return wjcCore.tryCast(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&(wjcCore.assert(null==e||wjcCore.isArray(e)||wjcCore.isString(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){e!=this.rowHeaderPath&&(e=wjcCore.asString(e),this._rowHdrPath=e?new wjcCore.Binding(e):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(e){return this.columns.getColumn(e)},Object.defineProperty(t.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(e){e!=this.cloneFrozenCells&&(this._fzClone=wjcCore.asBoolean(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=wjcCore.asNumber(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(e){var o=this._root,i=-e.x;if(this.rightToLeft)switch(t._getRtlMode()){case"rev":i=o.scrollWidth-o.clientWidth+e.x;break;case"neg":i=e.x;break;default:i=-e.x}o.scrollLeft=i,o.scrollTop=-e.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=wjcCore.getElementRect(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){return new wjcCore.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellFactory",{get:function(){return this._cf},set:function(e){e!=this._cf&&(this._clearCells(),this._cf=wjcCore.asType(e,CellFactory,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=wjcCore.asFunction(e))},enumerable:!0,configurable:!0}),t.prototype.canEditCell=function(e,t){return this._edtHdl._allowEditing(e,t)},t.prototype.getCellData=function(e,t,o){return this.cells.getCellData(e,t,o)},t.prototype.getCellBoundingRect=function(e,t,o){return this.cells.getCellBoundingRect(e,t,o)},t.prototype.setCellData=function(e,t,o,i,n){return void 0===i&&(i=!0),void 0===n&&(n=!0),this.cells.setCellData(e,t,o,i,n)},t.prototype.hitTest=function(e,t){return wjcCore.isNumber(e)&&wjcCore.isNumber(t)&&(e=new wjcCore.Point(e,t)),wjcCore.isBoolean(t)&&t&&(this._rcBounds=null),new HitTestInfo(this,e)},t.prototype.getClipString=function(e){return this._edtHdl.getClipString(e)},t.prototype.setClipString=function(e,t){this._edtHdl.setClipString(e,t)},t.prototype.focus=function(){this._setFocus(!1)},t.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.finishEditing(),t&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl),this.refreshCells(t)},t.prototype.refreshCells=function(e,t,o){this.isUpdating||(e?this._updateLayout():this._updateContent(t,o))},t.prototype.autoSizeColumn=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=4),this.autoSizeColumns(e,e,t,o)},t.prototype.autoSizeColumns=function(e,o,i,n){var r=this;void 0===i&&(i=!1),void 0===n&&(n=4);var l=0,s=i?this.topLeftCells:this.columnHeaders,a=i?this.bottomLeftCells:this.columnFooters,c=i?this.rowHeaders:this.cells,h=this.viewRange;e=null==e?0:wjcCore.asInt(e),o=null==o?c.columns.length-1:wjcCore.asInt(o),h.row=Math.max(0,h.row-1e3),h.row2=Math.min(h.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){wjcCore.setCss(r._eCt,{width:r._gpCells.width});var i=document.createElement("div");i.setAttribute(t._WJS_MEASURE,"true"),i.style.visibility="hidden",c.hostElement.parentElement.appendChild(i);for(var d=r._getCanvasContext(),u=e;u<=o&&u>-1&&u<c.columns.length;u++){var g=c.columns[u];if(g.isVisible){if(l=0,r.autoSizeMode&AutoSizeMode.Headers){for(p=0;p<s.rows.length;p++)if(s.rows[p].isVisible){w=r._getDesiredWidth(s,p,u,i);l=Math.max(l,w)}for(p=0;p<a.rows.length;p++)if(a.rows[p].isVisible){w=r._getDesiredWidth(a,p,u,i);l=Math.max(l,w)}}if(r.autoSizeMode&AutoSizeMode.Cells)if(g._getQuickAutoSize()){var p=r._getWidestRow(c,h,u,d),w=r._getDesiredWidth(c,p,u,i);l=Math.max(l,w)}else for(p=h.row;p<=h.row2&&p>-1&&p<c.rows.length;p++)if(c.rows[p].isVisible){w=r._getDesiredWidth(c,p,u,i);l=Math.max(l,w)}g.width=l+n+2}}r.cellFactory.disposeCell(i),i.parentElement.removeChild(i)})},t.prototype.autoSizeRow=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=0),this.autoSizeRows(e,e,t,o)},t.prototype.autoSizeRows=function(e,o,i,n){var r=this;void 0===i&&(i=!1),void 0===n&&(n=0);var l=0,s=i?this.topLeftCells:this.rowHeaders,a=i?this.columnHeaders:this.cells;i=wjcCore.asBoolean(i),n=wjcCore.asNumber(n),e=null==e?0:wjcCore.asInt(e),o=null==o?a.rows.length-1:wjcCore.asInt(o),this.finishEditing()&&this.rows.deferUpdate(function(){wjcCore.setCss(r._eCt,{width:r._gpCells.width});var i=document.createElement("div");i.setAttribute(t._WJS_MEASURE,"true"),i.style.visibility="hidden",a.hostElement.appendChild(i);for(var c={},h=e;h<=o&&h>-1&&h<a.rows.length;h++)if(a.rows[h].isVisible){if(l=0,r.autoSizeMode&AutoSizeMode.Headers)for(u=0;u<s.columns.length;u++)if(s.columns[u].isVisible>0){w=r._getDesiredHeight(s,h,u,i);l=Math.max(l,w)}if(r.autoSizeMode&AutoSizeMode.Cells)for(var d=!0,u=0;u<a.columns.length;u++){var g=a.columns[u],p=g._getQuickAutoSize();if(g.isVisible&&(d||g.wordWrap||g.cssClass||g.dataType==wjcCore.DataType.Boolean||!p)){var w=void 0;if(p){var f={col:u,content:g.dataType==wjcCore.DataType.Number?"1":a.getCellData(h,u,!0)},_=JSON.stringify(f);null==(w=c[_])&&(w=r._getDesiredHeight(a,h,u,i),c[_]=w)}else w=r._getDesiredHeight(a,h,u,i);l=Math.max(l,w),d=!1}}a.rows[h].height=l+n}r.cellFactory.disposeCell(i),i.parentElement.removeChild(i)})},Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=wjcCore.asNumber(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.collapseGroupsToLevel=function(e){if(this.finishEditing()){var t=this.rows;t.deferUpdate(function(){for(var o=0;o<t.length;o++){var i=wjcCore.tryCast(t[o],GroupRow);i&&(i.isCollapsed=i.level>=e)}})}},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(e){e!=this.selectionMode&&(this._clearCells(),this._selHdl.selectionMode=wjcCore.asEnum(e,SelectionMode))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0}),t.prototype.select=function(e,t){void 0===t&&(t=!0),this._selHdl.select(e,t)},t.prototype.getSelectedState=function(e,t){return this.cells.getSelectedState(e,t,null)},Object.defineProperty(t.prototype,"selectedRows",{get:function(){var e=[];if(this.selectionMode==SelectionMode.ListBox)for(o=0;o<this.rows.length;o++)this.rows[o].isSelected&&e.push(this.rows[o]);else if(this.rows.length)for(var t=this.selection,o=t.topRow;o>-1&&o<=t.bottomRow;o++)e.push(this.rows[o]);return e},set:function(e){var t=this;wjcCore.assert(this.selectionMode==SelectionMode.ListBox,"This property can be set only in ListBox mode."),e=wjcCore.asArray(e),this.deferUpdate(function(){for(var o=0,i=!0;o<t.rows.length;o++){var n=t.rows[o],r=e&&e.indexOf(n)>-1;r&&i&&(i=!1,t.select(o,t.selection.col)),n.isSelected=r}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){for(var e=this.selectedRows,t=0;t<e.length;t++)e[t]=e[t].dataItem;return e},set:function(e){var t=this;wjcCore.assert(this.selectionMode==SelectionMode.ListBox,"This property can be set only in ListBox mode."),e=wjcCore.asArray(e),this.deferUpdate(function(){for(var o=0,i=!0;o<t.rows.length;o++){var n=t.rows[o],r=e&&e.indexOf(n.dataItem)>-1;r&&i&&(i=!1,t.select(o,t.selection.col)),n.isSelected=r}})},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(e,t){null==this._maxOffsetY&&this._updateLayout();var o=this.scrollPosition,i=this._szClient.width,n=this._szClient.height-this._gpCFtr.rows.getTotalSize(),r=this.cells._getFrozenPos();if((e=wjcCore.asInt(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var l=this._rows[e],s=this.cells.height>n?Math.round(l.pos/(this.cells.height-n)*100)/100:0,a=Math.round(this._maxOffsetY*s),c=l.pos-a,h=c+l.renderSize;h>n-o.y&&(o.y=Math.max(-c,n-h)),c-r.y<-o.y&&(o.y=-(c-r.y))}if((t=wjcCore.asInt(t))>-1&&t<this._cols.length&&t>=this._cols.frozen){var d=this._cols[t],u=d.pos+d.renderSize;u>-o.x+i&&(o.x=Math.max(-d.pos,i-u)),d.pos-r.x<-o.x&&(o.x=-(d.pos-r.x))}return!o.equals(this._ptScrl)&&(this.scrollPosition=o,!0)},t.prototype.isRangeValid=function(e){return e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length},t.prototype.startEditing=function(e,t,o,i){return void 0===e&&(e=!0),this._edtHdl.startEditing(e,t,o,i)},t.prototype.finishEditing=function(e){return void 0===e&&(e=!1),this._edtHdl.finishEditing(e)},Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){return this._edtHdl.editRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(e){e!=this._mrgMgr&&(this._mrgMgr=wjcCore.asType(e,MergeManager,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getMergedRange=function(e,t,o,i){return void 0===i&&(i=!0),this._mrgMgr?this._mrgMgr.getMergedRange(e,t,o,i):null},Object.defineProperty(t.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=wjcCore.asEnum(e,KeyAction)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=wjcCore.asEnum(e,KeyAction)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(e){e!=this._shDropDown&&(this._shDropDown=wjcCore.asBoolean(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.toggleDropDownList=function(){this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1)},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)},t.prototype.onSelectionChanging=function(e){return this.selectionChanging.raise(this,e),!e.cancel},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLoadingRows=function(e){return this.loadingRows.raise(this,e),!e.cancel},t.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e)},t.prototype.onUpdatingLayout=function(e){return this.updatingLayout.raise(this,e),!e.cancel},t.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)},t.prototype.onResizingColumn=function(e){return this.resizingColumn.raise(this,e),!e.cancel},t.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e)},t.prototype.onAutoSizingColumn=function(e){return this.autoSizingColumn.raise(this,e),!e.cancel},t.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)},t.prototype.onDraggingColumn=function(e){return this.draggingColumn.raise(this,e),!e.cancel},t.prototype.onDraggingColumnOver=function(e){return this.draggingColumnOver.raise(this,e),!e.cancel},t.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)},t.prototype.onResizingRow=function(e){return this.resizingRow.raise(this,e),!e.cancel},t.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)},t.prototype.onAutoSizingRow=function(e){return this.autoSizingRow.raise(this,e),!e.cancel},t.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)},t.prototype.onDraggingRow=function(e){return this.draggingRow.raise(this,e),!e.cancel},t.prototype.onDraggingRowOver=function(e){return this.draggingRowOver.raise(this,e),!e.cancel},t.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)},t.prototype.onGroupCollapsedChanging=function(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)},t.prototype.onSortingColumn=function(e){return this.sortingColumn.raise(this,e),!e.cancel},t.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)},t.prototype.onBeginningEdit=function(e){return this.beginningEdit.raise(this,e),!e.cancel},t.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)},t.prototype.onCellEditEnding=function(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode},t.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e)},t.prototype.onRowEditStarting=function(e){this.rowEditStarting.raise(this,e)},t.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)},t.prototype.onRowEditEnding=function(e){this.rowEditEnding.raise(this,e)},t.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e)},t.prototype.onRowAdded=function(e){return this.rowAdded.raise(this,e),!e.cancel},t.prototype.onDeletingRow=function(e){return this.deletingRow.raise(this,e),!e.cancel},t.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)},t.prototype.onCopying=function(e){return this.copying.raise(this,e),!e.cancel},t.prototype.onCopied=function(e){this.copied.raise(this,e)},t.prototype.onPasting=function(e){return this.pasting.raise(this,e),!e.cancel},t.prototype.onPasted=function(e){this.pasted.raise(this,e)},t.prototype.onPastingCell=function(e){return this.pastingCell.raise(this,e),!e.cancel},t.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onUpdatingView=function(e){return this.updatingView.raise(this,e),!e.cancel},t.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)},t.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},t.prototype._getHasValidation=function(){return this._hasValidation},t.prototype._getError=function(e,t,o){if(wjcCore.isFunction(this.itemValidator)){if(e==this.cells)return this.itemValidator(t,o);if(e==this.rowHeaders)for(o=0;o<this.columns.length;o++)if(c=this.itemValidator(t,o))return c}var i=this.collectionView,n=i?i.getError:null;if(wjcCore.isFunction(n)){var r=e.rows,l=this.columns,s=r[t].dataItem;if(s)for(;t<r.length&&r[t].dataItem==s;t++){if(e==this.cells)return n(s,(a=this._getBindingColumn(this.cells,t,l[o])).binding);if(e==this.rowHeaders)for(o=0;o<l.length;o++){var a=this._getBindingColumn(this.cells,t,l[o]),c=n(s,a.binding);if(c)return c}}}return null},t.prototype._setAria=function(e,t){wjcCore.setAttribute(this.cells.hostElement,"aria-"+e,t)},t.prototype._setFocus=function(e){if(this.hostElement&&(e||!this.containsFocus())){var t=wjcCore.getActiveElement(),o=this._eFocus,i="tabindex";this.activeEditor?wjcCore.contains(this.activeEditor,t)||(this._setFocusNoScroll(this.activeEditor),o.removeAttribute(i)):this._activeCell?wjcCore.contains(this._activeCell,t)||(this._setFocusNoScroll(this._activeCell),o.removeAttribute(i)):wjcCore.contains(o,t)||(o.tabIndex=this._tabIndex,o.focus()),this.containsFocus()||(o.tabIndex=this._tabIndex,o.focus())}},t.prototype._setFocusNoScroll=function(e){var t=this.scrollPosition,o=e.style,i=o.position;o.position="fixed",e.tabIndex=this._tabIndex,e.focus(),o.position=i,this.scrollPosition=t;var n=this.hostElement;n.scrollTop=n.scrollLeft=0},t.prototype._getDefaultRowHeight=function(){var e=this.hostElement,t=document.body,o=null;if(t&&!wjcCore.contains(t,e)){for(var i=e;i;i=i.parentElement)o=i;o&&t.appendChild(o)}var n=wjcCore.createElement('<div class="wj-cell">123</div>',e),r=n.scrollHeight+2;return e.removeChild(n),o&&t.removeChild(o),(r<=6||isNaN(r)||!t)&&(r=28),r},t.prototype._getCollectionView=function(e){return wjcCore.asCollectionView(e)},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),t=getComputedStyle(this.hostElement);return e.font=t.fontSize+" "+t.fontFamily.split(",")[0],e},t.prototype._getWidestRow=function(e,t,o,i){for(var n=0,r=0,l=e.columns[o].dataType,s=l==wjcCore.DataType.Number,a=l==wjcCore.DataType.Boolean,c=t.row;c<=t.row2;c++)if(e.rows[c].isVisible){var h=e.getCellData(c,o,!0),d=l==s?h.length:i.measureText(h).width;if(d>r&&(r=d,n=c),a)break}return n},t.prototype._getDesiredWidth=function(e,t,o,i){var n=this.getMergedRange(e,t,o),r=i.style;return this.cellFactory.updateCell(e,t,o,i,n),r.width=r.top=r.left="",i.offsetWidth/(n&&n.columnSpan>1?n.columnSpan:1)},t.prototype._getDesiredHeight=function(e,t,o,i){var n=this.getMergedRange(e,t,o),r=i.style;return this.cellFactory.updateCell(e,t,o,i,n),r.height=r.top=r.left="",i.offsetHeight/(n&&n.rowSpan>1?n.rowSpan:1)},t.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},t.prototype._sortConverter=function(e,t,o,i){var n;if(i){if(this._mappedColumns=null,this.collectionView)for(var r=this.collectionView.sortDescriptions,l=0;l<r.length;l++)(n=this.getColumn(r[l].property))&&n.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[n.binding]=n.dataMap);this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(n=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&n.dataMap&&(this._mappedColumns[n.binding]=n.dataMap))}if(this._mappedColumns){var s=this._mappedColumns[e.property];s&&s.sortByDisplayValues&&(o=s.getDisplayValue(o))}return o},t.prototype._bindGrid=function(e){var t=this;if(this.deferUpdate(function(){0==t._lastCount&&t._cv&&t._cv.items&&t._cv.items.length&&(e=!0);var o=[];if(t.preserveSelectedState&&t.selectionMode==SelectionMode.ListBox&&!t.childItemsPath)for(h=0;h<t.rows.length;h++){var i=t.rows[h];i.isSelected&&i.dataItem&&o.push(i.dataItem)}var n;if(t.preserveOutlineState&&wjcCore.isFunction(window.Map)&&t.rows.maxGroupLevel>-1){n=new Map;for(h=0;h<t.rows.length;h++){var r=t.rows[h];if(r instanceof GroupRow&&r.isCollapsed&&r.dataItem){var l=r.dataItem;l instanceof wjcCore.CollectionViewGroup&&(l=l._path),n.set(l,!0)}}}e&&t.columns.deferUpdate(function(){t._bindColumns()});var s=new wjcCore.CancelEventArgs;t.onLoadingRows(s)&&(t.rows.deferUpdate(function(){t._bindRows()}),t.onLoadedRows(s));var a=0;if(o.length)for(h=0;h<t.rows.length&&a<o.length;h++)o.indexOf(t.rows[h].dataItem)>-1&&(t.rows[h].isSelected=!0,a++);if(t.selectionMode==SelectionMode.ListBox&&0==a)for(var c=t.selection,h=c.topRow;h<=c.bottomRow&&h>-1&&h<t.rows.length;h++)t.rows[h].isSelected=!0;n&&t.rows.deferUpdate(function(){for(var e=0;e<t.rows.length;e++){var o=t.rows[e];if(o instanceof GroupRow){var i=o.dataItem;i instanceof wjcCore.CollectionViewGroup&&(i=i._path),n.get(i)&&(o.isCollapsed=!0)}}}),!t._lastCount&&t._cv&&t._cv.items&&(t._lastCount=t._cv.items.length)}),!this.rows.length){var o=this._selHdl.selection;o.row=o.row2=-1}this.collectionView&&this._cvCurrentChanged(this.collectionView,wjcCore.EventArgs.empty)},t.prototype._cvCollectionChanged=function(e,t){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else if(this.childItemsPath&&t.action!=wjcCore.NotifyCollectionChangedAction.Change)this._bindGrid(!1);else{switch(t.action){case wjcCore.NotifyCollectionChangedAction.Change:return void this.invalidate();case wjcCore.NotifyCollectionChangedAction.Add:if(t.index==this.collectionView.items.length-1){var o=this.rows.length;return this.rows[o-1]instanceof _NewRowTemplate&&o--,void this.rows.insert(o,new Row(t.item))}wjcCore.assert(!1,"added item should be the last one.");break;case wjcCore.NotifyCollectionChangedAction.Remove:var i=this._findRow(t.item);if(i>-1)return this.rows.removeAt(i),void this._cvCurrentChanged(e,t);wjcCore.assert(!1,"removed item not found in grid.")}this._bindGrid(!1)}},t.prototype._cvCurrentChanged=function(e,t){if(this.collectionView&&this.selectionMode!=SelectionMode.None){var o=this.selection,i=o.row>-1&&o.row<this.rows.length?this.rows[o.row].dataItem:null;if(i instanceof wjcCore.CollectionViewGroup&&(i=null),!(i==this.collectionView.currentItem||this.childItemsPath&&this.editableCollectionView&&this.editableCollectionView.currentAddItem)){var n=this._getRowIndex(this.collectionView.currentPosition);n==o.row&&this.childItemsPath||(o.row=o.row2=n,this.select(o,!1),this.selectionMode&&this.scrollIntoView(o.row,-1))}}},t.prototype._getRowIndex=function(e){if(this.collectionView){if(e>-1){for(var t=this.collectionView.items[e];e<this.rows.length;e++)if(this.rows[e].dataItem===t)return e;return-1}if(1==this.rows.length&&this.rows[0]instanceof _NewRowTemplate)return 0;var o=this.selection.row,i=o>-1?this.rows[o]:null;return i&&(i instanceof GroupRow||null==i.dataItem)?o:-1}return this.selection.row},t.prototype._getCvIndex=function(e){if(e>-1&&this.collectionView){var t=this.rows[e].dataItem;for(e=Math.min(e,this.collectionView.items.length);e>-1;e--)if(this.collectionView.items[e]===t)return e}return-1},t.prototype._findRow=function(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==e)return t;return-1},t.prototype._updateLayout=function(){var e=new wjcCore.CancelEventArgs;if(this.onUpdatingLayout(e)){var o=this._hdrVis&HeadersVisibility.Row?this._hdrCols.getTotalSize():0,i=this._hdrVis&HeadersVisibility.Column?this._hdrRows.getTotalSize():0,n=this._ftrRows.getTotalSize(),r=this._rows.getTotalSize()+n;if(r<1&&(r=1),this._heightBrowser=Math.min(r,t._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,r-this._heightBrowser),this.cells.hostElement){var l=wjcCore.createElement('<div class="wj-cell"></div>',this.cells.hostElement),s=getComputedStyle(l);this._cellPadding=parseInt(this.rightToLeft?s.paddingRight:s.paddingLeft),l.parentElement.removeChild(l)}var a=this._heightBrowser+i-n;this.rightToLeft?(wjcCore.setCss(this._eTL,{right:0,top:0,width:o,height:i}),wjcCore.setCss(this._eCHdr,{right:o,top:0,height:i}),wjcCore.setCss(this._eRHdr,{right:0,top:i,width:o}),wjcCore.setCss(this._eCt,{right:o,top:i,width:this._gpCells.width,height:this._heightBrowser}),wjcCore.setCss(this._fCt,{right:o,top:i}),wjcCore.setCss(this._eBL,{right:0,top:a,width:o,height:n}),wjcCore.setCss(this._eCFtr,{right:o,top:a,height:n})):(wjcCore.setCss(this._eTL,{left:0,top:0,width:o,height:i}),wjcCore.setCss(this._eCHdr,{left:o,top:0,height:i}),wjcCore.setCss(this._eRHdr,{left:0,top:i,width:o}),wjcCore.setCss(this._eCt,{left:o,top:i,width:this._gpCells.width,height:this._heightBrowser}),wjcCore.setCss(this._fCt,{left:o,top:i}),wjcCore.setCss(this._eBL,{left:0,top:a,width:o,height:n}),wjcCore.setCss(this._eCFtr,{left:o,top:a,height:n})),this._stickyHdr&&this._updateStickyHeaders(),wjcCore.setCss([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:this.frozenRows||this.frozenColumns?"3":""});var c=this._root,h=c.offsetWidth-c.clientWidth,d=c.offsetHeight-c.clientHeight;wjcCore.setCss(this._eSz,{width:o+h+this._gpCells.width,height:i+d+this._heightBrowser});var u=null;this.columns._updateStarSizes(c.clientWidth-o)&&(u=c.clientWidth,wjcCore.setCss(this._eCt,{width:this._gpCells.width})),this._szClient=new wjcCore.Size(c.clientWidth-o,c.clientHeight-i),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),h=c.offsetWidth-c.clientWidth,d=c.offsetHeight-c.clientHeight,wjcCore.setCss(this._eSz,{width:o+h+this._gpCells.width,height:i+d+this._heightBrowser}),this._szClient=new wjcCore.Size(c.clientWidth-o,c.clientHeight-i),u&&u!=c.clientWidth&&this.columns._updateStarSizes(c.clientWidth-o)&&(wjcCore.setCss(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),wjcCore.setCss([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),wjcCore.setCss([this._eRHdr,this._fCt],{height:this._szClient.height}),n&&(a=Math.min(a,this._szClient.height+i-n),wjcCore.setCss([this._eBL,this._eCFtr],{top:a})),this.onUpdatedLayout(e)}},t.prototype._updateStickyHeaders=function(){var e=!1,o=0;if(this._stickyHdr){for(var i=0,n=null,r=this.hostElement;r;r=r.parentElement){var l=r.getBoundingClientRect();null==n&&(n=l.top),i=Math.max(i,l.top)}o=-(n=Math.max(0,i-n-1)),e=n>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-o+"px":"",wjcCore.toggleClass(this._eTL,t._WJS_STICKY,e),wjcCore.toggleClass(this._eCHdr,t._WJS_STICKY,e)},t.prototype._updateScrollHandler=function(){var e=this._stickyHdr||this._clipToScreen();e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._bndScroll,!0):this.removeEventListener(window,"scroll",this._bndScroll,!0))},t.prototype._clipToScreen=function(){if(this.rows.length<=t._MIN_VIRT_ROWS)return!1;if(this._root.clientHeight!=this._root.scrollHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement)if("auto"==getComputedStyle(e).overflow)return!1;return!0},t.prototype._scroll=function(e){var t=this;wjcCore.contains(e.target,this.hostElement)&&(this._clipToScreen()&&(this._afScrl&&cancelAnimationFrame(this._afScrl),this._afScrl=requestAnimationFrame(function(){t.finishEditing(),t._updateContent(!0),t._afScrl=null})),this._stickyHdr&&(this._toSticky&&cancelAnimationFrame(this._toSticky),this._toSticky=requestAnimationFrame(function(){t._toSticky=null;var e=new wjcCore.CancelEventArgs;t.onUpdatingLayout(e)&&(t._updateStickyHeaders(),t.onUpdatedLayout(e))})))},t.prototype._updateScrollPosition=function(){var e=this._root,o=e.scrollTop,i=e.scrollLeft;this.rightToLeft&&"rev"==t._getRtlMode()&&(i=e.scrollWidth-e.clientWidth-i);var n=new wjcCore.Point(-Math.abs(i),-o);return!this._ptScrl.equals(n)&&(this._ptScrl=n,this.onScrollPositionChanged(),!0)},t.prototype._updateContent=function(e,t){var o=wjcCore.getActiveElement(),i=wjcCore.contains(this.hostElement,o)?o:null,n=this._activeCell,r=new wjcCore.CancelEventArgs;if(this.onUpdatingView(r)){if(this._offsetY=0,this._heightBrowser>this._szClient.height){var l=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100;this._offsetY=Math.round(this._maxOffsetY*l)}this._updateScrollPosition();var s=this._gpCells._updateContent(e,t,this._offsetY);if(this._hdrVis&HeadersVisibility.Column&&(!t||this._ssHdr&HeadersVisibility.Column)&&this._gpCHdr._updateContent(e,t,0),this._hdrVis&HeadersVisibility.Row&&(!t||this._ssHdr&HeadersVisibility.Row)&&this._gpRHdr._updateContent(e,t,this._offsetY),this._hdrVis&&!t&&this._gpTL._updateContent(e,t,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,t,0),this._gpCFtr._updateContent(e,t,0)),this.showMarquee){var a=this._selHdl.selection,c=this._eMarquee;if(this.isRangeValid(a)){var h=this._getMarqueeRect(a),d=this.cells.hostElement,u=c.firstChild,g=c.offsetWidth-u.offsetWidth,p=c.offsetHeight-u.offsetHeight;wjcCore.setCss(c,{left:h.left+d.offsetLeft-g/2,top:h.top+d.offsetTop-p/2,width:h.width+g,height:h.height+p,visibility:h.width>0&&h.height>0?"":"collapse"})}else wjcCore.setCss(c,{left:0,top:0,width:0,height:0,visibility:"collapse"})}if(this._useFrozenDiv()&&(this._updateFrozenCells(t),s&&wjcCore.hasClass(s,"wj-frozen")&&(s=null)),this._activeCell=s,i)if(i!=this._root&&i!=this._eFocus&&wjcCore.contains(this.hostElement,i)&&!wjcCore.contains(this.cells.hostElement,i))i.focus();else{var w=s!=n;this._setFocus(w)}!i&&s&&(s.tabIndex=this._tabIndex),n&&n!=s&&n.removeAttribute("tabindex"),this._rcBounds=null,this.onUpdatedView(r)}},t.prototype._clearCells=function(){for(var e in this)if("_"==e[0]){var t=this[e];t instanceof GridPanel&&t._clearCells()}this.invalidate()},t.prototype._useFrozenDiv=function(){return wjcCore.isBoolean(this._fzClone)?this._fzClone:wjcCore.isIE()||wjcCore.isFirefox()||wjcCore.isMobile()},t.prototype._updateFrozenCells=function(e){if(this.frozenRows||this.frozenColumns){var t=this._eCt.querySelectorAll(".wj-frozen");if(e&&this._fCt.children.length==t.length){for(o=0;o<t.length;o++)this._fCt.children[o].className=t[o].className;return}if(wjcCore.setText(this._fCt,null),!this.activeEditor)for(var o=0;o<t.length;o++){var i=t[o].cloneNode(!0);i.style.pointerEvents="auto",this._fCt.appendChild(i)}}else wjcCore.setText(this._fCt,null)},t.prototype._getMarqueeRect=function(e){var t=this.getMergedRange(this.cells,e.topRow,e.leftCol)||new CellRange(e.topRow,e.leftCol),o=this.getMergedRange(this.cells,e.bottomRow,e.rightCol)||new CellRange(e.bottomRow,e.rightCol),i=this.cells.getCellBoundingRect(t.topRow,t.leftCol,!0),n=this.cells.getCellBoundingRect(o.bottomRow,o.rightCol,!0);if(this.rows.frozen){var r=Math.min(this.rows.length,this.rows.frozen),l=this.cells.getCellBoundingRect(r-1,0,!0);e.topRow>=r&&i.top<l.bottom&&(i.top=l.bottom),e.bottomRow>=r&&n.bottom<l.bottom&&(n.height=l.bottom-n.top)}if(this.columns.frozen){var s=Math.min(this.columns.length,this.columns.frozen),l=this.cells.getCellBoundingRect(0,s-1,!0);this.rightToLeft?(e.leftCol>=s&&i.right>l.left&&(i.left=l.left-i.width),e.rightCol>=s&&n.left>l.left&&(n.left=l.left)):(e.leftCol>=s&&i.left<l.right&&(i.left=l.right),e.rightCol>=s&&n.right<l.right&&(n.width=l.right-n.left))}return this.rightToLeft?new wjcCore.Rect(n.left,i.top,i.right-n.left,n.bottom-i.top):new wjcCore.Rect(i.left,i.top,n.right-i.left,n.bottom-i.top)},t.prototype._bindColumns=function(){for(var e=0;e<this.columns.length;e++)(s=this.columns[e])._getFlag(RowColFlags.AutoGenerated)&&(this.columns.removeAt(e),e--);var t=this.collectionView,o=t?t.sourceCollection:null,i=o&&o.length?o[0]:null;if(i&&this.autoGenerateColumns)for(var n in i)for(var r=null,l=0;l<o.length&&l<1e3&&null==r;l++)if(r=o[l][n],wjcCore.isPrimitive(r)){var s=new Column;s._setFlag(RowColFlags.AutoGenerated,!0),s.binding=s.name=n,s.header=wjcCore.toHeaderCase(n),s.dataType=wjcCore.getType(r),s.dataType==wjcCore.DataType.Number&&(s.width=80);var a=Object.getOwnPropertyDescriptor(i,n);!a||a.writable||wjcCore.isFunction(a.set)||s._setFlag(RowColFlags.ReadOnly,!0),this.columns.push(s)}this._updateColumnTypes()},t.prototype._updateColumnTypes=function(){var e=this.collectionView;if(wjcCore.hasItems(e))for(var t=e.items[0],o=this.columns,i=0;i<o.length;i++){var n=o[i];null==n.dataType&&n._binding&&(n.dataType=wjcCore.getType(n._binding.getValue(t)))}},t.prototype._getBindingColumn=function(e,t,o){return o},t.prototype._getRowHeaderPath=function(){return this._rowHdrPath},t.prototype._bindRows=function(){this.rows.clear();var e=this.collectionView;if(e&&e.items){var t=e.items,o=e.groups;if(this.childItemsPath)for(i=0;i<t.length;i++)this._addNode(t,i,0);else if(null!=o&&o.length>0&&this.showGroups)for(i=0;i<o.length;i++)this._addGroup(o[i]);else for(var i=0;i<t.length;i++)this._addBoundRow(t,i)}},t.prototype._addBoundRow=function(e,t){this.rows.push(new Row(e[t]))},t.prototype._addNode=function(e,t,o){var i=new GroupRow,n=this.childItemsPath,r=wjcCore.isArray(n)?n[o]:n,l=e[t],s=l[r];if(i.dataItem=l,i.level=o,this.rows.push(i),wjcCore.isArray(s))for(var a=0;a<s.length;a++)this._addNode(s,a,o+1)},t.prototype._addGroup=function(e){var t=new GroupRow;if(t.level=e.level,t.dataItem=e,this.rows.push(t),e.isBottomLevel)for(var o=e.items,i=0;i<o.length;i++)this._addBoundRow(o,i);else for(i=0;i<e.groups.length;i++)this._addGroup(e.groups[i])},t._getSerializableProperties=function(e){var t=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var o=Object.getOwnPropertyNames(e),i=0;i<o.length;i++){var n=o[i],r=Object.getOwnPropertyDescriptor(e,n);r&&r.set&&r.get&&"_"!=n[0]&&!n.match(/disabled|required/)&&t.push(n)}return t},t.prototype._copy=function(e,t){if("columns"==e){this.columns.clear();for(var o=wjcCore.asArray(t),i=0;i<o.length;i++){var n=new Column;wjcCore.copy(n,o[i]),this.columns.push(n)}return!0}return!1},t.prototype._isInputElement=function(e){if(e instanceof HTMLElement){if("true"==e.contentEditable)return!0;var t=e.tagName.match(/^(BUTTON|A|INPUT|TEXTAREA|SELECT|OPTION)$/i);return t&&t.length>0}return!1},t.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._edtHdl._isNativeCheckbox(e)&&!wjcCore.hasClass(e,"wj-grid-ime")&&wjcCore.contains(document.body,e)},t._getMaxSupportedCssHeight=function(){if(!t._maxCssHeight){var e=1e6,o=document.createElement("div");o.style.visibility="hidden",document.body.appendChild(o);for(var i=e;i<=6e7&&(o.style.height=i+"px",o.offsetHeight==i);i+=5e5)e=i;document.body.removeChild(o),t._maxCssHeight=e}return t._maxCssHeight},t._getRtlMode=function(){if(!t._rtlMode){var e=wjcCore.createElement('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"></div></div>');document.body.appendChild(e);var o=e.scrollLeft;e.scrollLeft=-1e3;var i=e.scrollLeft;document.body.removeChild(e),t._rtlMode=i<0?"neg":o>0?"rev":"std"}return t._rtlMode},t._WJS_STICKY="wj-state-sticky",t._WJS_MEASURE="wj-state-measuring",t._WJS_UPDATING="wj-state-updating",t._MIN_VIRT_ROWS=200,t.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="focus" aria-hidden="true" style="position:fixed;opacity:0;pointer-events:none;left:-10px;top:-10px"></div><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;max-width:inherit;max-height:inherit"><div wj-part="cells" class="wj-cells" style="position:absolute"></div><div wj-part="marquee" aria-hidden="true" class="wj-marquee" style="display:none;pointer-events:none;"><div style="width:100%;height:100%"></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells" style="position:absolute;pointer-events:none;overflow:hidden"></div><div wj-part="rh" aria-hidden="true" style="position:absolute;overflow:hidden;outline:none"><div wj-part="rhcells" class="wj-rowheaders" style="position:relative"></div></div><div wj-part="cf" aria-hidden="true" style="position:absolute;overflow:hidden;outline:none"><div wj-part="cfcells" class="wj-colfooters" style="position:relative"></div></div><div wj-part="ch" aria-hidden="true" style="position:absolute;overflow:hidden;outline:none"><div wj-part="chcells" class="wj-colheaders" style="position:relative"></div></div><div wj-part="bl" aria-hidden="true" style="position:absolute;overflow:hidden;outline:none"><div wj-part="blcells" class="wj-bottomleft" style="position:relative"></div></div><div wj-part="tl" aria-hidden="true" style="position:absolute;overflow:hidden;outline:none"><div wj-part="tlcells" class="wj-topleft" style="position:relative"></div></div><div wj-part="sz" aria-hidden="true" style="position:relative;visibility:hidden"></div></div>',t}(wjcCore.Control);exports.FlexGrid=FlexGrid;var CellRangeEventArgs=function(e){function t(t,o,i){var n=e.call(this)||this;return n._p=wjcCore.asType(t,GridPanel),n._rng=wjcCore.asType(o,CellRange),n._data=i,n}return __extends(t,e),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),t}(wjcCore.CancelEventArgs);exports.CellRangeEventArgs=CellRangeEventArgs;var FormatItemEventArgs=function(e){function t(t,o,i){var n=e.call(this,t,o)||this;return n._cell=wjcCore.asType(i,HTMLElement),n}return __extends(t,e),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),t}(CellRangeEventArgs);exports.FormatItemEventArgs=FormatItemEventArgs;var CellEditEndingEventArgs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),t}(CellRangeEventArgs);exports.CellEditEndingEventArgs=CellEditEndingEventArgs;var CellType;!function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.TopLeft=4]="TopLeft",e[e.ColumnFooter=5]="ColumnFooter",e[e.BottomLeft=6]="BottomLeft"}(CellType=exports.CellType||(exports.CellType={}));var GridPanel=function(){function e(e,t,o,i,n){this._offsetY=0,this._g=wjcCore.asType(e,FlexGrid),this._ct=wjcCore.asInt(t),this._rows=wjcCore.asType(o,RowCollection),this._cols=wjcCore.asType(i,ColumnCollection),this._e=wjcCore.asType(n,HTMLElement),this._vrb=new CellRange}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),e.prototype.getCellData=function(e,t,o){var i,n=this._rows[wjcCore.asNumber(e,!1,!0)],r=null;if(wjcCore.isString(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";i=this._cols[wjcCore.asNumber(t,!1,!0)];var l=this._g?this._g._getBindingColumn(this,e,i):i;if(!l.binding||!n.dataItem||n.dataItem instanceof wjcCore.CollectionViewGroup?n._ubv&&(r=n._ubv[i._hash]):r=l._binding.getValue(n.dataItem),null==r)switch(this._ct){case CellType.ColumnHeader:e!=this._rows.length-1&&l==i||(r=l.header);break;case CellType.ColumnFooter:if(l.aggregate!=wjcCore.Aggregate.None&&n instanceof GroupRow){var s=this._g.collectionView;if(s){var a=wjcCore.tryCast(s,wjcCore.CollectionView);r=a?a.getAggregate(l.aggregate,l.binding):wjcCore.getAggregate(l.aggregate,s.items,l.binding)}}break;case CellType.Cell:if(l.aggregate!=wjcCore.Aggregate.None&&n instanceof GroupRow){var c=wjcCore.tryCast(n.dataItem,wjcCore.CollectionViewGroup);c&&(r=c.getAggregate(l.aggregate,l.binding,this._g.collectionView))}}return o&&(this.cellType==CellType.Cell&&l.dataMap&&(r=l.dataMap.getDisplayValue(r)),r=null!=r?wjcCore.Globalize.format(r,l.format):""),r},e.prototype.setCellData=function(e,t,o,i,n){void 0===i&&(i=!0),void 0===n&&(n=!0);var r,l=this._rows[wjcCore.asNumber(e,!1,!0)];if(wjcCore.isString(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";r=this._cols[wjcCore.asNumber(t,!1,!0)];var s=this._g?this._g._getBindingColumn(this,e,r):r;if(this._ct==CellType.Cell){if(s.dataMap&&null!=o&&(s.isRequired||""!=o)){var a=s.dataMap,c=a.getKeyValue(o);if(null==c&&null==a.getDisplayValue(null)){if(!a.isEditable||a.displayMemberPath!=a.selectedValuePath)return!1}else o=c}var h=wjcCore.DataType.Object;if(s.dataType)h=s.dataType;else{var d=this.getCellData(e,t,!1);h=wjcCore.getType(d)}if(wjcCore.isBoolean(s.isRequired))if(s.isRequired||""!==o&&null!==o){if(s.isRequired&&(""===o||null===o))return!1}else o=null,i=!1;if(i&&(o=wjcCore.changeType(o,h,s.format),h!=wjcCore.DataType.Object&&wjcCore.getType(o)!=h))return!1}if(l.dataItem&&s.binding){var u=s._binding,g=l.dataItem,p=u.getValue(g);if(o!==p&&!wjcCore.DateTime.equals(o,p)){u.setValue(g,o);var w=this._g.collectionView;if(w instanceof wjcCore.CollectionView&&g!=w.currentEditItem){var f=new wjcCore.NotifyCollectionChangedEventArgs(wjcCore.NotifyCollectionChangedAction.Change,g,w.items.indexOf(g));w.onCollectionChanged(f)}}}else l._ubv||(l._ubv={}),l._ubv[r._hash]=o;return n&&this._g&&this._g.invalidate(),!0},e.prototype.getCellBoundingRect=function(e,t,o){var i=this.rows[e],n=this.columns[t],r=new wjcCore.Rect(n.pos,i.pos,n.renderSize,i.renderSize);if(this._g.rightToLeft&&(r.left=this.hostElement.clientWidth-r.right,!wjcCore.isIE()&&!wjcCore.isFirefox())){var l=this.hostElement.parentElement;r.left-=l.offsetWidth-l.clientWidth}if(!o){var s=this.hostElement.getBoundingClientRect();r.left+=s.left,r.top+=s.top-this._offsetY}return e<this.rows.frozen&&(r.top-=this._g.scrollPosition.y),t<this.columns.frozen&&(r.left-=this._g.scrollPosition.x*(this._g.rightToLeft?-1:1)),r},e.prototype.getCellElement=function(t,o){for(var i=this.hostElement.children,n=Math.min(t+2,i.length),r=0;r<n;r++)for(var l=i[r].children,s=Math.min(o+2,l.length),a=0;a<s;a++){var c=l[a],h=c[e._INDEX_KEY];if(h&&(h.row==t&&h.col==o||h.rng&&h.rng.contains(t,o)))return c}return null},e.prototype.getSelectedState=function(e,t,o){var i=this._g,n=i.selectionMode,r=i._selHdl.selection,l=SelectionMode,s=SelectedState;if(n!=l.None)switch(this._ct){case CellType.Cell:if(o||(o=i.getMergedRange(this,e,t)),o){if(o.contains(r.row,r.col))return i.showMarquee?s.None:s.Cursor;if(o.intersects(r))return s.Selected}if(r.row==e&&r.col==t)return i.showMarquee?s.None:s.Cursor;if(i.rows[e].isSelected||i.columns[t].isSelected)return s.Selected;if(o)switch(n){case l.Row:case l.RowRange:case l.ListBox:if(o.containsRow(r.row))return s.Selected}return r=i._selHdl._adjustSelection(r),n==SelectionMode.ListBox?s.None:r.containsRow(e)&&r.containsColumn(t)?s.Selected:s.None;case CellType.ColumnHeader:if(i.showSelectedHeaders&HeadersVisibility.Column&&(i.columns[t].isSelected||r.containsColumn(t)||r.intersectsColumn(o))&&(o&&(e=o.bottomRow),e==this.rows.length-1))return s.Selected;break;case CellType.RowHeader:if(i.showSelectedHeaders&HeadersVisibility.Row&&(i.rows[e].isSelected||r.containsRow(e)||r.intersectsRow(o))&&(o&&(t=o.rightCol),t==this.columns.length-1))return s.Selected}return s.None},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),e.prototype._getOffsetY=function(){return this._offsetY},e.prototype._updateContent=function(e,t,o){var i=this._g,n=this._e,r=this._rows,l=this._cols,s=this._ct;if(s==CellType.ColumnHeader||s==CellType.ColumnFooter||s==CellType.RowHeader){var a=i._ptScrl,c=n.style;s==CellType.RowHeader?c.top=a.y+"px":i.rightToLeft?c.right=a.x+"px":c.left=a.x+"px"}this._offsetY!=o&&(e=!1,this._offsetY=o);var h,d=this._getViewRange();if(r.length<=i.virtualizationThreshold)h=new CellRange(0,0,r.length-1,l.length-1);else if((h=d.clone()).isValid&&i.isTouching){h.row=Math.max(d.row-6,r.frozen),h.row2=Math.min(d.row2+6,r.length-1),h.col=Math.max(d.col-1,l.frozen),h.col2=Math.min(d.col2+1,l.length-1)}if(e&&!t&&this._vrb.contains(d)&&!r.frozen&&!l.frozen)return this._activeCell;e&&h.equals(this._vrb)||(t=!1),e&&!t&&this._ct!=CellType.TopLeft&&this._reorderCells(h,this._vrb),this._activeCell=null,this._vru=d,this._vrb=h,this._cf=i.cellFactory;var u=0;this._ct==CellType.Cell&&(u=this._renderColHdrRow(h,t));for(g=0;g<r.frozen&&g<r.length;g++)u=this._renderRow(g,h,t,u);for(var g=h.topRow;g<=h.bottomRow&&g>-1;g++)u=this._renderRow(g,h,t,u);for(;n.childElementCount>u;){var p=n.lastElementChild;n.removeChild(p),this._removeExtraCells(p,0)}return this._activeCell},e.prototype._clearCells=function(){for(var e=this.hostElement,t=e.childElementCount-1;t>=0;t--){var o=e.children[t];e.removeChild(o);for(var i=o.childElementCount-1;i>=0;i--)this._cf.disposeCell(o.children[i])}},e.prototype._reorderCells=function(e,t){if(!(this._rows.frozen>0||this._cols.frozen>0||e.columnSpan!=t.columnSpan||e.rowSpan!=t.rowSpan)&&t.isValid&&e.isValid&&e.intersects(t)&&e.row!=t.row){var o=e.row-t.row,i=Math.max(1,e.rowSpan-1),n=this._e;if(0!=o&&Math.abs(o)<i){var r=this._ct==CellType.Cell?1:0,l=n.childElementCount;if(o>0){var s=r,a=Math.min(r+o,l-1);(c=this._createRange(s,a))&&a<l-1&&n.appendChild(c.extractContents())}if(o<0){var a=l,s=Math.max(r,a+o),c=this._createRange(s,a);if(c&&s>r){var h=n.children[r];n.insertBefore(c.extractContents(),h)}}}}},e.prototype._createRange=function(e,t){var o,i=this._e.childElementCount;return t>e&&t<=i&&e>-1&&((o=document.createRange()).setStart(this._e,e),o.setEnd(this._e,t)),o},e.prototype._renderColHdrRow=function(e,t){var o=this._e.children[0];o||(o=wjcCore.createElement('<div class="wj-row" tabindex="-1" role="row"></div>',this._e)),wjcCore.setAttribute(o,"aria-selected",null);var i=0,n=this._g._getRowHeaderPath();n&&(i=this._renderRowHdrCell(o,-1,n.path));for(r=0;r<this.columns.frozen&&r<this.columns.length;r++)i=this._renderColHdrCell(o,r,e,t,i);for(var r=e.leftCol;r<=e.rightCol&&r>-1;r++)i=this._renderColHdrCell(o,r,e,t,i);return this._removeExtraCells(o,i),1},e.prototype._renderColHdrCell=function(t,o,i,n,r){var l=this.columns[o];if(l.renderSize<=0)return r;var s=t.children[r];s||(s=wjcCore.createElement('<div class="wj-cell" tabindex="-1" role="columnheader"></div>',t)),n||(s.textContent=this.columns[o].header,wjcCore.setCss(s,{position:"fixed",left:l.pos,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}));var a=this.grid;if(a.allowSorting){var c="none";switch(a._getBindingColumn(this,0,l).currentSort){case"+":c="ascending";break;case"-":c="descending"}wjcCore.setAttribute(s,"aria-sort",c)}return s[e._INDEX_KEY]={row:-1,col:o,panel:this},r+1},e.prototype._renderRowHdrCell=function(t,o,i){var n=t.children[0];return n||(n=wjcCore.createElement('<div class="wj-cell" tabindex="-1"></div>',t)),n.setAttribute("role",o<0?"columnheader":"rowheader"),n.textContent=i?i.toString():"",wjcCore.setCss(n,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),n[e._INDEX_KEY]={row:o,col:-1,panel:this},1},e.prototype._renderRow=function(e,t,o,i){var n=this._g,r=this.rows[e];if(r.renderSize<=0)return i;var l=this._e.children[i];if(l||(l=wjcCore.createElement('<div class="wj-row" tabindex="-1"></div>',this._e),this._ct==CellType.Cell&&l.setAttribute("role","row")),this._ct==CellType.Cell){var s=SelectionMode;switch(n.selectionMode){case s.Row:case s.RowRange:case s.ListBox:var a=r.isSelected||this._g._selHdl.selection.containsRow(e);wjcCore.setAttribute(l,"aria-selected",!!a)}}var c=0;if(this._ct==CellType.Cell){var h=this._g._getRowHeaderPath();h&&(c=this._renderRowHdrCell(l,e,h.getValue(r.dataItem)))}for(d=0;d<this.columns.frozen&&d<this.columns.length;d++)c=this._renderCell(l,e,d,t,o,c);for(var d=t.leftCol;d<=t.rightCol&&d>-1;d++)c=this._renderCell(l,e,d,t,o,c);return this._removeExtraCells(l,c),i+1},e.prototype._renderCell=function(t,o,i,n,r,l){var s=this._g,a=s.getMergedRange(this,o,i);if(a){for(c=Math.max(n.row,a.row);c<o;c++)if(this.rows[c].isVisible)return l;for(var c=Math.max(n.col,a.col);c<i;c++)if(this.columns[c].isVisible)return l}if(this.columns[i].renderSize<=0&&(!a||a.getRenderSize(this).width<=0))return l;var h=!1;if(this.cellType==CellType.Cell){var d=s._selHdl.selection;h=d.row==o&&d.col==i||a&&a.contains(d.row,d.col)}var u=t.children[l],g=this.getSelectedState(o,i,a),p=SelectedState;return u&&r?(wjcCore.toggleClass(u,"wj-state-selected",g==p.Cursor),wjcCore.toggleClass(u,"wj-state-multi-selected",g==p.Selected),h&&(this._activeCell=u),l+1):(u||((u=document.createElement("div")).tabIndex=-1,this._ct==CellType.Cell&&u.setAttribute("role","gridcell"),t.appendChild(u)),h&&(this._activeCell=u),s.cellFactory.updateCell(this,o,i,u,a),u[e._INDEX_KEY]={row:o,col:i,rng:a,panel:this},l+1)},e.prototype._removeExtraCells=function(e,t){for(;e.childElementCount>t;){var o=e.lastElementChild;e.removeChild(o),this._cf.disposeCell(o)}},e.prototype._getViewRange=function(){var e=this._g,t=e._ptScrl,o=this._rows,i=this._cols,n=new CellRange(0,0,o.length-1,i.length-1);if(this._ct==CellType.Cell||this._ct==CellType.RowHeader){var r=-t.y+this._offsetY,l=e._szClient.height;if((h=Math.min(o.frozen,o.length-1))>0&&(r+=d=o[h-1].pos,l-=d),n.row=Math.min(o.length-1,Math.max(o.frozen,o.getItemAt(r+1))),n.row2=o.getItemAt(r+l+1),e._clipToScreen()){var s=e.hostElement.getBoundingClientRect();s.top<0&&(n.row=Math.max(n.row,o.getItemAt(-s.top-e._ptScrl.y)-1)),s.bottom>innerHeight&&(n.row2=Math.min(n.row2,o.getItemAt(-s.top-e._ptScrl.y+innerHeight)+1))}}if(this._ct==CellType.Cell||this._ct==CellType.ColumnHeader){var a=-t.x,c=e._szClient.width,h=Math.min(i.frozen,i.length-1);if(h>0){var d=i[h-1].pos;a+=d,c-=d}n.col=Math.min(i.length-1,Math.max(i.frozen,i.getItemAt(a+1))),n.col2=i.getItemAt(a+c+1)}return o.length<=o.frozen&&(n.row=n.row2=-1),i.length<=i.frozen&&(n.col=n.col2=-1),n},e.prototype._getFrozenPos=function(){var e=this._rows.frozen,t=this._cols.frozen,o=e>0?this._rows[e-1]:null,i=t>0?this._cols[t-1]:null,n=o?o.pos+o.renderSize:0,r=i?i.pos+i.renderSize:0;return new wjcCore.Point(r,n)},e._INDEX_KEY="wj-cell-index",e}();exports.GridPanel=GridPanel;var CellFactory=function(){function e(){}return e.prototype.updateCell=function(t,o,i,n,r,l){var s=t.grid,a=s.rightToLeft,c=t.cellType,h=t.rows,d=t.columns,u=h[o],g=d[i],p=o,w=i,f=u instanceof GroupRow?u:null,_=u instanceof _NewRowTemplate?u:null,C=g.renderWidth,m=u.renderHeight,y="wj-cell",v={display:""};if(0!=l&&n.firstElementChild&&(1==n.childNodes.length&&"checkbox"==n.firstElementChild.type||(n.textContent="")),r&&!r.isSingleCell){o=r.row,i=r.col,p=r.row2,w=r.col2,u=h[o],g=d[i],f=u instanceof GroupRow?u:null;var b=r.getRenderSize(t);m=b.height,C=b.width}var R=s._getBindingColumn(t,o,g),j=R.dataType==wjcCore.DataType.Boolean&&!R.dataMap,E=g.pos,S=u.pos;if(s._useFrozenDiv()&&c==CellType.Cell&&!s.editRange?(o<h.frozen&&i>=d.frozen&&(E+=s._ptScrl.x),i<d.frozen&&o>=h.frozen&&(S+=s._ptScrl.y)):(o<h.frozen&&(S-=s._ptScrl.y),i<d.frozen&&(E-=s._ptScrl.x)),a?v.right=E+"px":v.left=E+"px",v.top=S-t._getOffsetY()+"px",v.width=C+"px",v.height=m+"px",v.zIndex="",(o<h.frozen||i<d.frozen)&&(v.zIndex=o<h.frozen&&i<d.frozen?2:1),c==CellType.Cell?(f&&(y+=" wj-group"),s.showAlternatingRows&&u.visibleIndex%2!=0&&(r&&r.row!=r.row2||(y+=" wj-alt")),(o<h.frozen||i<d.frozen)&&(y+=" wj-frozen"),_&&(y+=" wj-new"),u.cssClass&&(y+=" "+u.cssClass),R.cssClass&&(y+=" "+R.cssClass)):(y+=" wj-header",s.showAlternatingRows&&o%2!=0&&(y+=" wj-header-alt")),(c==CellType.Cell||c==CellType.RowHeader)&&s._getShowErrors()){var x=s._getError(t,o,i);wjcCore.setAttribute(n,"title",x),x&&(y+=" wj-state-invalid")}var z=t.getSelectedState(o,i,r);switch(z!=SelectedState.None&&c==CellType.Cell&&!j&&s.editRange&&s.editRange.contains(o,i)&&(z=SelectedState.None),z){case SelectedState.Cursor:y+=" wj-state-selected";break;case SelectedState.Selected:y+=" wj-state-multi-selected"}if(p==h.frozen-1&&(y+=" wj-frozen-row"),w==d.frozen-1&&(y+=" wj-frozen-col"),(R.wordWrap||u.wordWrap)&&(y+=" wj-wrap"),v.textAlign=R.getAlignment(),v.paddingLeft=v.paddingRight=v.paddingTop=v.paddingBottom="",c==CellType.Cell&&s.rows.maxGroupLevel>-1&&i==s.columns.firstVisibleIndex&&s.treeIndent){var T=f?Math.max(0,f.level):s.rows.maxGroupLevel+1,M=s.treeIndent*T+s._cellPadding;a?v.paddingRight=M+"px":v.paddingLeft=M+"px"}if(0!=l){var H=t.getCellData(o,i,!1),P=t.getCellData(o,i,!0);if(c==CellType.Cell&&i==s.columns.firstVisibleIndex&&f&&f.hasChildren&&!this._isEditingCell(s,o,i))P||(P=f.getGroupHeader()),n.innerHTML=this._getTreeIcon(f)+" "+P,v.textAlign="";else if(c==CellType.ColumnHeader&&R.currentSort&&s.showSort&&(p==s._getSortRowIndex()||R!=g))y+=" wj-sort-"+("+"==R.currentSort?"asc":"desc"),n.innerHTML=wjcCore.escapeHtml(P)+"&nbsp;"+this._getSortIcon(R);else if(c!=CellType.RowHeader||i!=s.rowHeaders.columns.length-1||P)if(c!=CellType.Cell||R.dataType!=wjcCore.DataType.Boolean||R.dataMap||f&&!wjcCore.isBoolean(H))if(c==CellType.Cell&&this._isEditingCell(s,o,i)){var A=R.inputType;if(R.inputType||(A=R.dataType!=wjcCore.DataType.Number||R.dataMap?"text":"tel"),!R.dataMap&&!R.mask){var L=t.getCellData(o,i,!1);if(wjcCore.isNumber(L)){var D=L.toString(),I=R.format;if(I&&L!=Math.round(L)){var O=D.match(/\.(\d+)/)[1].length;I=I.replace(/([a-z])(\d*)(.*)/gi,"$01"+O+"$3")}P=wjcCore.Globalize.formatNumber(L,I,!0)}}n.innerHTML='<input type="'+A+'" class="wj-grid-editor wj-form-control">';var N=n.children[0];N.value=P,N.required=R.getIsRequired(),R.maxLength&&(N.maxLength=R.maxLength),N.style.textAlign=R.getAlignment(),v.paddingTop=v.paddingBottom="0px",R.mask&&new wjcCore._MaskProvider(N,R.mask),s._edtHdl._edt=N}else c==CellType.Cell&&(u.isContentHtml||R.isContentHtml)?n.innerHTML=P:n.textContent=P||"";else{var F=n.firstChild;F instanceof HTMLInputElement&&"checkbox"==F.type||(n.innerHTML='<input type="checkbox" class="wj-cell-check" tabindex="-1"/>',F=n.firstChild),F.checked=1==H,F.indeterminate=null==H,F.disabled=!s.canEditCell(o,i),F.disabled&&(F.style.cursor="default"),s.editRange&&s.editRange.contains(o,i)&&(s._edtHdl._edt=F)}else{var V=s.editableCollectionView,k=V?V.currentEditItem:null;k&&u.dataItem==k?n.innerHTML='<span class="wj-glyph-pencil"></span>':u instanceof _NewRowTemplate&&(n.innerHTML='<span class="wj-glyph-asterisk"></span>')}if(c==CellType.Cell&&tryGetModuleWijmoInput()&&R.dataMap&&s.showDropDown&&0!=R.showDropDown&&s.canEditCell(o,i)){e._ddIcon||(e._ddIcon=wjcCore.createElement('<div role="button" class="'+e._WJC_DROPDOWN+'"><span class="wj-glyph-down"></span></div>'));var B=e._ddIcon.cloneNode(!0);n.appendChild(B)}}var G=!1;switch(c){case CellType.RowHeader:G=!f&&!_&&u.allowDragging&&0!=(s.allowDragging&AllowDragging.Rows),wjcCore.setAttribute(n,"draggable",G?"true":null);break;case CellType.ColumnHeader:G=g.allowDragging&&0!=(s.allowDragging&AllowDragging.Columns),wjcCore.setAttribute(n,"draggable",G?"true":null)}n.className!=y&&(n.className=y);var K=n.style;for(var W in v)K[W]=v[W];if(s._edtHdl._edt&&s._edtHdl._edt.parentElement==n){var q=s._root,U=q.getBoundingClientRect(),Y=n.getBoundingClientRect(),J=U.top+q.clientHeight-Y.top,X=U.left+q.clientWidth-Y.left;Y.height>J&&(n.style.height=J+"px"),Y.width>X&&(n.style.width=X+"px")}if(s.itemFormatter&&s.itemFormatter(t,o,i,n),s.formatItem.hasHandlers){var Z=e._fmtRng;Z?Z.setRange(o,i,p,w):Z=e._fmtRng=new CellRange(o,i,p,w);var Q=new FormatItemEventArgs(t,Z,n);s.onFormatItem(Q)}},e.prototype.disposeCell=function(e){},e.prototype.getEditorValue=function(e){var t=e._edtHdl._edt;if(t instanceof HTMLInputElement){if("checkbox"==t.type)return t.checked;var o=t.maxLength;return wjcCore.isNumber(o)&&o>-1&&t.value.length>o?t.value.substr(0,o):t.value}return null},e.prototype._isEditingCell=function(e,t,o){return e.editRange&&e.editRange.contains(t,o)},e.prototype._getTreeIcon=function(t){var o="wj-glyph-"+(t.isCollapsed?"":"down-")+(t.grid.rightToLeft?"left":"right");return'<span role="button" class="'+e._WJC_COLLAPSE+" "+o+'"></span>'},e.prototype._getSortIcon=function(e){return'<span class="wj-glyph-'+("+"==e.currentSort?"up":"down")+'"></span>'},e._WJC_COLLAPSE="wj-elem-collapse",e._WJC_DROPDOWN="wj-elem-dropdown",e}();exports.CellFactory=CellFactory;var CellRange=function(){function e(e,t,o,i){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===o&&(o=e),void 0===i&&(i=t),this.setRange(e,t,o,i)}return e.prototype.setRange=function(e,t,o,i){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===o&&(o=e),void 0===i&&(i=t),this._row=wjcCore.asInt(e),this._col=wjcCore.asInt(t),this._row2=wjcCore.asInt(o),this._col2=wjcCore.asInt(i)},Object.defineProperty(e.prototype,"row",{get:function(){return this._row},set:function(e){this._row=wjcCore.asInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},set:function(e){this._col=wjcCore.asInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row2",{get:function(){return this._row2},set:function(e){this._row2=wjcCore.asInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col2",{get:function(){return this._col2},set:function(e){this._col2=wjcCore.asInt(e)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._row,this._col,this._row2,this._col2)},Object.defineProperty(e.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,o){var i=wjcCore.tryCast(t,e);if(i)return i.topRow>=this.topRow&&i.bottomRow<=this.bottomRow&&i.leftCol>=this.leftCol&&i.rightCol<=this.rightCol;if(wjcCore.isInt(t)&&wjcCore.isInt(o))return t>=this.topRow&&t<=this.bottomRow&&o>=this.leftCol&&o<=this.rightCol;throw"contains expects a CellRange or row/column indices."},e.prototype.containsRow=function(e){return wjcCore.asInt(e)>=this.topRow&&e<=this.bottomRow},e.prototype.containsColumn=function(e){return wjcCore.asInt(e)>=this.leftCol&&e<=this.rightCol},e.prototype.intersects=function(e){return this.intersectsRow(e)&&this.intersectsColumn(e)},e.prototype.intersectsRow=function(e){return e&&!(this.bottomRow<e.topRow||this.topRow>e.bottomRow)},e.prototype.intersectsColumn=function(e){return e&&!(this.rightCol<e.leftCol||this.leftCol>e.rightCol)},e.prototype.getRenderSize=function(e){var t=new wjcCore.Size(0,0);if(this.isValid){for(var o=this.topRow;o<=this.bottomRow;o++)t.height+=e.rows[o].renderSize;for(var i=this.leftCol;i<=this.rightCol;i++)t.width+=e.columns[i].renderSize}return t},e.prototype.equals=function(t){return t instanceof e&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},e}();exports.CellRange=CellRange;var RowColFlags;!function(e){e[e.Visible=1]="Visible",e[e.AllowResizing=2]="AllowResizing",e[e.AllowDragging=4]="AllowDragging",e[e.AllowMerging=8]="AllowMerging",e[e.AllowSorting=16]="AllowSorting",e[e.AutoGenerated=32]="AutoGenerated",e[e.Collapsed=64]="Collapsed",e[e.ParentCollapsed=128]="ParentCollapsed",e[e.Selected=256]="Selected",e[e.ReadOnly=512]="ReadOnly",e[e.HtmlContent=1024]="HtmlContent",e[e.WordWrap=2048]="WordWrap",e[e.HasTemplate=4096]="HasTemplate",e[e.RowDefault=3]="RowDefault",e[e.ColumnDefault=23]="ColumnDefault"}(RowColFlags=exports.RowColFlags||(exports.RowColFlags={}));var RowCol=function(){function e(){this._list=null,this._pos=0,this._idx=-1,this._vidx=-1}return Object.defineProperty(e.prototype,"visible",{get:function(){return this._getFlag(RowColFlags.Visible)},set:function(e){this._setFlag(RowColFlags.Visible,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return!!this._getFlag(RowColFlags.Visible)&&(!this._getFlag(RowColFlags.ParentCollapsed)||this instanceof _NewRowTemplate)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._vidx:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._sz},set:function(e){e!=this._sz&&(this._sz=wjcCore.asNumber(e,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderSize",{get:function(){if(!this.isVisible)return 0;var e=this._sz,t=this._list;return t&&((null==e||e<0)&&(e=Math.round(t.defaultSize)),null!=t.minSize&&e<t.minSize&&(e=t.minSize),null!=t.maxSize&&e>t.maxSize&&(e=t.maxSize)),null!=this._szMin&&e<this._szMin&&(e=this._szMin),null!=this._szMax&&e>this._szMax&&(e=this._szMax),Math.round(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowResizing",{get:function(){return this._getFlag(RowColFlags.AllowResizing)},set:function(e){this._setFlag(RowColFlags.AllowResizing,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowDragging",{get:function(){return this._getFlag(RowColFlags.AllowDragging)},set:function(e){this._setFlag(RowColFlags.AllowDragging,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowMerging",{get:function(){return this._getFlag(RowColFlags.AllowMerging)},set:function(e){this._setFlag(RowColFlags.AllowMerging,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._getFlag(RowColFlags.Selected)},set:function(e){if(this._setFlag(RowColFlags.Selected,e,!0)){var t=this.grid;t&&t.refreshCells(!1,!0,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._getFlag(RowColFlags.ReadOnly)},set:function(e){this._setFlag(RowColFlags.ReadOnly,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._getFlag(RowColFlags.HtmlContent)},set:function(e){this.isContentHtml!=e&&(this._setFlag(RowColFlags.HtmlContent,e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._getFlag(RowColFlags.WordWrap)},set:function(e){this._setFlag(RowColFlags.WordWrap,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(this._cssClass=wjcCore.asString(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),e.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},e.prototype._getFlag=function(e){return 0!=(this._f&e)},e.prototype._setFlag=function(e,t,o){return t!=this._getFlag(e)&&(this._f=t?this._f|e:this._f&~e,o||this.onPropertyChanged(),!0)},e}();exports.RowCol=RowCol;var Column=function(e){function t(o){var i=e.call(this)||this;return i._f=RowColFlags.ColumnDefault,i._hash=t._ctr.toString(36),t._ctr++,o&&wjcCore.copy(i,o),i}return __extends(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){return this._type},set:function(e){this._type!=e&&(this._type=wjcCore.asEnum(e,wjcCore.DataType),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._required},set:function(e){this._required=wjcCore.asBoolean(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._showDropDown},set:function(e){e!=this._showDropDown&&(this._showDropDown=wjcCore.asBoolean(e,!0),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(e){this._ddCssClass=wjcCore.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._inpType},set:function(e){this._inpType=wjcCore.asString(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){this._mask=wjcCore.asString(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this._maxLen},set:function(e){this._maxLen=wjcCore.asNumber(e,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(e){if(e!=this.binding){var t=wjcCore.asString(e);if(this._binding=t?new wjcCore.Binding(t):null,!this._type&&this.grid&&this._binding){var o=this.grid.collectionView;if(o&&o.sourceCollection&&o.sourceCollection.length){var i=o.sourceCollection[0];this._type=wjcCore.getType(this._binding.getValue(i))}}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(e){if(e!=this.sortMemberPath){var t=wjcCore.asString(e);this._bindingSort=t?new wjcCore.Binding(t):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){null!=t._parseStarSize(e)?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=wjcCore.asNumber(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=wjcCore.asNumber(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=wjcCore.asNumber(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=wjcCore.asBoolean(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(wjcCore.isBoolean(this._quickSize)?this._quickSize:!this.isContentHtml&&!this._getFlag(RowColFlags.HasTemplate))},Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!=e&&(this._align=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),t.prototype.getAlignment=function(){var e=this._align;if(null==e&&(e="",!this._map))switch(this._type){case wjcCore.DataType.Boolean:e="center";break;case wjcCore.DataType.Number:e="right"}return e},t.prototype.getIsRequired=function(){return null!=this._required?this._required:this.dataType!=wjcCore.DataType.String||(null!=this.dataMap||this._mask&&this._mask.length>0)},Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map!=e&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),wjcCore.isArray(e)&&(e=new DataMap(e,null,null)),this._map=wjcCore.asType(e,DataMap,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._fmt},set:function(e){this._fmt!=e&&(this._fmt=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._getFlag(RowColFlags.AllowSorting)},set:function(e){this._setFlag(RowColFlags.AllowSorting,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSort",{get:function(){if(this.grid&&this.grid.collectionView&&this.grid.collectionView.canSort)for(var e=this.grid.collectionView.sortDescriptions,t=0;t<e.length;t++)if(e[t].property==this._getBindingSort())return e[t].ascending?"+":"-";return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:wjcCore.Aggregate.None},set:function(e){e!=this._agg&&(this._agg=wjcCore.asEnum(e,wjcCore.Aggregate),this.onPropertyChanged())},enumerable:!0,configurable:!0}),t.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},t._parseStarSize=function(e){if(wjcCore.isString(e)&&e.length>0&&"*"==e[e.length-1]){var t=1==e.length?1:1*e.substr(0,e.length-1);if(t>0&&!isNaN(t))return t}return null},t._ctr=0,t}(RowCol);exports.Column=Column;var Row=function(e){function t(t){var o=e.call(this)||this;return o._f=RowColFlags.ColumnDefault,o._data=t,o}return __extends(t,e),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(RowCol);exports.Row=Row;var GroupRow=function(e){function t(){var t=e.call(this)||this;return t._level=-1,t.isReadOnly=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){wjcCore.asInt(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,o=wjcCore.tryCast(e,t),i=wjcCore.tryCast(e,_NewRowTemplate);return null!=e&&null==i&&(null==o||o.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._getFlag(RowColFlags.Collapsed)},set:function(e){wjcCore.asBoolean(e),e!=this.isCollapsed&&null!=this._list&&this._setCollapsed(e)},enumerable:!0,configurable:!0}),t.prototype.getGroupHeader=function(){var e=this.grid,t=e.groupHeaderFormat?e.groupHeaderFormat:wjcCore.culture.FlexGrid.groupHeaderFormat,o=wjcCore.tryCast(this.dataItem,wjcCore.CollectionViewGroup);if(o&&t){var i=o.groupDescription.propertyName,n=o.name,r=e.getColumn(i),l=this.isContentHtml;r&&(l=l||r.isContentHtml,r.header&&(i=r.header),r.dataMap?n=r.dataMap.getDisplayValue(n):r.format&&(n=wjcCore.Globalize.format(n,r.format)));var s=o.getAggregate(wjcCore.Aggregate.CntAll,null,e.collectionView);return wjcCore.format(t,{name:wjcCore.escapeHtml(i),value:l?n:wjcCore.escapeHtml(n),level:o.level,count:s})}return""},t.prototype._setCollapsed=function(e){var o,i=this,n=this.grid,r=n.rows,l=this.getCellRange(),s=new CellRangeEventArgs(n.cells,new CellRange(this.index,-1));n.onGroupCollapsedChanging(s),s.cancel||(n.deferUpdate(function(){i._setFlag(RowColFlags.Collapsed,e);for(var n=l.topRow+1;n<=l.bottomRow&&n>-1&&n<r.length;n++)r[n]._setFlag(RowColFlags.ParentCollapsed,e),null!=(o=wjcCore.tryCast(r[n],t))&&o.isCollapsed&&(n=o.getCellRange().bottomRow)}),n.onGroupCollapsedChanged(s))},t.prototype.getCellRange=function(){for(var e=this._list,o=this.index,i=e.length-1,n=o+1;n<=i;n++){var r=wjcCore.tryCast(e[n],t);if(null!=r&&r.level<=this.level){i=n-1;break}}return new CellRange(o,0,i,this.grid.columns.length-1)},t}(Row);exports.GroupRow=GroupRow;var RowColCollection=function(e){function t(t,o){var i=e.call(this)||this;return i._frozen=0,i._vlen=0,i._szDef=28,i._szTot=0,i._dirty=!1,i._g=wjcCore.asType(t,FlexGrid),i._szDef=wjcCore.asNumber(o,!1,!0),i}return __extends(t,e),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szDef!=e&&(this._szDef=wjcCore.asNumber(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=wjcCore.asNumber(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(e){return e<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=wjcCore.asNumber(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=wjcCore.asNumber(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(e){if(this._dirty&&this._update(),e<=0&&this.length>0)return 0;e=Math.round(e);for(var t,o,i=this.length,n=0,r=i-1;n<=r;)if(t=n+r>>>1,(o=this[t])._pos>e&&t>0)r=t-1;else{if(!(o._pos+o.renderSize<=e&&t<i-1)){for(;t>0&&!this[t].visible;)t--;for(;t<i-1&&!this[t].visible;)t++;return t}n=t+1}return r},t.prototype.getNextCell=function(e,t,o){var i;switch(t){case SelMove.Next:for(i=e+1;i<this.length;i++)if(this[i].renderSize>0)return i;break;case SelMove.Prev:for(i=e-1;i>=0;i--)if(this[i].renderSize>0)return i;break;case SelMove.End:for(i=this.length-1;i>=0;i--)if(this[i].renderSize>0)return i;break;case SelMove.Home:for(i=0;i<this.length;i++)if(this[i].renderSize>0)return i;break;case SelMove.NextPage:return(i=this.getItemAt(this[e].pos+o))<0?this.getNextCell(e,SelMove.End,o):i==e&&i<this.length-1?i+1:i;case SelMove.PrevPage:return(i=this.getItemAt(this[e].pos-o))<0?this.getNextCell(e,SelMove.Home,o):i==e&&i>0?i-1:i}return e},t.prototype.canMoveElement=function(e,t){if(t==e)return!1;if(e<0||e>=this.length||t>=this.length)return!1;t<0&&(t=this.length-1);for(var o=Math.min(e,t),i=Math.max(e,t),n=o;n<=i;n++)if(!this[n].allowDragging)return!1;return!(this[t]instanceof _NewRowTemplate)},t.prototype.moveElement=function(e,t){if(this.canMoveElement(e,t)){var o=this[e];this.removeAt(e),t<0&&(t=this.length),this.insert(t,o)}},t.prototype.onCollectionChanged=function(t){void 0===t&&(t=wjcCore.NotifyCollectionChangedEventArgs.reset),this._dirty=!0,this._g.invalidate(),e.prototype.onCollectionChanged.call(this,t)},t.prototype.push=function(t){return t._list=this,e.prototype.push.call(this,t)},t.prototype.splice=function(t,o,i){return i&&(i._list=this),e.prototype.splice.call(this,t,o,i)},t.prototype.beginUpdate=function(){this._update(),e.prototype.beginUpdate.call(this)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1;for(var e=0,t=0,o=void 0,i=void 0,n=0;n<this.length;n++)(i=this[n])._idx=n,i._vidx=e,i._list=this,i._pos=t,(o=i.renderSize)>0&&(t+=o,e++);return this._vlen=e,this._szTot=t,!0}return!1},t}(wjcCore.ObservableArray);exports.RowColCollection=RowColCollection;var ColumnCollection=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._firstVisible=-1,t}return __extends(t,e),t.prototype.getColumn=function(e){var t=wjcCore.isNumber(e)?e:this.indexOf(e);return t>-1?this[t]:null},t.prototype.indexOf=function(t){if(t instanceof Column)return e.prototype.indexOf.call(this,t);for(o=0;o<this.length;o++)if(this[o].name==t)return o;for(var o=0;o<this.length;o++)if(this[o].binding==t)return o;return-1},Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(e.prototype._update.call(this)){this._firstVisible=-1;for(var t=0;t<this.length;t++)if(this[t].visible){this._firstVisible=t;break}return!0}return!1},t.prototype._updateStarSizes=function(e){for(var t,o=0,i=0;i<this.length;i++)(r=this[i]).isVisible&&(r._szStar?(o+=Column._parseStarSize(r._szStar),t=r):e-=r.renderWidth);if(t){for(var n=e,i=0;i<this.length;i++){var r=this[i];r.isVisible&&r._szStar&&(r==t&&n>0?r._sz=n:(r._sz=Math.max(0,Math.round(Column._parseStarSize(r._szStar)/o*e)),n-=r.renderWidth))}return this._dirty=!0,this._update(),!0}return!1},t}(RowColCollection);exports.ColumnCollection=ColumnCollection;var RowCollection=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._maxLevel=-1,t}return __extends(t,e),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(e.prototype._update.call(this)){this._maxLevel=-1;for(var t=0;t<this.length;t++){var o=wjcCore.tryCast(this[t],GroupRow);o&&o.level>this._maxLevel&&(this._maxLevel=o.level)}return!0}return!1},t}(RowColCollection);exports.RowCollection=RowCollection;var HitTestInfo=function(){function e(t,o){this._row=-1,this._col=-1,this._edge=0;var i;if(t instanceof Element)(x=(S=wjcCore.closest(t,".wj-cell"))?S[GridPanel._INDEX_KEY]:null)&&(this._row=x.row,this._col=x.col,this._rng=x.rng,this._p=x.panel,this._g=x.panel.grid);else{if(t instanceof FlexGrid)i=this._g=t;else{if(!(t instanceof GridPanel))throw"First parameter should be a FlexGrid or GridPanel.";this._p=t,i=this._g=this._p.grid}var n;o instanceof MouseEvent&&(n=o,"mousedown"==o.type&&(i._rcBounds=null)),o=wjcCore.mouseToPage(o),this._pt=o.clone();var r=i.controlRect,l=i._szClient,s=i.topLeftCells,a=i._eTL,c=i.headersVisibility,h=HeadersVisibility,d=c&h.Row?s.columns.getTotalSize():0,u=c&h.Column?s.rows.getTotalSize():0,g=c&h.Column?u+a.offsetTop:0,p=i._eBL,w=p.offsetHeight;if(o.x-=r.left,o.y-=r.top,this._g.rightToLeft&&(o.x=r.width-o.x),!this._p&&o.x>=0&&o.y>=a.offsetTop&&l&&o.x<=l.width+d&&o.y<=l.height+g&&(o.y<g?this._p=o.x<d?i.topLeftCells:i.columnHeaders:o.y<p.offsetTop?this._p=o.x<d?i.rowHeaders:i.cells:this._p=o.x<d?i.bottomLeftCells:i.columnFooters),null!=this._p){var f=this._p.rows,_=this._p.columns,C=this._p.cellType,m=CellType,y=this._p._getFrozenPos(),v=C==m.TopLeft||C==m.ColumnHeader?u:C==m.BottomLeft||C==m.ColumnFooter?w:f.getTotalSize(),b=C==m.TopLeft||C==m.BottomLeft||C==m.RowHeader?d:_.getTotalSize();C==m.RowHeader||C==m.Cell?(o.y-=u,(o.y>y.y||y.y<=0)&&(o.y-=i._ptScrl.y,o.y+=this._p._getOffsetY())):C!=m.BottomLeft&&C!=m.ColumnFooter||(o.y-=p.offsetTop),C!=m.ColumnHeader&&C!=m.Cell&&C!=m.ColumnFooter||(o.x-=d,(o.x>y.x||y.x<=0)&&(o.x-=i._ptScrl.x)),C!=m.ColumnHeader&&C!=m.TopLeft||(o.y-=g-u),this._edge=0;var R=e._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(R=e._SZEDGE[1],o.x-=R/2),this._row=o.y>v?-1:f.getItemAt(o.y),this._col=o.x>b?-1:_.getItemAt(o.x),this._row<0||this._col<0)return void(this._p=null);if(this._col>-1){var j=_[this._col];o.x-j.pos<=R&&(this._edge|=1),j.pos+j.renderSize-o.x<=R&&(this._edge|=4)}if(this._row>-1){var E=f[this._row];o.y-E.pos<=R&&(this._edge|=2),E.pos+E.renderSize-o.y<=R&&(this._edge|=8)}}if(!(8&this._edge)&&n instanceof MouseEvent){var S=wjcCore.closest(n.target,".wj-cell"),x=S?S[GridPanel._INDEX_KEY]:null;x&&!x.rng&&x.panel==this._p&&this._row!=x.row&&(this._row=x.row)}}}return Object.defineProperty(e.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellType",{get:function(){return this._p?this._p.cellType:CellType.None},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._rng||(this._rng=new CellRange(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),e._SZEDGE=[5,30],e}();exports.HitTestInfo=HitTestInfo;var AllowMerging;!function(e){e[e.None=0]="None",e[e.Cells=1]="Cells",e[e.ColumnHeaders=2]="ColumnHeaders",e[e.RowHeaders=4]="RowHeaders",e[e.AllHeaders=6]="AllHeaders",e[e.All=7]="All"}(AllowMerging=exports.AllowMerging||(exports.AllowMerging={}));var MergeManager=function(){function e(e){this._g=e}return e.prototype.getMergedRange=function(e,t,o,i){void 0===i&&(i=!0);var n,r,l=e.cellType,s=e.columns,a=e.rows,c=a[t],h=s[o];if(c instanceof _NewRowTemplate)return null;if(c instanceof GroupRow&&c.dataItem instanceof wjcCore.CollectionViewGroup){if(n=new CellRange(t,o),h.aggregate==wjcCore.Aggregate.None){for(;n.col>0&&s[n.col-1].aggregate==wjcCore.Aggregate.None&&n.col!=s.frozen;)n.col--;for(;n.col2<s.length-1&&s[n.col2+1].aggregate==wjcCore.Aggregate.None&&n.col2+1!=s.frozen;)n.col2++}for(;n.col<o&&!s[n.col].visible;)n.col++;return n.isSingleCell?null:n}var d=!1;switch(this._g.allowMerging){case AllowMerging.None:d=!0;break;case AllowMerging.Cells:d=l!=CellType.Cell;break;case AllowMerging.ColumnHeaders:d=l!=CellType.ColumnHeader&&l!=CellType.TopLeft;break;case AllowMerging.RowHeaders:d=l!=CellType.RowHeader&&l!=CellType.TopLeft;break;case AllowMerging.AllHeaders:d=l==CellType.Cell}if(d)return null;if(s[o].allowMerging){n=new CellRange(t,o);var u=0,g=a.length-1;t>=a.frozen?!i||l!=CellType.Cell&&l!=CellType.RowHeader||(u=(r=e._getViewRange()).topRow,g=r.bottomRow):g=a.frozen-1;for(var p=t-1;p>=u&&this._mergeCell(e,p,o,t,o);p--)n.row=p;for(var w=t+1;w<=g&&this._mergeCell(e,t,o,w,o);w++)n.row2=w;for(;n.row<t&&!a[n.row].visible;)n.row++;if(!n.isSingleCell)return n}if(a[t].allowMerging){n=new CellRange(t,o);var f=0,_=s.length-1;o>=s.frozen?!i||l!=CellType.Cell&&l!=CellType.ColumnHeader||(f=(r=e._getViewRange()).leftCol,_=r.rightCol):_=s.frozen-1;for(var C=o-1;C>=f&&this._mergeCell(e,t,C,t,o);C--)n.col=C;for(var m=o+1;m<=_&&this._mergeCell(e,t,o,t,m);m++)n.col2=m;for(;n.col<o&&!s[n.col].visible;)n.col++;if(!n.isSingleCell)return n}return null},e.prototype._mergeCell=function(e,t,o,i,n){var r=e.rows[t],l=e.rows[i];if(r instanceof GroupRow||r instanceof _NewRowTemplate||l instanceof GroupRow||l instanceof _NewRowTemplate)return!1;if(t!=i&&e.rows.isFrozen(t)!=e.rows.isFrozen(i))return!1;if(o!=n&&e.columns.isFrozen(o)!=e.columns.isFrozen(n))return!1;if(t!=i){if(o>0&&(r.allowMerging&&this._mergeCell(e,t,o-1,t,o)||l.allowMerging&&this._mergeCell(e,i,o-1,i,o)))return!1;if(n<e.columns.length-1&&(r.allowMerging&&this._mergeCell(e,t,n,t,n+1)||l.allowMerging&&this._mergeCell(e,i,n,i,n+1)))return!1}return e.getCellData(t,o,!0)==e.getCellData(i,n,!0)},e}();exports.MergeManager=MergeManager;var DataMap=function(){function e(e,t,o){if(this.mapChanged=new wjcCore.Event,wjcCore.isArray(e)&&!t&&!o){for(var i=[],n=0;n<e.length;n++)i.push({value:e[n]});e=i,t=o="value"}this._cv=wjcCore.asCollectionView(e),this._keyPath=wjcCore.asString(t,!1),this._displayPath=wjcCore.asString(o,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(e.prototype,"sortByDisplayValues",{get:function(){return 1!=this._sortByKey},set:function(e){this._sortByKey=!wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),e.prototype.getKeyValue=function(e){var t=this._indexOf(e,this._displayPath,!1);return t>-1?this._cv.sourceCollection[t][this._keyPath]:null},e.prototype.getDisplayValue=function(e){if(!this._hash){this._hash={};var t=this._cv.sourceCollection;if(t&&this._keyPath&&this._displayPath)for(var o=t.length-1;o>=0;o--){var i=t[o],n=i[this._keyPath],r=i[this._displayPath];this._hash[n]=r}}var l=this._hash[e];return null!=l?l:e},e.prototype.getDisplayValues=function(e){var t=[];if(this._cv&&this._displayPath)for(var o=this._cv.items,i=0;i<o.length;i++)t.push(o[i][this._displayPath]);return t},e.prototype.getKeyValues=function(){var e=[];if(this._cv&&this._keyPath)for(var t=this._cv.items,o=0;o<t.length;o++)e.push(t[o][this._keyPath]);return e},Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.onMapChanged=function(e){this._hash=null,this.mapChanged.raise(this,e)},e.prototype._indexOf=function(e,t,o){var i=-1,n=-1;if(this._cv&&t)for(var r=null!=e?e.toString():"",l=o?r:r.toLowerCase(),s=this._cv.sourceCollection,a=0;a<s.length;a++){var c=s[a],h=c[t];if(h==e?i=a:o||h.length!=l.length||h.toLowerCase()!=l?null!=h&&h.toString()==r&&(i=a):i=a,i==a){if(!this._cv.filter||this._cv.filter(c))return i;n<0&&(n=i)}}return n},e}();exports.DataMap=DataMap;var SelectionMode;!function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.CellRange=2]="CellRange",e[e.Row=3]="Row",e[e.RowRange=4]="RowRange",e[e.ListBox=5]="ListBox"}(SelectionMode=exports.SelectionMode||(exports.SelectionMode={}));var SelectedState;!function(e){e[e.None=0]="None",e[e.Selected=1]="Selected",e[e.Cursor=2]="Cursor"}(SelectedState=exports.SelectedState||(exports.SelectedState={}));var SelMove;!function(e){e[e.None=0]="None",e[e.Next=1]="Next",e[e.Prev=2]="Prev",e[e.NextPage=3]="NextPage",e[e.PrevPage=4]="PrevPage",e[e.Home=5]="Home",e[e.End=6]="End",e[e.NextCell=7]="NextCell",e[e.PrevCell=8]="PrevCell"}(SelMove=exports.SelMove||(exports.SelMove={}));var _SelectionHandler=function(){function e(e){this._sel=new CellRange(0,0),this._mode=SelectionMode.CellRange,this._g=e}return Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._mode},set:function(e){if(e!=this._mode){var t=SelectionMode;if(e==t.ListBox||this._mode==t.ListBox)for(var o=this._g.rows,i=0;i<o.length;i++){var n=o[i],r=e==SelectionMode.ListBox&&this._sel.containsRow(i);n._setFlag(RowColFlags.Selected,r,!0)}switch(e){case t.None:this._sel.setRange(-1,-1);break;case t.Cell:this._sel.row2=this._sel.row,this._sel.col2=this._sel.col;break;case t.Row:this._sel.row2=this._sel.row}this._mode=e,this._g.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._sel},set:function(e){this.select(e)},enumerable:!0,configurable:!0}),e.prototype.select=function(e,t){void 0===t&&(t=!0),wjcCore.isNumber(e)&&wjcCore.isNumber(t)&&(e=new CellRange(e,t),t=!0),e=wjcCore.asType(e,CellRange);var o=this._g,i=this._sel,n=e,r=!1,l=SelectionMode;switch(o.selectionMode){case l.Cell:e.row2=e.row,e.col2=e.col;break;case l.Row:e.row2=e.row;break;case l.ListBox:r=!0}var s=n.equals(i);if(r&&n.row>-1&&!o.rows[n.row].isSelected&&(s=!1),s)t&&o.scrollIntoView(n.row,n.col);else{var a=new CellRangeEventArgs(o.cells,n);if(o.onSelectionChanging(a)){if(r&&(n.row!=i.row||n.rowRange>1)){for(var c=0;c<o.rows.length;c++)o.rows[c]._setFlag(RowColFlags.Selected,n.containsRow(c),!0);o.refreshCells(!1,!0,!0)}if(n.row=Math.min(n.row,o.rows.length-1),n.row2=Math.min(n.row2,o.rows.length-1),this._sel=n,o.refreshCells(!1,!0,!0),t&&o.scrollIntoView(n.row,n.col),o.collectionView){var h=o._getCvIndex(n.row);o.collectionView.moveCurrentToPosition(h)}o.onSelectionChanged(a)}}},e.prototype.moveSelection=function(e,t,o){var i,n,r=this._g,l=r.rows,s=r.columns,a=this._getReferenceCell(e,t,o),c=Math.max(0,r._szClient.height-r.columnHeaders.height);if(t==SelMove.NextCell)n=s.getNextCell(a.col,SelMove.Next,c),i=a.row,n==a.col&&(i=l.getNextCell(i,SelMove.Next,c))>a.row&&(n=s.getNextCell(0,SelMove.Next,c),n=s.getNextCell(n,SelMove.Prev,c)),r.select(i,n);else if(t==SelMove.PrevCell)n=s.getNextCell(a.col,SelMove.Prev,c),i=a.row,n==a.col&&(i=l.getNextCell(i,SelMove.Prev,c))<a.row&&(n=s.getNextCell(s.length-1,SelMove.Prev,c),n=s.getNextCell(n,SelMove.Next,c)),r.select(i,n);else if(i=l.getNextCell(a.row,e,c),n=s.getNextCell(a.col,t,c),o){var h=r._selHdl._sel;r.select(new CellRange(i,n,h.row2,h.col2))}else r.select(i,n)},e.prototype._getReferenceCell=function(e,t,o){var i=this._g,n=i._selHdl._sel,r=i.getMergedRange(i.cells,n.row,n.col);if(!r||r.isSingleCell)return n;switch(r=r.clone(),e){case SelMove.Next:case SelMove.NextCell:r.row=r.bottomRow;break;case SelMove.None:r.row=n.row}switch(t){case SelMove.Next:case SelMove.NextCell:r.col=r.rightCol;break;case SelMove.None:r.col=n.col}return r},e.prototype._adjustSelection=function(e){switch(this._mode){case SelectionMode.Cell:return new CellRange(e.row,e.col,e.row,e.col);case SelectionMode.Row:return new CellRange(e.row,0,e.row,this._g.columns.length-1);case SelectionMode.RowRange:case SelectionMode.ListBox:return new CellRange(e.row,0,e.row2,this._g.columns.length-1)}return e},e}();exports._SelectionHandler=_SelectionHandler;var KeyAction;!function(e){e[e.None=0]="None",e[e.MoveDown=1]="MoveDown",e[e.MoveAcross=2]="MoveAcross",e[e.Cycle=3]="Cycle",e[e.CycleOut=4]="CycleOut"}(KeyAction=exports.KeyAction||(exports.KeyAction={}));var _KeyboardHandler=function(){function e(e){this._kaTab=KeyAction.None,this._kaEnter=KeyAction.MoveDown,this._g=e;var t=e.hostElement;e.addEventListener(t,"keypress",this._keypress.bind(this)),e.addEventListener(t,"keydown",this._keydown.bind(this))}return e.prototype._keydown=function(e){var t=this._g,o=t.selection,i=e.ctrlKey||e.metaKey,n=e.shiftKey,r=(e.target,!0);if(this._altDown=!1,!t._wantsInput(e.target)&&t.isRangeValid(o)&&!e.defaultPrevented&&(!t.activeEditor||!t._edtHdl._keydown(e))){var l=wjcCore.tryCast(t.rows[o.row],GroupRow),s=t.editableCollectionView,a=e.keyCode;if(t.autoClipboard){if(i&&(67==a||45==a)){var c=new CellRangeEventArgs(t.cells,o);if(t.onCopying(c)){var h=t.getClipString()+"\r\n";wjcCore.Clipboard.copy(h),t.onCopied(c)}else e.preventDefault();return void e.stopPropagation()}if(i&&86==a||n&&45==a){if(!t.isReadOnly){var d=new CellRangeEventArgs(t.cells,o);t.onPasting(d)?wjcCore.Clipboard.paste(function(e){t.setClipString(e),t.onPasted(d)}):e.preventDefault()}return void e.stopPropagation()}}if(t.rightToLeft)switch(a){case wjcCore.Key.Left:a=wjcCore.Key.Right;break;case wjcCore.Key.Right:a=wjcCore.Key.Left}var u=SelMove,g=SelectionMode;switch(a){case wjcCore.Key.Space:if(n&&o.isValid)switch(t.selectionMode){case g.CellRange:case g.Row:case g.RowRange:case g.ListBox:t.select(new CellRange(o.row,0,o.row,t.columns.length-1))}else if(i&&o.isValid)switch(t.selectionMode){case g.CellRange:t.select(new CellRange(0,o.col,t.rows.length-1,o.col))}else(r=this._startEditing(!0,e))&&setTimeout(function(){var e=t.activeEditor;e&&(e.disabled||e.readOnly?t.finishEditing():"checkbox"==e.type?(e.checked=!e.checked,t.finishEditing()):wjcCore.setSelectionRange(e,e.value.length))});break;case 65:if(i)switch(t.selectionMode){case g.CellRange:case g.Row:case g.RowRange:case g.ListBox:t.select(new CellRange(0,0,t.rows.length-1,t.columns.length-1))}else r=!1;break;case wjcCore.Key.Left:i||e.altKey?r=!1:o.isValid&&0==o.col&&null!=l&&!l.isCollapsed&&l.hasChildren?l.isCollapsed=!0:this._moveSel(u.None,i?u.Home:u.Prev,n);break;case wjcCore.Key.Right:i||e.altKey?r=!1:o.isValid&&0==o.col&&null!=l&&l.isCollapsed?l.isCollapsed=!1:this._moveSel(u.None,i?u.End:u.Next,n);break;case wjcCore.Key.Up:i?r=!1:(this._altDown=e.altKey,e.altKey?r=t._edtHdl._toggleListBox(e):this._moveSel(u.Prev,u.None,n));break;case wjcCore.Key.Down:i?r=!1:(this._altDown=e.altKey,e.altKey?r=t._edtHdl._toggleListBox(e):this._moveSel(u.Next,u.None,n));break;case wjcCore.Key.PageUp:this._altDown=e.altKey,this._moveSel(e.altKey?u.Home:u.PrevPage,u.None,n);break;case wjcCore.Key.PageDown:this._altDown=e.altKey,this._moveSel(e.altKey?u.End:u.NextPage,u.None,n);break;case wjcCore.Key.Home:this._moveSel(i?u.Home:u.None,u.Home,n);break;case wjcCore.Key.End:this._moveSel(i?u.End:u.None,u.End,n);break;case wjcCore.Key.Tab:r=this._performKeyAction(t.keyActionTab,n);break;case wjcCore.Key.Enter:r=this._performKeyAction(t.keyActionEnter,n),!n&&s&&null!=s.currentEditItem&&t._edtHdl._commitRowEdits();break;case wjcCore.Key.Escape:if(r=!1,s&&(s.currentAddItem||s.currentEditItem)){var p=new CellRangeEventArgs(t.cells,t.selection);p.cancel=!0,t.onRowEditEnding(p),s.currentAddItem&&s.cancelNew(),s.currentEditItem&&s.cancelEdit(),t.onRowEditEnded(p),r=!0}t._mouseHdl.resetMouseState();break;case wjcCore.Key.Delete:case wjcCore.Key.Back:r=this._deleteSel(e);break;case wjcCore.Key.F2:r=this._startEditing(!0,e);break;case wjcCore.Key.F4:r=t._edtHdl._toggleListBox(e);break;default:r=!1}r&&(t.containsFocus()||t.focus(),e.preventDefault(),e.stopPropagation())}},e.prototype._performKeyAction=function(e,t){var o=KeyAction,i=SelMove;switch(e){case o.MoveDown:return this._moveSel(t?i.Prev:i.Next,i.None,!1),!0;case o.MoveAcross:return this._moveSel(i.None,t?i.Prev:i.Next,!1),!0;case o.Cycle:return this._moveSel(i.None,t?i.PrevCell:i.NextCell,!1),!0;case o.CycleOut:var n=this._g.selection;return this._moveSel(i.None,t?i.PrevCell:i.NextCell,!1),!n.equals(this._g.selection)}return!1},e.prototype._keypress=function(e){var t=this._g;if(!t._wantsInput(e.target)&&!e.defaultPrevented)if(this._altDown)e.preventDefault();else{if(t.activeEditor)t._edtHdl._keypress(e);else if(e.charCode>wjcCore.Key.Space&&this._startEditing(!1,e)&&t.activeEditor){var o=t.activeEditor;if(o&&"checkbox"!=o.type){var i=t.selection,n=t.getCellData(i.row,i.col,!0),r=t.getCellData(i.row,i.col,!1);o.value=String.fromCharCode(e.charCode),wjcCore.isNumber(r)&&n.indexOf("%")>-1&&(o.value+="%"),wjcCore.setSelectionRange(o,1),o.dispatchEvent(t._edtHdl._evtInput),t._edtHdl._keypress(e),e.preventDefault()}}e.stopPropagation()}},e.prototype._moveSel=function(e,t,o){this._g.selectionMode!=SelectionMode.None&&this._g._selHdl.moveSelection(e,t,o)},e.prototype._deleteSel=function(e){var t=this._g,o=t.editableCollectionView,i=t.selection,n=t.rows,r=[],l=new CellRange,s=new CellEditEndingEventArgs(t.cells,l,e),a=SelectionMode;if(t.allowDelete&&!t.isReadOnly&&(null==o||o.canRemove&&!o.isAddingNew&&!o.isEditingItem))switch(t.selectionMode){case a.CellRange:if(0==i.leftCol&&i.rightCol==t.columns.length-1)for(c=i.topRow;c>-1&&c<=i.bottomRow;c++)r.push(n[c]);break;case a.ListBox:for(c=0;c<n.length;c++)n[c].isSelected&&r.push(n[c]);break;case a.Row:i.topRow>-1&&r.push(n[i.topRow]);break;case a.RowRange:for(var c=i.topRow;c>-1&&c<=i.bottomRow;c++)r.push(n[c])}if(r.length>0){if(t.deferUpdate(function(){o&&o.beginUpdate();for(var e=r.length-1;e>=0;e--){var i=r[e];l.setRange(i.index,-1),t.onDeletingRow(s)&&(o&&i.dataItem?o.remove(i.dataItem):t.rows.removeAt(i.index),t.onDeletedRow(s))}o&&o.endUpdate()}),t.selectionMode==a.ListBox){var h=t.selection.row;h>-1&&h<t.rows.length&&(t.rows[h].isSelected=!0)}return t.childItemsPath&&t.collectionView&&t.collectionView.refresh(),!0}if(!t.isReadOnly&&0==r.length){var d=!1,u=t.scrollPosition;return t.deferUpdate(function(){for(var e=i.topRow;e<=i.bottomRow;e++){var n=t.rows[e];if(!n.isReadOnly)for(var r=i.leftCol;r<=i.rightCol;r++){var a=t._getBindingColumn(t.cells,e,t.columns[r]);a.getIsRequired()||a.isReadOnly||t.getCellData(e,r,!0)&&(l.setRange(e,r),s.cancel=!1,t.onBeginningEdit(s)&&(o&&(d||(d=!0,o.beginUpdate()),o.editItem(n.dataItem),t._edtHdl._edItem=o.currentEditItem),t.setCellData(e,r,"",!0,!1),t.onCellEditEnding(s),t.onCellEditEnded(s)))}}t.selection=i,t.scrollPosition=u,d&&o.endUpdate()}),!0}return!1},e.prototype._startEditing=function(e,t,o,i){return this._g._edtHdl.startEditing(e,o,i,!0,t)},e}();exports._KeyboardHandler=_KeyboardHandler;var _AR_ALLCELLS=4,_WJC_DRAGSRC="wj-state-dragsrc",AllowResizing;!function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both",e[e.ColumnsAllCells=e.Columns|_AR_ALLCELLS]="ColumnsAllCells",e[e.RowsAllCells=e.Rows|_AR_ALLCELLS]="RowsAllCells",e[e.BothAllCells=e.Both|_AR_ALLCELLS]="BothAllCells"}(AllowResizing=exports.AllowResizing||(exports.AllowResizing={}));var AutoSizeMode;!function(e){e[e.None=0]="None",e[e.Headers=1]="Headers",e[e.Cells=2]="Cells",e[e.Both=3]="Both"}(AutoSizeMode=exports.AutoSizeMode||(exports.AutoSizeMode={}));var AllowDragging;!function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both"}(AllowDragging=exports.AllowDragging||(exports.AllowDragging={}));var _MouseHandler=function(){function e(e){var t=this;this._tsLast=0;var o=e.hostElement;this._g=e,this._dvMarker=wjcCore.createElement('<div class="wj-marker">&nbsp;</div>'),e.addEventListener(o,"mousedown",function(o){if(e._rcBounds=null,!o.defaultPrevented&&0==o.button){e.containsFocus()||e._setFocusNoScroll(e._eFocus),setTimeout(function(){o.defaultPrevented||e.focus()});var r=o.target;if(!e.activeEditor&&e._isInputElement(r)){if(wjcCore.getActiveElement()!=r&&"OPTION"!=r.tagName){var l=e.hitTest(o);switch(l.cellType){case CellType.Cell:e.select(l.range);break;case CellType.ColumnHeader:case CellType.ColumnFooter:e.scrollIntoView(-1,l.col);break;case CellType.RowHeader:e.scrollIntoView(l.row,-1)}r.focus()}return}var s=wjcCore.closest(o.target,".wj-flexgrid");s&&s!=e.hostElement||t._isDown||(t._isDown=!0,e.addEventListener(document,"mousemove",i),e.addEventListener(document,"mouseup",n),t._mousedown(o))}});var i=function(e){t._mousemove(e)},n=function(o){t._isDown=!1,e.removeEventListener(document,"mousemove"),e.removeEventListener(document,"mouseup"),t._mouseup(o)};e.addEventListener(o,"mouseup",function(e){t._tsLast=Date.now()}),e.addEventListener(o,"mouseenter",function(t){e._rcBounds=null}),e.addEventListener(o,"mousemove",this._hover.bind(this)),e.addEventListener(o,"dblclick",this._dblclick.bind(this)),e.addEventListener(o,"click",this._click.bind(this)),e.addEventListener(o,"selectstart",function(t){e._isInputElement(t.target)||t.preventDefault()}),e.addEventListener(o,"wheel",function(t){var o=e.cells.hostElement.parentElement,i=t.deltaY;if(i&&!t.ctrlKey&&!t.metaKey&&o.scrollHeight>o.offsetHeight&&wjcCore.closest(t.target,".wj-flexgrid")==e.hostElement){switch(t.deltaMode){case 1:o.scrollTop+=e.rows.defaultSize*(i<0?-1:1);break;case 2:o.scrollTop+=o.clientHeight*(i<0?-1:1);break;case 0:default:wjcCore.isSafari()&&(i=wjcCore.clamp(i,-150,150)),o.scrollTop+=i}t.preventDefault(),t.stopImmediatePropagation()}}),e.addEventListener(o,"dragstart",this._dragstart.bind(this)),e.addEventListener(o,"dragover",this._dragover.bind(this)),e.addEventListener(o,"dragleave",this._dragover.bind(this)),e.addEventListener(o,"drop",this._drop.bind(this)),e.addEventListener(o,"dragend",this._dragend.bind(this)),this._enableTouchResizing()}return e.prototype.resetMouseState=function(){this._dragSource&&wjcCore.removeClass(this._dragSource,_WJC_DRAGSRC),this._showDragMarker(null);var e=this._g.hostElement;e&&(e.style.cursor="");var t=this._g;t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),this._tsLast=Date.now(),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelRows=null,this._szRowCol=null,this._szArgs=null,this._dragSource=null},e.prototype._enableTouchResizing=function(){var e=this,t=this._g,o=t.hostElement,i="ontouchstart"in window?["touchstart","touchmove","touchend"]:"onpointerdown"in window?["pointerdown","pointermove","pointerup"]:null;i&&(t.addEventListener(o,i[0],function(i){if((null==i.pointerType||"touch"==i.pointerType)&&!wjcCore.closest(i.target,".wj-elem-filter")){var n=wjcCore.closest(i.target,".wj-cell");n instanceof HTMLElement&&(t._rcBounds=null,e._htDown=null,e._hover(i),e._szRowCol&&(n.removeAttribute("draggable"),o.style.touchAction="none",e._mousedown(i),i.preventDefault()))}}),t.addEventListener(o,i[1],function(t){null!=t.pointerType&&"touch"!=t.pointerType||e._szRowCol&&(e._mousemove(t),t.preventDefault())}),t.addEventListener(o,i[2],function(t){if(wjcCore.Control._touching=!1,(null==t.pointerType||"touch"==t.pointerType)&&e._szRowCol){if(e._szArgs)e._finishResizing(e._eMouse);else{var i=wjcCore.closest(t.target,".wj-cell");i instanceof HTMLElement&&i.click()}e.resetMouseState(),o.style.touchAction=""}}))},e.prototype._mousedown=function(e){var t=this._g,o=t.hitTest(e),i=o.cellType,n=e.ctrlKey||e.metaKey;if(this._selDown=t.selection,o.panel==t.cells){if(wjcCore.closestClass(e.target,CellFactory._WJC_DROPDOWN))return e.preventDefault(),void t._edtHdl._toggleListBox(e,o.range);if(t.editRange&&t.editRange.contains(o.range))return}var r=wjcCore.getActiveElement();if(e.target!=r||!t._isInputElement(e.target))if(i!=CellType.None){if(this._htDown=o,this._eMouse=e,null!=this._szRowCol)return t._eFocus.tabIndex=0,t._eFocus.focus(),void this._handleResizing(e);switch(i){case CellType.Cell:n&&t.selectionMode==SelectionMode.ListBox&&this._startListBoxSelection(o.row),this._mouseSelect(e,e.shiftKey);break;case CellType.RowHeader:0==(this._g.allowDragging&AllowDragging.Rows)&&(n&&t.selectionMode==SelectionMode.ListBox&&this._startListBoxSelection(o.row),this._mouseSelect(e,e.shiftKey))}if(i==CellType.Cell&&t.rows.maxGroupLevel>-1&&wjcCore.closestClass(e.target,CellFactory._WJC_COLLAPSE)){var l=wjcCore.tryCast(t.rows[o.row],GroupRow);if(l)return n?t.collapseGroupsToLevel(l.isCollapsed?l.level+1:l.level):l.isCollapsed=!l.isCollapsed,void this.resetMouseState()}}else t._edtHdl._commitRowEdits()},e.prototype._mousemove=function(e){if(null!=this._htDown){if(0==e.buttons&&this._eMouse&&e.timeStamp-this._eMouse.timeStamp>600)return void this.resetMouseState();if(this._eMouse=e,this._szRowCol)this._handleResizing(e);else switch(this._htDown.cellType){case CellType.Cell:this._mouseSelect(e,!0);break;case CellType.RowHeader:0==(this._g.allowDragging&AllowDragging.Rows)&&this._mouseSelect(e,!0)}}},e.prototype._mouseup=function(e){if(!this._g.isTouching||!(this._dragSource||e.target instanceof HTMLHtmlElement)){var t=this._g,o=t.hitTest(e),i=this._htDown,n=SelectionMode;if(i&&!e.defaultPrevented)if(this._szArgs)this._finishResizing(e);else if(i.panel!=t.topLeftCells||this._szArgs)i.panel!=t.columnHeaders||e.dataTransfer?i.panel==t.cells&&(e.ctrlKey||e.metaKey||e.shiftKey||o.panel==i.panel&&o.range.equals(i.range)&&t.selection.equals(this._selDown)&&t._edtHdl.startEditing(!0,o.row,o.col,!0,e)):o.panel==i.panel&&o.col==i.col&&!o.edgeRight&&o.col>-1&&this._clickSort(e,o);else if(o.panel==i.panel&&o.row==i.row&&o.col==i.col&&t.rows.length&&t.columns.length)switch(t.selectionMode){case n.CellRange:case n.RowRange:case n.ListBox:t.select(new CellRange(0,0,t.rows.length-1,t.columns.length-1))}this.resetMouseState()}},e.prototype._click=function(e){Date.now()-this._tsLast>50&&!e.pointerType&&this._handleClick(e)},e.prototype._handleClick=function(e){var t=this._g,o=e.target,i=new HitTestInfo(o,null);if(!e.defaultPrevented&&i.grid==t&&!t._isInputElement(o))if(i.panel==t.topLeftCells)t.select(new CellRange(0,0,t.rows.length-1,t.columns.length-1));else if(i.panel==t.columnHeaders)this._clickSort(e,i);else if(i.panel==t.rowHeaders)t.select(new CellRange(i.row,0,i.row,t.columns.length-1));else if(i.panel==t.cells)if(i.row<0)this._clickSort(e,i);else if(wjcCore.closestClass(o,CellFactory._WJC_COLLAPSE)){var n=t.rows[i.row];n instanceof GroupRow&&(e.ctrlKey?t.collapseGroupsToLevel(n.isCollapsed?n.level+1:n.level):n.isCollapsed=!n.isCollapsed)}else wjcCore.closestClass(o,CellFactory._WJC_DROPDOWN)?t._edtHdl._toggleListBox(e,i.range):t.select(i.range)},e.prototype._clickSort=function(e,t){var o=this._g,i=o.collectionView,n=e.ctrlKey||e.metaKey;if(i&&i.canSort&&o.allowSorting){var r=t.range.bottomRow,l=t.panel.columns[t.col],s=o._getBindingColumn(t.panel,t.row,l);if(!(r>-1&&r!=o._getSortRowIndex()&&l==s)&&s.allowSorting&&s.binding){for(var a=t.grid.collectionView.sortDescriptions,c=null,h=0;h<a.length;h++)if(a[h].property==s.binding){c=!a[h].ascending;break}if(null==c){if(n)return;c=!0}var d=new CellRangeEventArgs(t.panel,t.range);o.onSortingColumn(d)&&(o._edtHdl._commitRowEdits(),n?a.clear():a.splice(0,a.length,new wjcCore.SortDescription(s._getBindingSort(),c)),o.onSortedColumn(d))}}},e.prototype._dblclick=function(e){var t,o=this._g,i=o.hitTest(e),n=i.cellType,r=o.selection,l=i.range;if(!e.defaultPrevented)if(i.edgeRight&&o.allowResizing&AllowResizing.Columns){if(n==CellType.ColumnHeader||n==CellType.Cell&&o.allowResizing&_AR_ALLCELLS){e.preventDefault(),e.ctrlKey&&r.containsColumn(i.col)&&(l=r);for(var s=l.leftCol;s<=l.rightCol;s++)o.columns[s].allowResizing&&(t=new CellRangeEventArgs(o.cells,new CellRange(-1,s)),o.onAutoSizingColumn(t)&&o.onResizingColumn(t)&&(o.autoSizeColumn(s),o.onResizedColumn(t),o.onAutoSizedColumn(t)))}else n==CellType.TopLeft&&i.panel.columns[i.col].allowResizing&&(e.preventDefault(),t=new CellRangeEventArgs(i.panel,new CellRange(-1,i.col)),o.onAutoSizingColumn(t)&&o.onResizingColumn(t)&&(o.autoSizeColumn(i.col,!0),o.onAutoSizedColumn(t),o.onResizedColumn(t)));this.resetMouseState()}else if(i.edgeBottom&&o.allowResizing&AllowResizing.Rows){if(n==CellType.RowHeader||n==CellType.Cell&&o.allowResizing&_AR_ALLCELLS){e.ctrlKey&&r.containsRow(i.row)&&(l=r);for(var a=l.topRow;a<=l.bottomRow;a++)o.rows[a].allowResizing&&(t=new CellRangeEventArgs(o.cells,new CellRange(a,-1)),o.onAutoSizingRow(t)&&o.onResizingRow(t)&&(o.autoSizeRow(a),o.onResizedRow(t),o.onAutoSizedRow(t)))}else n==CellType.TopLeft&&i.panel.rows[i.row].allowResizing&&(t=new CellRangeEventArgs(i.panel,new CellRange(i.row,-1)),o.onAutoSizingRow(t)&&o.onResizingRow(t)&&(o.autoSizeRow(i.row,!0),o.onResizedRow(t),o.onAutoSizedRow(t)));this.resetMouseState()}else;},e.prototype._hover=function(e){if(null==this._htDown){var t=this._g,o=t.hitTest(e),i=(o.panel,o.cellType),n="";return this._szRowCol=null,(i==CellType.ColumnHeader||i==CellType.TopLeft||i==CellType.Cell&&t.allowResizing&_AR_ALLCELLS)&&o.edgeRight&&0!=(t.allowResizing&AllowResizing.Columns)&&(this._szRowCol=this._getResizeCol(o)),(i==CellType.RowHeader||i==CellType.TopLeft||i==CellType.Cell&&t.allowResizing&_AR_ALLCELLS)&&o.edgeBottom&&0!=(t.allowResizing&AllowResizing.Rows)&&(this._szRowCol=this._getResizeRow(o)),this._szRowCol instanceof Column?n="col-resize":this._szRowCol instanceof Row&&(n="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,t.hostElement.style.cursor=n,o}return null},e.prototype._getResizeCol=function(e){for(var t=e.panel.columns,o=t[e.col],i=e.col+1;i<t.length;i++)if((n=t[i]).visible){n.size<1&&(o=n);break}if(e.col==t.length-1&&(e.cellType==CellType.TopLeft||e.cellType==CellType.RowHeader)){t=this._g.columns;for(i=0;i<t.length;i++){var n=t[i];if(n.visible){n.size<1&&(o=n);break}}}return o.allowResizing?o:null},e.prototype._getResizeRow=function(e){for(var t=e.panel.rows,o=t[e.row],i=e.row+1;i<t.length;i++)if((n=t[i]).visible){n.size<1&&(o=n);break}if(e.row==t.length-1&&(e.cellType==CellType.TopLeft||e.cellType==CellType.ColumnHeader)){t=this._g.rows;for(i=0;i<t.length;i++){var n=t[i];if(n.visible){n.size<1&&(o=n);break}}}return o.allowResizing?o:null},e.prototype._mouseSelect=function(e,t){var o=this,i=this._g;if(this._htDown&&this._htDown.panel&&i.selectionMode!=SelectionMode.None){var n=new HitTestInfo(this._htDown.panel,e);this._handleSelection(n,t),!wjcCore.isIE9()&&e.button>=0&&e.target!=i._root&&(n=new HitTestInfo(i,e)).cellType!=CellType.Cell&&n.cellType!=CellType.RowHeader&&setTimeout(function(){o._mouseSelect(o._eMouse,t)},100)}},e.prototype._handleResizing=function(t){if(t.preventDefault(),this._szRowCol instanceof Column){var o=this._g,i=wjcCore.mouseToPage(t).x,n=Math.round(Math.max(e._SZ_MIN,this._szStart+(i-this._htDown.point.x)*(o.rightToLeft?-1:1)));if(this._szRowCol.renderSize!=n){if(null==this._szArgs){l=o.rowHeaders.columns.indexOf(this._szRowCol)>-1?o.rowHeaders:o.cells;this._szArgs=new CellRangeEventArgs(l,new CellRange(-1,this._szRowCol.index))}this._szArgs.cancel=!1,o.onResizingColumn(this._szArgs)&&(o.deferResizing?this._showResizeMarker(n):this._szRowCol.width=n)}}if(this._szRowCol instanceof Row){var o=this._g,r=wjcCore.mouseToPage(t).y,n=Math.round(Math.max(e._SZ_MIN,this._szStart+(r-this._htDown.point.y)));if(this._szRowCol.renderSize!=n){if(null==this._szArgs){var l=o.columnHeaders.rows.indexOf(this._szRowCol)>-1?o.columnHeaders:o.cells;this._szArgs=new CellRangeEventArgs(l,new CellRange(this._szRowCol.index,-1))}this._szArgs.cancel=!1,o.onResizingRow(this._szArgs)&&(o.deferResizing?this._showResizeMarker(n):this._szRowCol.height=n)}}},e.prototype._dragstart=function(e){var t=this._g,o=this._htDown;if(o){if(this._dragSource=null,!this._szRowCol){var i=new CellRangeEventArgs(o.panel,o.range);if(o.cellType==CellType.ColumnHeader&&t.allowDragging&AllowDragging.Columns&&o.col>-1&&t.columns[o.col].allowDragging)t.onDraggingColumn(i)?this._dragSource=e.target:e.preventDefault();else if(o.cellType==CellType.RowHeader&&t.allowDragging&AllowDragging.Rows&&o.row>-1&&t.rows[o.row].allowDragging){var n=t.rows[o.row];n instanceof GroupRow||n instanceof _NewRowTemplate||(t.onDraggingRow(i)?this._dragSource=e.target:e.preventDefault())}}this._dragSource&&e.dataTransfer&&!e.defaultPrevented&&(wjcCore._startDrag(e.dataTransfer,"move"),e.stopPropagation(),wjcCore.addClass(this._dragSource,_WJC_DRAGSRC),t.beginUpdate(),this._updating=!0)}},e.prototype._dragend=function(e){this._updating&&(this._g.endUpdate(),this._updating=!1),this.resetMouseState()},e.prototype._dragover=function(e){var t=this._g,o=t.hitTest(e),i=!1,n=new CellRangeEventArgs(t.cells,o.range);this._htDown&&o.cellType==this._htDown.cellType&&(o.cellType==CellType.ColumnHeader?(n.cancel=!t.columns.canMoveElement(this._htDown.col,o.col),i=t.onDraggingColumnOver(n)):o.cellType==CellType.RowHeader&&(n.cancel=!t.rows.canMoveElement(this._htDown.row,o.row),i=t.onDraggingRowOver(n))),i?(e.dataTransfer.dropEffect="move",this._showDragMarker(o),e.preventDefault(),e.stopPropagation()):this._showDragMarker(null)},e.prototype._drop=function(e){var t=this._g,o=t.hitTest(e),i=new CellRangeEventArgs(t.cells,o.range);if(this._htDown&&o.cellType==this._htDown.cellType){var n=t.selection;o.cellType==CellType.ColumnHeader?(t.columns.moveElement(this._htDown.col,o.col),t.select(n.row,o.col),t.onDraggedColumn(i)):o.cellType==CellType.RowHeader&&(t.rows.moveElement(this._htDown.row,o.row),t.select(o.row,n.col),t.onDraggedRow(i))}this.resetMouseState()},e.prototype._showResizeMarker=function(e){var t=this._g,o=this._dvMarker;o.parentElement||t.cells.hostElement.appendChild(o);var i,n=this._szArgs.panel.cellType;this._szRowCol instanceof Column?(i={display:"",left:this._szRowCol.pos+e-1,top:-1e3,right:"",bottom:0,width:3,height:""},t.rightToLeft&&(i.left=t.cells.hostElement.clientWidth-i.left-i.width),n!=CellType.TopLeft&&n!=CellType.RowHeader||(i.left-=t.topLeftCells.hostElement.offsetWidth)):(i={left:-1e3,top:this._szRowCol.pos+e-1,right:0,bottom:"",width:"",height:3},n!=CellType.TopLeft&&n!=CellType.ColumnHeader||(i.top-=t.topLeftCells.hostElement.offsetHeight)),wjcCore.setCss(o,i)},e.prototype._showDragMarker=function(e){var t=this._g,o=this._dvMarker;if(!e)return o.parentElement&&o.parentElement.removeChild(o),void(this._rngTarget=null);if(!e.range.equals(this._rngTarget)){this._rngTarget=e.range,o.parentElement||e.panel.hostElement.appendChild(o);var i={display:"",left:0,top:0,width:6,height:6};switch(e.cellType){case CellType.ColumnHeader:i.height=e.panel.height;var n=t.columns[e.col];i.left=n.pos-i.width/2,e.col>this._htDown.col&&(i.left+=n.renderWidth),t.rightToLeft&&(i.left=o.parentElement.clientWidth-i.left-i.width);break;case CellType.RowHeader:i.width=e.panel.width;var r=t.rows[e.row];i.top=r.pos-i.height/2,e.row>this._htDown.row&&(i.top+=r.renderHeight)}wjcCore.setCss(o,i)}},e.prototype._finishResizing=function(t){var o=this._g,i=o.selection,n=this._szArgs,r=this._eMouse&&this._eMouse.ctrlKey;if(n&&!n.cancel){if(n.col>-1){var l=n.col,s=wjcCore.mouseToPage(t).x,a=Math.round(Math.max(e._SZ_MIN,this._szStart+(s-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(n.panel.columns[l].width=Math.round(a),o.onResizedColumn(n),r&&this._htDown.cellType==CellType.ColumnHeader&&i.containsColumn(l))for(var c=i.leftCol;c<=i.rightCol;c++)o.columns[c].allowResizing&&c!=l&&(n=new CellRangeEventArgs(o.cells,new CellRange(-1,c)),o.onResizingColumn(n)&&(o.columns[c].size=o.columns[l].size,o.onResizedColumn(n)))}if(n.row>-1){var l=n.row,h=wjcCore.mouseToPage(t).y,a=Math.round(Math.max(e._SZ_MIN,this._szStart+(h-this._htDown.point.y)));if(n.panel.rows[l].height=Math.round(a),o.onResizedRow(n),r&&this._htDown.cellType==CellType.RowHeader&&i.containsRow(l))for(var d=i.topRow;d<=i.bottomRow;d++)o.rows[d].allowResizing&&d!=l&&(n=new CellRangeEventArgs(o.cells,new CellRange(d,-1)),o.onResizingRow(n)&&(o.rows[d].size=o.rows[l].size,o.onResizedRow(n)))}}},e.prototype._startListBoxSelection=function(e){var t=this._g.rows;this._lbSelState=!t[e].isSelected,this._lbSelRows={};for(var o=0;o<t.length;o++)t[o].isSelected&&(this._lbSelRows[o]=!0)},e.prototype._handleSelection=function(e,t){var o=this._g,i=o.rows,n=o._selHdl.selection,r=new CellRange(e.row,e.col);if(e.row>-1&&e.col>-1)if(null!=this._lbSelRows){var l=!1;r=new CellRange(e.row,e.col,this._htDown.row,this._htDown.col);for(var s=0;s<i.length;s++){var a=r.containsRow(s)?this._lbSelState:null!=this._lbSelRows[s];if(a!=i[s].isSelected){var c=new CellRangeEventArgs(o.cells,new CellRange(s,n.col,s,n.col2));o.onSelectionChanging(c)&&(i[s]._setFlag(RowColFlags.Selected,a,!0),l=!0,o.onSelectionChanged(c))}}l&&o.refreshCells(!1,!0,!0),o.scrollIntoView(e.row,e.col)}else e.cellType==CellType.RowHeader&&(r.col=0,r.col2=o.columns.length-1),t&&(r.row2=n.row2,r.col2=n.col2),o.select(r)},e._SZ_MIN=0,e}();exports._MouseHandler=_MouseHandler;var _WJC_CHECKBOX="wj-cell-check",_EditHandler=function(){function e(e){var t=this;this._fullEdit=!1,this._list=null,this._g=e,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),e.selectionChanging.addHandler(function(o,i){if(t.finishEditing()){var n=e._selHdl.selection.row;if(n!=i.row){var r=e.rows.length;(n>-1&&n<r?e.rows[n].dataItem:null)!=(i.row>-1&&i.row<r?e.rows[i.row].dataItem:null)&&t._commitRowEdits()}}else i.cancel=!0}),e.lostFocus.addHandler(function(){if(!e.containsFocus()){var o=wjcCore.getActiveElement();o&&"fixed"==getComputedStyle(o).position||t._commitRowEdits()}}),e.addEventListener(e.hostElement,"mousedown",function(o){if(!o.defaultPrevented&&0==o.button&&!e._mouseHdl._szRowCol){e.selection;var i=e.hitTest(o);if(i.cellType!=CellType.Cell&&i.cellType!=CellType.None)t.finishEditing();else if(i.cellType!=CellType.None){var n=wjcCore.tryCast(o.target,HTMLInputElement);t._isNativeCheckbox(n)&&(n!=t.activeEditor&&(o.preventDefault(),t.startEditing(!1,i.row,i.col,!0,o)&&(n=t.activeEditor)),!n||"checkbox"!=n.type||n.disabled||n.readOnly||(n.checked=!n.checked,n.focus(),t.finishEditing()))}}},!0),e.addEventListener(e.hostElement,"click",function(e){t._isNativeCheckbox(e.target)&&e.preventDefault()})}return e.prototype.startEditing=function(e,t,o,i,n){void 0===e&&(e=!0);var r=this._g;if(t=wjcCore.asNumber(t,!0,!0),o=wjcCore.asNumber(o,!0,!0),null==t&&(t=r.selection.row),null==o&&(o=r.selection.col),null==i&&(i=!0),!this._allowEditing(t,o))return!1;var l=r.getMergedRange(r.cells,t,o,!1);l||(l=new CellRange(t,o));var s=r.rows[t].dataItem;if(r.select(l,!0),!r.rows[t]||s!=r.rows[t].dataItem)return!1;if(l.equals(this._rng))return!0;if(this.activeEditor&&!this.finishEditing())return!1;var a=new CellRangeEventArgs(r.cells,l,n);if(!r.onBeginningEdit(a))return!1;var c=r.editableCollectionView,h=!1;c&&((h=(s=r.rows[t].dataItem)!=c.currentEditItem)&&r.onRowEditStarting(a),c.editItem(s),h&&(r.onRowEditStarted(a),this._edItem=s)),this._fullEdit=wjcCore.asBoolean(e),this._rng=l,this._list=null;var d=r.columns[o].dataMap;d&&(this._list=d.getDisplayValues(s)),l.isSingleCell?this._updateEditorCell(t,o,h):r.refresh(!1);var u=this._edt;if(u){if("checkbox"==u.type)this._fullEdit=!1;else if(i){if(wjcCore.isNumber(r.getCellData(t,o,!1))&&u.value.indexOf("%")>-1){for(var g=u.value,p=0,w=g.length;w>0&&"%"==g[w-1];)w--;for(;p<w&&"%"==g[p];)p++;wjcCore.setSelectionRange(u,p,w)}else wjcCore.setSelectionRange(u,0,u.value.length);u.focus()}if(r.onPrepareCellForEdit(a),u.disabled||u.readOnly)return!1}return null!=u&&!u.disabled&&!u.readOnly},e.prototype.finishEditing=function(e){void 0===e&&(e=!1);var t=this._edt;if(!t)return this._removeListBox(),!0;var o=this._g,i=this._rng,n=new CellEditEndingEventArgs(o.cells,i),r=o.containsFocus(),l=o.hostElement.querySelector(".wj-control.wj-state-focused");if(l){var s=wjcCore.Control.getControl(l);s&&s.onLostFocus(n)}if(n.cancel=e,!e&&o.validateEdits){var a=this._getValidationError();if(a){n.cancel=!0;var c=t.parentElement;c&&(wjcCore.toggleClass(c,"wj-state-invalid",!0),c.title=a,n.stayInEditMode=!0)}}if(!o.onCellEditEnding(n)&&n.stayInEditMode)return r?setTimeout(function(){t.select()}):t.select(),!1;if(!n.cancel){n.data=o.cells.getCellData(i.topRow,i.leftCol,!1);for(var h=o.cellFactory.getEditorValue(o),d=i.topRow;d<=i.bottomRow&&d<o.rows.length;d++)for(var u=i.leftCol;u<=i.rightCol&&u<o.columns.length;u++)o.cells.setCellData(d,u,h,!0,!1)}this._edt=null,this._rng=null,this._list=null,this._removeListBox();var g=wjcCore.closest(t,".wj-cell");return wjcCore.contains(g,wjcCore.getActiveElement())&&g.focus(),n.cancel?this._updateEditorCell(i.row,i.col,!1):o.refresh(!1),r&&o.focus(),o.onCellEditEnded(n),!0},Object.defineProperty(e.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),e.prototype.getClipString=function(e){var t=this._g,o="",i=!0,n=SelectionMode;if(!e)switch(e=t.selection,t.selectionMode){case n.Row:case n.RowRange:e.col=0,e.col2=t.columns.length-1;break;case n.ListBox:e.col=0,e.col2=t.columns.length-1;for(var r=0;r<t.rows.length;r++)t.rows[r].isSelected&&t.rows[r].isVisible&&(e.row=e.row2=r,o&&(o+="\n"),o+=this.getClipString(e));return o}for(var l=(e=wjcCore.asType(e,CellRange)).topRow;l<=e.bottomRow;l++)if(t.rows[l].isVisible){i||(o+="\n"),i=!1;for(var s=e.leftCol,a=!0;s<=e.rightCol;s++)if(t.columns[s].isVisible){a||(o+="\t"),a=!1;var c=t.cells.getCellData(l,s,!0).toString();(c=c.replace(/\t/g," ")).indexOf("\n")>-1&&(c='"'+c.replace(/"/g,'""')+'"'),o+=c}}return o},e.prototype.setClipString=function(e,t){var o=this,i=this._g,n=null==t,r=SelectionMode;if(!t)switch(t=i.selection,i.selectionMode){case r.Row:case r.RowRange:case r.ListBox:t.col=0,t.col2=i.columns.length-1}t=wjcCore.asType(t,CellRange);var l=this._parseClipString(wjcCore.asString(e));n&&!t.isSingleCell&&l.length&&this._expandClipRows(l,t);var s,a=new CellRange(t.topRow,t.leftCol),c=i.editableCollectionView,h=t.topRow,d=!1;i.deferUpdate(function(){c&&c.beginUpdate();for(var e=0;e<l.length&&h<i.rows.length;e++,h++)if(i.rows[h].isVisible)for(var n=l[e],r=t.leftCol,u=0;u<n.length&&r<i.columns.length;u++,r++)i.columns[r].isVisible?o._allowEditing(h,r)&&(s=new CellRangeEventArgs(i.cells,new CellRange(h,r),n[u]),i.onPastingCell(s)&&(c&&(c.editItem(i.rows[h].dataItem),o._edItem=c.currentEditItem),i.cells.setCellData(h,r,s.data)&&(i.onPastedCell(s),d=!0)),a.row2=Math.max(a.row2,h),a.col2=Math.max(a.col2,r)):u--;else e--;c&&c.endUpdate(),i.select(a)})},e.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&wjcCore.hasClass(e,_WJC_CHECKBOX)&&wjcCore.closest(e,".wj-flexgrid")==this._g.hostElement},e.prototype._parseClipString=function(e){var t=[];e=(e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n+$/g,"");var o=0,i=0;for(o=0;o<e.length;o++){var n='"'==e[o]&&e[o+1]>=" ",r=!1,l=!1;for(i=o;i<e.length&&!l;i++){var s=e[i];switch(s){case'"':n&&(r=!r);break;case"\t":case"\n":r||(this._parseClipCell(t,e,o,i,"\n"==s),o=i,l=!0)}}if(i==e.length){this._parseClipCell(t,e,o,e.length,!1);break}}return 0==t.length&&t.push([""]),t},e.prototype._parseClipCell=function(e,t,o,i,n){e.length||e.push([]);var r=t.substr(o,i-o),l=r.length;l>1&&'"'==r[0]&&'"'==r[l-1]&&(r=(r=r.substr(1,l-2)).replace(/""/g,'"')),e[e.length-1].push(r),n&&e.push([])},e.prototype._expandClipRows=function(e,t){for(var o=e.length,i=0,n=0;n<o;n++)i=Math.max(i,e[n].length);for(var r=this._g,l=0,s=0,a=t.topRow;a<=t.bottomRow;a++)r.rows[a].isVisible&&l++;for(c=t.leftCol;c<=t.rightCol;c++)r.columns[c].isVisible&&s++;if((l>1||s>1)&&(1==l&&(l=o),1==s&&(s=i),s%i==0&&l%o==0)){for(var c=i;c<s;c++)for(a=0;a<o;a++)e[a].push(e[a%o][c%i]);for(a=o;a<l;a++)e.push(e[a%o])}},e.prototype._updateEditorCell=function(e,t,o){var i=this._g,n=i.cells.getCellElement(e,t),r=i._useFrozenDiv()&&(e<i.frozenRows||t<i.frozenColumns);if(!n||r||i._hasPendingUpdates())i.refresh(!1);else if(this._updateCell(n),(o=o||i._getHasValidation())&&i.headersVisibility&HeadersVisibility.Row){var l=i.rowHeaders,s=l.columns.length-1,a=l.getCellElement(e,s);a&&this._updateCell(a)}},e.prototype._updateCell=function(e){var t=new HitTestInfo(e,null);t.panel&&(e.classList.add(FlexGrid._WJS_UPDATING),t.grid.cellFactory.updateCell(t.panel,t.row,t.col,e,t.range),e.classList.remove(FlexGrid._WJS_UPDATING))},e.prototype._getValidationError=function(){var e=this._g;if(e._getHasValidation()){var t=this._rng.row,o=this._rng.col,i=e.cellFactory.getEditorValue(e),n=e.getCellData(t,o,!1);if(e.setCellData(t,o,i,!0,!1)){var r=e._getError(e.cells,t,o);return e.setCellData(t,o,n,!0,!1),r}}return null},e.prototype._allowEditing=function(e,t){var o=this._g;if(o.isReadOnly||o.selectionMode==SelectionMode.None)return!1;if(e<0||e>=o.rows.length||o.rows[e].isReadOnly||!o.rows[e].isVisible)return!1;if(t<0||t>=o.columns.length)return!1;var i=o._getBindingColumn(o.cells,e,o.columns[t]);return!(!i||i.isReadOnly||!i.isVisible)},e.prototype._commitRowEdits=function(){var e=this._g;if(this.finishEditing()&&this._edItem){var t=e.editableCollectionView;if(t&&t.currentEditItem){var o=new CellRangeEventArgs(e.cells,e.selection);e.onRowEditEnding(o),t.commitEdit(),e.onRowEditEnded(o)}this._edItem=null}},e.prototype._keydown=function(e){switch(e.keyCode){case wjcCore.Key.F2:return this._fullEdit=!this._fullEdit,e.preventDefault(),!0;case wjcCore.Key.F4:return this._toggleListBox(e),e.preventDefault(),!0;case wjcCore.Key.Space:var t=this._edt;return!t||"checkbox"!=t.type||t.disabled||t.readOnly||(t.checked=!t.checked,this.finishEditing(),e.preventDefault()),!0;case wjcCore.Key.Enter:case wjcCore.Key.Tab:return e.preventDefault(),!this.finishEditing();case wjcCore.Key.Escape:return e.preventDefault(),this.finishEditing(!0),!0;case wjcCore.Key.Up:case wjcCore.Key.Down:case wjcCore.Key.Left:case wjcCore.Key.Right:case wjcCore.Key.PageUp:case wjcCore.Key.PageDown:case wjcCore.Key.Home:case wjcCore.Key.End:if(this._lbx)return this._keydownListBox(e);if(e.altKey)switch(e.keyCode){case wjcCore.Key.Up:case wjcCore.Key.Down:return this._toggleListBox(e),e.preventDefault(),!0}if(!this._fullEdit&&this.finishEditing())return!1}return!0},e.prototype._keydownListBox=function(e){var t=!0;if(this._lbx)switch(e.keyCode){case wjcCore.Key.Up:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case wjcCore.Key.Down:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex++;break;case wjcCore.Key.Home:case wjcCore.Key.PageUp:this._lbx.selectedIndex=0;break;case wjcCore.Key.End:case wjcCore.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:t=!1}return!!t&&(e.preventDefault(),!0)},e.prototype._keypress=function(e){var t=this._edt;if(t&&"checkbox"!=t.type&&this._list&&this._list.length>0&&e.charCode>=32){var o=t.selectionStart,i=t.value.substr(0,o);e.target==t&&(o++,i+=String.fromCharCode(e.charCode)),i=i.toLowerCase();for(var n=0;n<this._list.length;n++)if(0==this._list[n].toLowerCase().indexOf(i)){t.value=this._list[n],wjcCore.setSelectionRange(t,o,this._list[n].length),t.dispatchEvent(this._evtInput),e.preventDefault();break}}},e.prototype._toggleListBox=function(e,t){var o=this._g,i=o._selHdl.selection;if(t||(t=i),this._lbx&&(this._removeListBox(),i.contains(t)))return o.activeEditor?o.activeEditor.focus():o.containsFocus()||o.focus(),!0;var n=o.isTouching,r=o._getBindingColumn(o.cells,t.row,o.columns[t.col]);return!(!tryGetModuleWijmoInput()||!r.dataMap||!1===r.showDropDown)&&(!(!tryGetModuleWijmoInput()||!this.startEditing(!0,t.row,t.col,!n,e))&&(this._lbx=this._createListBox(),this._lbx.showSelection(),n&&this._lbx.focus(),!0))},e.prototype._createListBox=function(){var e=this,t=this._g,o=this._rng,i=t.rows[o.row],n=t._getBindingColumn(t.cells,o.row,t.columns[o.col]),r=document.createElement("div"),l=new(tryGetModuleWijmoInput().ListBox)(r);this._removeListBox(),r.classList.add("wj-dropdown-panel","wj-grid-listbox"),l.maxHeight=4*i.renderHeight,l.isContentHtml=n.isContentHtml,l.itemsSource=n.dataMap.getDisplayValues(i.dataItem),l.selectedValue=t.activeEditor?t.activeEditor.value:t.getCellData(o.row,o.col,!0),wjcCore.addClass(r,n.dropDownCssClass),l.addEventListener(l.hostElement,"click",function(){e._removeListBox(),t.focus(),e.finishEditing()}),l.lostFocus.addHandler(function(){e._removeListBox()}),l.selectedIndexChanged.addHandler(function(){var o=t.activeEditor;o&&(o.value=e._lbx.selectedValue,o.dispatchEvent(e._evtInput),wjcCore.setSelectionRange(o,0,o.value.length))});var s=t.cells.getCellElement(o.row,o.col);return s?wjcCore.showPopup(r,s,!1,!1,!1):(wjcCore.showPopup(r,t.getCellBoundingRect(o.row,o.col)),r[wjcCore.Control._OWNR_KEY]=t.hostElement),l},e.prototype._removeListBox=function(){this._lbx&&(wjcCore.hidePopup(this._lbx.hostElement,!0),this._lbx.dispose(),this._lbx=null)},e}();exports._EditHandler=_EditHandler;var _AddNewHandler=function(){function e(e){this._nrt=new _NewRowTemplate,this._g=e,this._keydownBnd=this._keydown.bind(this),this._attach()}return Object.defineProperty(e.prototype,"newRowAtTop",{get:function(){return this._top},set:function(e){e!=this.newRowAtTop&&(this._top=wjcCore.asBoolean(e),this.updateNewRowTemplate())},enumerable:!0,configurable:!0}),e.prototype.updateNewRowTemplate=function(){var e=this._g,t=e.editableCollectionView,o=e.rows,i=t&&t.canAddNew&&e.allowAddNew&&!e.isReadOnly,n=o.indexOf(this._nrt),r=this._top?0:o.length-1,l=!1;if(!i&&n>-1){var s=e.selection;s.row==n&&e.select(s.row-1,s.col),o.removeAt(n)}else i&&(n<0?l=!0:n!=r&&(o.removeAt(n),l=!0),l&&(this._top?o.insert(0,this._nrt):o.push(this._nrt)),this._nrt&&this._nrt._setFlag(RowColFlags.ParentCollapsed,!1))},e.prototype._attach=function(){var e=this._g;e&&(e.beginningEdit.addHandler(this._beginningEdit,this),e.pastingCell.addHandler(this._beginningEdit,this),e.rowEditEnded.addHandler(this._rowEditEnded,this),e.loadedRows.addHandler(this.updateNewRowTemplate,this),e.hostElement.addEventListener("keydown",this._keydownBnd,!0))},e.prototype._detach=function(){var e=this._g;e&&(e.beginningEdit.removeHandler(this._beginningEdit),e.pastingCell.removeHandler(this._beginningEdit),e.rowEditEnded.removeHandler(this._rowEditEnded),e.loadedRows.removeHandler(this.updateNewRowTemplate),e.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},e.prototype._keydown=function(e){e.defaultPrevented||e.keyCode!=wjcCore.Key.Escape||null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},e.prototype._beginningEdit=function(e,t){if(!t.cancel){var o=this._g.rows[t.row];if(wjcCore.tryCast(o,_NewRowTemplate)){var i=this._g.editableCollectionView;if(i&&i.canAddNew)if(this._top){if(null==this._nrt.dataItem){var n=null,r=i.sourceCollection,l=i.newItemCreator;n=wjcCore.isFunction(l)?l():r&&r.length?new r[0].constructor:{},this._nrt.dataItem=n}}else{n=i.currentAddItem&&i.currentAddItem==o.dataItem?i.currentAddItem:i.addNew();i.moveCurrentTo(n),this.updateNewRowTemplate(),this._g.refresh(!0),this._g.onRowAdded(t),t.cancel&&i.cancelNew()}}}},e.prototype._rowEditEnded=function(e,t){var o=this,i=this._g.editableCollectionView,n=this._nrt.dataItem;if(i)if(i.isAddingNew)i.commitNew();else if(n&&!t.cancel){this._nrt.dataItem=null;var r=i.addNew();for(var l in n)r[l]=n[l];this._g.onRowAdded(t),t.cancel?i.cancelNew():i.commitNew(),setTimeout(function(){o._g.select(0,o._g.columns.firstVisibleIndex),o.updateNewRowTemplate()},20)}},e}();exports._AddNewHandler=_AddNewHandler;var _NewRowTemplate=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(Row);exports._NewRowTemplate=_NewRowTemplate;var _ImeHandler=function(){function e(t){this._g=t,this._tbx=wjcCore.createElement('<input class="wj-grid-editor wj-form-control wj-grid-ime"/>'),wjcCore.setCss(this._tbx,e._cssHidden),t.cells.hostElement.parentElement.appendChild(this._tbx),this._updateImeFocus();var o=t.hostElement;t.addEventListener(this._tbx,"compositionstart",this._compositionstart.bind(this)),t.addEventListener(o,"blur",this._updateImeFocus.bind(this),!0),t.addEventListener(o,"focus",this._updateImeFocus.bind(this),!0),t.addEventListener(o,"mousedown",this._mousedown.bind(this),!0),t.addEventListener(o,"mouseup",this._mouseup.bind(this),!0),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.selectionChanged.addHandler(this._updateImeFocus,this)}return e.prototype.dispose=function(){var e=this._g,t=e.hostElement;e.removeEventListener(this._tbx,"compositionstart"),e.removeEventListener(t,"blur"),e.removeEventListener(t,"focus"),e.removeEventListener(t,"mousedown"),e.removeEventListener(t,"mouseup"),e.cellEditEnded.removeHandler(this._cellEditEnded),e.selectionChanged.removeHandler(this._updateImeFocus),this._tbx.parentElement&&this._tbx.parentElement.removeChild(this._tbx)},e.prototype._cellEditEnded=function(){wjcCore.setCss(this._tbx,e._cssHidden),this._tbx.value=""},e.prototype._compositionstart=function(){var e=this,t=this._g;if(null==t.activeEditor){var o=t._selHdl.selection;if(t.startEditing(!1,o.row,o.col,!1)){o=t.editRange;var i=t.cells.hostElement,n=t.columns[o.col].pos+i.offsetLeft,r=t.rows[o.row].pos+i.offsetTop,l=t.getCellBoundingRect(o.row,o.col);if(!o.isSingleCell){var s=t.cells.getCellElement(o.row,o.col);l.width=s.offsetWidth,l.height=s.offsetHeight}o.row<t.frozenRows&&(r+=i.parentElement.scrollTop),o.col<t.frozenColumns&&(n+=i.parentElement.scrollLeft);var a=t.activeEditor,c=a&&a.parentElement?a.parentElement.style.zIndex:"";wjcCore.setCss(this._tbx,{position:"absolute",pointerEvents:"",opacity:"",left:n,top:r,width:l.width-1,height:l.height-1,zIndex:c}),a instanceof HTMLInputElement&&["minLength","maxLength","pattern"].forEach(function(t){wjcCore.setAttribute(e._tbx,t,a.getAttribute(t))}),t._edtHdl._edt=this._tbx}}},e.prototype._mousedown=function(e){this._mouseDown=!0,this._updateImeFocus()},e.prototype._mouseup=function(e){this._mouseDown=!1,this._updateImeFocus()},e.prototype._updateImeFocus=function(){var e=this._g,t=wjcCore.getActiveElement();if(!e.activeEditor&&!e.isTouching&&!this._mouseDown&&wjcCore.contains(e.hostElement,t)){var o=this._tbx;this._enableIme()?t!=o&&(o.disabled=!1,o.select()):o.disabled=!0}},e.prototype._enableIme=function(){var e=this._g,t=e.selection,o=t.isValid?e._getBindingColumn(e.cells,t.row,e.columns[t.col]):null;return!!e.canEditCell(t.row,t.col)&&!(!o||o.dataType==wjcCore.DataType.Boolean)},e._cssHidden={position:"fixed",pointerEvents:"none",opacity:0,left:-10,top:-10,width:0},e}();exports._ImeHandler=_ImeHandler;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
    *
    * Wijmo Library 5.20173.380
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),wjcSelf=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js");window.wijmo=window.wijmo||{},window.wijmo.input=wjcSelf;var DropDown=function(e){function t(t,i){var n=e.call(this,t,null,!0)||this;n._showBtn=!0,n._autoExpand=!0,n._animate=!1,n.textChanged=new wjcCore.Event,n.isDroppedDownChanging=new wjcCore.Event,n.isDroppedDownChanged=new wjcCore.Event;var o=n.getTemplate();n.applyTemplate("wj-control wj-dropdown wj-content",o,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input");var s=n._tbx;n._elRef=s,"autocomplete,autocorrect,autocapitalize,spellcheck".split(",").forEach(function(e){s.hasAttribute(e)||s.setAttribute(e,"spellcheck"==e?"false":"off")}),n._createDropDown(),n._updateBtn();var r=n._dropDown;r&&r.parentElement&&r.parentElement.removeChild(r),wjcCore.addClass(n.hostElement,"wj-state-collapsed");var a=n._updateFocusState.bind(n);n.addEventListener(n.dropDown,"blur",a,!0),n.addEventListener(n.dropDown,"focus",a);var l=n._keydown.bind(n);return n.addEventListener(n.hostElement,"keydown",l),n.addEventListener(n.dropDown,"keydown",l),n.addEventListener(s,"keypress",function(e){9787==e.keyCode&&n._altDown&&e.preventDefault()}),n.addEventListener(s,"input",function(){n._setText(n.text,!1)}),n.addEventListener(s,"click",function(){n._autoExpand&&n._expandSelection()}),wjcCore.isIE9()&&n.addEventListener(s,"keyup",function(){n._setText(n.text,!1)}),n.addEventListener(n._btn,"click",n._btnclick.bind(n)),n.addEventListener(n._dropDown,"click",function(e){e.stopPropagation()}),n}return __extends(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=wjcCore.asBoolean(e),wjcCore.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){return"none"!=this._dropDown.style.display},set:function(e){if((e=wjcCore.asBoolean(e)&&!this.isDisabled&&!this.isReadOnly)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new wjcCore.CancelEventArgs)){var t=this.hostElement,i=this._dropDown;e?(i.style.minWidth||(i.style.minWidth=t.getBoundingClientRect().width+"px"),i.style.display="block",this._updateDropDown()):(this.containsFocus()&&(this.isTouching&&this.showDropDownButton?this.focus():this.selectAll()),wjcCore.hidePopup(i)),this._updateFocusState(),wjcCore.toggleClass(t,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(wjcCore.removeClass(this._dropDown,this._cssClass),this._cssClass=wjcCore.asString(e),wjcCore.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(e){this._showBtn=wjcCore.asBoolean(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(e){this._autoExpand=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animate},set:function(e){this._animate=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){this._elRef==this._tbx?wjcCore.setSelectionRange(this._tbx,0,this.text.length):this.focus()},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDownChanging.raise(this,e),!e.cancel},t.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)},t.prototype.onGotFocus=function(t){this.isTouching||this.selectAll(),e.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){this._commitText(),this.containsFocus()||(this.isDroppedDown=!1),e.prototype.onLostFocus.call(this,t)},t.prototype.containsFocus=function(){return e.prototype.containsFocus.call(this)||wjcCore.contains(this._dropDown,wjcCore.getActiveElement())},t.prototype.dispose=function(){this.isDroppedDown=!1;var t=this.dropDown;if(t){var i=wjcCore.Control.getControl(t);i?i.dispose():t.parentElement&&t.parentElement.removeChild(t)}e.prototype.dispose.call(this)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.isDroppedDown&&"none"!=getComputedStyle(this.hostElement).display){var i=wjcCore.getActiveElement();wjcCore.showPopup(this._dropDown,this.hostElement,!1,!1,null==this.dropDownCssClass),i instanceof HTMLElement&&i!=wjcCore.getActiveElement()&&i.focus()}},t.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},t.prototype._expandSelection=function(){var e=this._tbx,t=e.value,i=e.selectionStart,n=e.selectionEnd;if(t&&i==n){var o=this._getCharType(t,i);if(o>-1){for(;n<t.length&&this._getCharType(t,n)==o;n++);for(;i>0&&this._getCharType(t,i-1)==o;i--);i!=n&&wjcCore.setSelectionRange(e,i,n)}}},t.prototype._getCharType=function(e,t){var i=e[t];return i>="0"&&i<="9"?0:i>="a"&&i<="z"||i>="A"&&i<="Z"?1:-1},t.prototype._keydown=function(e){if(this._altDown=e.altKey,!e.defaultPrevented)switch(e.keyCode){case wjcCore.Key.Tab:case wjcCore.Key.Escape:case wjcCore.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,e.keyCode==wjcCore.Key.Tab||this.containsFocus()||this.focus(),e.preventDefault());break;case wjcCore.Key.F4:case wjcCore.Key.Up:case wjcCore.Key.Down:(e.keyCode==wjcCore.Key.F4||e.altKey)&&wjcCore.contains(document.body,this.hostElement)&&(this.isDroppedDown=!this.isDroppedDown,e.preventDefault())}},t.prototype._btnclick=function(e){this.isDroppedDown=!this.isDroppedDown},t.prototype._setText=function(e,t){null==e&&(e=""),(e=e.toString())!=this._tbx.value&&(this._tbx.value=e),e!=this._oldText&&(this._oldText=e,this.onTextChanged())},t.prototype._updateBtn=function(){this._btn.tabIndex=-1,this._btn.style.display=this._showBtn?"":"none"},t.prototype._createDropDown=function(){},t.prototype._commitText=function(){},t.prototype._updateDropDown=function(){this.isDroppedDown&&(this._commitText(),wjcCore.showPopup(this._dropDown,this.hostElement,!1,this._animate,null==this.dropDownCssClass))},t.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span wj-part="btn" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-dropdown-panel wj-content" style="display:none"></div></div>',t}(wjcCore.Control);exports.DropDown=DropDown;var DateSelectionMode;!function(e){e[e.None=0]="None",e[e.Day=1]="Day",e[e.Month=2]="Month"}(DateSelectionMode=exports.DateSelectionMode||(exports.DateSelectionMode={}));var Calendar=function(e){function t(t,i){var n=e.call(this,t)||this;return n._readOnly=!1,n._selMode=DateSelectionMode.Day,n._fmtYrMo="y",n._fmtYr="yyyy",n._fmtDayHdr="ddd",n._fmtDay="d ",n._fmtMonths="MMM",n.valueChanged=new wjcCore.Event,n.displayMonthChanged=new wjcCore.Event,n.formatItem=new wjcCore.Event,n._value=wjcCore.DateTime.newDate(),n._currMonth=n._getMonth(n._value),n._createChildren(),n.refresh(!0),n.addEventListener(n.hostElement,"mouseup",n._click.bind(n)),n.addEventListener(n.hostElement,"keydown",n._keydown.bind(n)),n.initialize(i),n}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e=wjcCore.asDate(e,!0),e=this._clamp(e),this._valid(e)&&(this.displayMonth=this._getMonth(e),wjcCore.DateTime.equals(this._value,e)||(this._value=e,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e!=this.min&&(this._min=wjcCore.asDate(e,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e!=this.max&&(this._max=wjcCore.asDate(e,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selMode},set:function(e){if(e!=this._selMode){this._selMode=wjcCore.asEnum(e,DateSelectionMode);var t=this._monthMode();t&&(this.monthView=!1);var i=this._btnMth.querySelector(".wj-glyph-down");i&&(i.style.display=t?"none":"")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=wjcCore.asBoolean(e),wjcCore.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(e){if(e!=this._fdw){if((e=wjcCore.asNumber(e,!0))&&(e>6||e<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=e,this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(e){wjcCore.DateTime.equals(this.displayMonth,e)||(e=wjcCore.asDate(e),(this.monthView?this._monthInValidRange(e):this._yearInValidRange(e))&&(this._currMonth=this._getMonth(this._clamp(e)),this.invalidate(!0),this.onDisplayMonthChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(e){e!=this._fmtYrMo&&(this._fmtYrMo=wjcCore.asString(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(e){e!=this._fmtDayHdr&&(this._fmtDayHdr=wjcCore.asString(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(e){e!=this._fmtDay&&(this._fmtDay=wjcCore.asString(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(e){e!=this._fmtYr&&(this._fmtYr=wjcCore.asString(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(e){e!=this._fmtMonths&&(this._fmtMonths=wjcCore.asString(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(e){this._tbHdr.style.display=wjcCore.asBoolean(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(e){e!=this.monthView&&(this._tbMth.style.display=e?"":"none",this._tbYr.style.display=e?"none":"")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=wjcCore.asFunction(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this._itemValidator&&(this._itemValidator=wjcCore.asFunction(e),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.refresh=function(t){void 0===t&&(t=!0);var i,n,o,s=this.displayMonth,r=null!=this.firstDayOfWeek?this.firstDayOfWeek:wjcCore.Globalize.getFirstDayOfWeek();e.prototype.refresh.call(this,t),this._firstDay=wjcCore.DateTime.addDays(s,-(s.getDay()-r+7)%7),wjcCore.setText(this._spMth,wjcCore.Globalize.format(s,this._fmtYrMo)),i=this._tbMth.querySelectorAll("td");for(h=0;h<7&&h<i.length;h++)o=wjcCore.DateTime.addDays(this._firstDay,h),wjcCore.setText(i[h],wjcCore.Globalize.format(o,this._fmtDayHdr));for(h=7;h<i.length;h++){n=i[h],o=wjcCore.DateTime.addDays(this._firstDay,h-7),wjcCore.setText(n,wjcCore.Globalize.format(o,this._fmtDay)),n.className="";var a=!this._valid(o);if(wjcCore.toggleClass(n,"wj-state-invalid",a),wjcCore.toggleClass(n,"wj-state-selected",wjcCore.DateTime.sameDate(o,this.value)),wjcCore.toggleClass(n,"wj-day-today",wjcCore.DateTime.sameDate(o,wjcCore.DateTime.newDate())),wjcCore.toggleClass(n,"wj-day-othermonth",a||o.getMonth()!=s.getMonth()||!this._inValidRange(o)),this.itemFormatter&&this.itemFormatter(o,n),this.formatItem.hasHandlers){var l=new FormatItemEventArgs(h,o,n);this.onFormatItem(l)}}var c=this._tbMth.querySelectorAll("tr");c.length&&(o=wjcCore.DateTime.addDays(this._firstDay,28),c[c.length-2].style.display=o.getMonth()==s.getMonth()?"":"none",o=wjcCore.DateTime.addDays(this._firstDay,35),c[c.length-1].style.display=o.getMonth()==s.getMonth()?"":"none"),(i=this._tbYr.querySelectorAll("td")).length&&wjcCore.setText(i[0],wjcCore.Globalize.format(s,this._fmtYr));for(var h=1;h<i.length;h++)n=i[h],o=wjcCore.DateTime.newDate(s.getFullYear(),h-1,1),wjcCore.setText(n,wjcCore.Globalize.format(o,this._fmtMonths)),n.className="",wjcCore.toggleClass(n,"wj-state-disabled",!this._monthInValidRange(o)),wjcCore.toggleClass(n,"wj-state-selected",this._sameMonth(o,this.value))},t.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=DateSelectionMode.None},t.prototype._valid=function(e){return!this.itemValidator||!e||this.itemValidator(e)},t.prototype._inValidRange=function(e){return!(this.min&&e<wjcCore.DateTime.fromDateTime(this.min,e))&&!(this.max&&e>wjcCore.DateTime.fromDateTime(this.max,e))},t.prototype._monthInValidRange=function(e){if(this.min||this.max){var t=e.getFullYear(),i=e.getMonth(),n=wjcCore.DateTime.newDate(t,i,1),o=wjcCore.DateTime.addDays(wjcCore.DateTime.newDate(t,i+1,1),-1);if(this.min&&this.min>o)return!1;if(this.max&&this.max<n)return!1}return!0},t.prototype._yearInValidRange=function(e){if(this.min||this.max){var t=e.getFullYear(),i=wjcCore.DateTime.newDate(t,0),n=wjcCore.DateTime.newDate(t,11,31);if(this.min&&this.min>n)return!1;if(this.max&&this.max<i)return!1}return!0},t.prototype._sameMonth=function(e,t){return wjcCore.isDate(e)&&wjcCore.isDate(t)&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()},t.prototype._clamp=function(e){if(e){if(this.min){var t=wjcCore.DateTime.fromDateTime(this.min,e);e<t&&(e=t)}if(this.max){var i=wjcCore.DateTime.fromDateTime(this.max,e);e>i&&(e=i)}}return e},t.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-control wj-calendar",e,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"});for(var t=this._createElement("tr",this._tbMth,"wj-header"),i=0;i<7;i++)this._createElement("td",t);for(var n=0;n<6;n++){t=this._createElement("tr",this._tbMth);for(i=0;i<7;i++)this._createElement("td",t)}t=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",t).setAttribute("colspan","4");for(var o=0;o<3;o++){t=this._createElement("tr",this._tbYr);for(var s=0;s<4;s++)this._createElement("td",t)}},t.prototype._createElement=function(e,t,i){var n=document.createElement(e);return t&&t.appendChild(n),i&&wjcCore.addClass(n,i),n},t.prototype._click=function(e){var t=!1,i=e.target;if(wjcCore.contains(this._btnMth,i)&&!this._monthMode()?(this.monthView=!this.monthView,t=!0):wjcCore.contains(this._btnPrv,i)?(this._navigate(-1),t=!0):wjcCore.contains(this._btnNxt,i)?(this._navigate(1),t=!0):wjcCore.contains(this._btnTdy,i)&&(this._navigate(0),t=!0),i&&!t&&(i=wjcCore.closest(i,"TD")))if(this.monthView){if((n=this._getCellIndex(this._tbMth,i))>6&&this._canChangeValue()){o=wjcCore.DateTime.fromDateTime(wjcCore.DateTime.addDays(this._firstDay,n-7),this.value);this._inValidRange(o)&&this._valid(o)&&(this.value=o),t=!0}}else{var n=this._getCellIndex(this._tbYr,i);if(n>0){if(this.displayMonth=wjcCore.DateTime.newDate(this.displayMonth.getFullYear(),n-1,1),this._monthMode()){if(this._canChangeValue()){var o=wjcCore.DateTime.fromDateTime(this.displayMonth,this.value);this._inValidRange(o)&&(this.value=o)}}else this.monthView=!0;t=!0}}t&&(e.preventDefault(),this.focus())},t.prototype._getCellIndex=function(e,t){for(var i=e.querySelectorAll("TD"),n=0;n<i.length;n++)if(i[n]==t)return n;return-1},t.prototype._keydown=function(e){if(!e.defaultPrevented){if(e.altKey)switch(e.keyCode){case wjcCore.Key.Up:case wjcCore.Key.Down:return;case wjcCore.Key.End:return this._navigate(0),void e.preventDefault()}if(!(e.ctrlKey||e.metaKey||e.shiftKey)){var t=0,i=0,n=!0;if(this.monthView)switch(e.keyCode){case wjcCore.Key.Left:t=-1;break;case wjcCore.Key.Right:t=1;break;case wjcCore.Key.Up:t=-7;break;case wjcCore.Key.Down:t=7;break;case wjcCore.Key.PageDown:i=e.altKey?12:1;break;case wjcCore.Key.PageUp:i=e.altKey?-12:-1;break;case wjcCore.Key.Home:if(this._canChangeValue())if(this.min)this.value=wjcCore.DateTime.fromDateTime(this.min,this.value);else if(this.value){o=this.value;o=wjcCore.DateTime.newDate(o.getFullYear(),o.getMonth(),1),this.value=wjcCore.DateTime.fromDateTime(o,this.value)}break;case wjcCore.Key.End:if(this._canChangeValue())if(this.max)this.value=wjcCore.DateTime.fromDateTime(this.max,this.value);else if(this.value){o=this.value;o=wjcCore.DateTime.newDate(o.getFullYear(),o.getMonth()+1,0),this.value=wjcCore.DateTime.fromDateTime(o,this.value)}break;default:n=!1}else switch(e.keyCode){case wjcCore.Key.Left:i=-1;break;case wjcCore.Key.Right:i=1;break;case wjcCore.Key.Up:i=-4;break;case wjcCore.Key.Down:i=4;break;case wjcCore.Key.PageDown:i=e.altKey?120:12;break;case wjcCore.Key.PageUp:i=e.altKey?-120:-12;break;case wjcCore.Key.Home:i=this.value?-this.value.getMonth():0;break;case wjcCore.Key.End:i=this.value?11-this.value.getMonth():0;break;case wjcCore.Key.Enter:this._monthMode()?n=!1:this.monthView=!0;break;default:n=!1}if(this.value&&this._canChangeValue()&&(t||i)){var o=this.value;o=wjcCore.DateTime.addDays(o,t),o=wjcCore.DateTime.addMonths(o,i);for(var s=0;!this._valid(o)&&s<31;s++)o=wjcCore.DateTime.addDays(o,t>0||i>0?1:-1);this.value=o}n&&e.preventDefault()}}},t.prototype._getMonth=function(e){return e||(e=wjcCore.DateTime.newDate()),wjcCore.DateTime.newDate(e.getFullYear(),e.getMonth(),1)},t.prototype._monthMode=function(){return this.selectionMode==DateSelectionMode.Month},t.prototype._navigate=function(e){var t=this.monthView;switch(e){case 0:var i=wjcCore.DateTime.newDate();t?this._canChangeValue()&&(this.value=wjcCore.DateTime.fromDateTime(i,this.value)):this._canChangeValue()&&(this.value=this._getMonth(i)),this._setDisplayMonth(this._getMonth(i));break;case 1:this._setDisplayMonth(wjcCore.DateTime.addMonths(this.displayMonth,t?1:12));break;case-1:this._setDisplayMonth(wjcCore.DateTime.addMonths(this.displayMonth,t?-1:-12))}},t.prototype._setDisplayMonth=function(e){this._yearInValidRange(e)&&(this.displayMonth=e)},t.controlTemplate='<div class="wj-calendar-outer wj-content"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button type="button" tabindex="-1" wj-part="btn-prev" class="wj-btn wj-btn-default"><span class="wj-glyph-left"></span></button><button type="button" tabindex="-1" wj-part="btn-today" class="wj-btn wj-btn-default"><span class="wj-glyph-circle"></span></button><button type="button" tabindex="-1" wj-part="btn-next" class="wj-btn wj-btn-default"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month"/><table wj-part="tbl-year" class="wj-calendar-year" style="display:none"/></div>',t}(wjcCore.Control);exports.Calendar=Calendar;var ColorPicker=function(e){function t(i,n){var o=e.call(this,i)||this;o._hsb=[.5,1,1],o._alpha=1,o.valueChanged=new wjcCore.Event;var s=o.getTemplate();o.applyTemplate("wj-control wj-colorpicker wj-content",s,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),o._palette="#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),o._updatePalette(),o._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",o._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(o._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",o._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),s=t._tplCursor,o._cSB=wjcCore.createElement(s),o._cHue=wjcCore.createElement(s),o._cHue.style.width="100%",o._cAlpha=wjcCore.createElement(s),o._cAlpha.style.height="100%",o._eSB.appendChild(o._cSB),o._eHue.appendChild(o._cHue),o._eAlpha.appendChild(o._cAlpha),o.addEventListener(o.hostElement,"mousedown",function(e){document.addEventListener("mousemove",r),document.addEventListener("mouseup",a),o._mouseDown(e)});var r=function(e){o._mouseMove(e)},a=function(e){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",a),o._mouseUp(e)};return o.addEventListener(o.hostElement,"click",function(e){var t=e.target;if(t&&"DIV"==t.tagName&&wjcCore.contains(o._ePal,t)){var i=t.style.backgroundColor;i&&(o.value=new wjcCore.Color(i).toString())}}),o.value="#ffffff",o.initialize(n),o._updatePanels(),o}return __extends(t,e),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(e){this._eAlpha.parentElement.style.display=wjcCore.asBoolean(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(e){this._eText.style.display=wjcCore.asBoolean(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this.value){this._value=wjcCore.asString(e),this._eText.innerText=this._value;var t=new wjcCore.Color(this._value),i=t.getHsb();this._hsb[0]==i[0]&&this._hsb[1]==i[1]&&this._hsb[2]==i[2]&&this._alpha==t.a||(0==i[2]?(i[0]=this._hsb[0],i[1]=this._hsb[1]):0==i[1]&&(i[0]=this._hsb[0]),this._hsb=i,this._alpha=t.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(e){e=wjcCore.asArray(e);for(var t=0;t<e.length&&t<this._palette.length;t++){var i=wjcCore.asString(e[t]);this._palette[t]=i}this._updatePalette()},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this._updatePanels(),this.valueChanged.raise(this,e)},t.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e),this._htDown&&(e.preventDefault(),this.focus(),this._mouseMove(e))},t.prototype._mouseMove=function(e){if(this._htDown){var t=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=wjcCore.clamp((e.clientY-t.top)/t.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=wjcCore.clamp((e.clientX-t.left)/t.width,0,1),this._hsb[2]=wjcCore.clamp(1-(e.clientY-t.top)/t.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=wjcCore.clamp((e.clientX-t.left)/t.width,0,1),this._updateColor())}},t.prototype._mouseUp=function(e){this._htDown=null},t.prototype._updateColor=function(){var e=wjcCore.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=e.toString(),this._updatePanels()},t.prototype._updatePalette=function(){var e=new wjcCore.Color("#fff"),t=new wjcCore.Color("#000");this._ePal.innerHTML="";for(var i=0;i<this._palette.length;i++){var n=wjcCore.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),o=new wjcCore.Color(this._palette[i]),s=o.getHsb();n.appendChild(this._makePalEntry(o,4));for(var r=0;r<5;r++){if(0==s[1]){var a=.1*r+(s[2]>.5?.05:.55);o=wjcCore.Color.interpolate(e,t,a)}else o=wjcCore.Color.fromHsb(s[0],.1+.2*r,1-.1*r);n.appendChild(this._makePalEntry(o,0))}this._ePal.appendChild(n)}},t.prototype._makePalEntry=function(e,t){var i=document.createElement("div");return wjcCore.setCss(i,{cursor:"pointer",backgroundColor:e.toString(),marginBottom:t||""}),i.innerHTML="&nbsp",i},t.prototype._updatePanels=function(){var e=wjcCore.Color.fromHsb(this._hsb[0],1,1,1),t=wjcCore.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=e.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+t.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+t.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},t.prototype._getTargetPanel=function(e){var t=e.target;return wjcCore.contains(this._eSB,t)?this._eSB:wjcCore.contains(this._eHue,t)?this._eHue:wjcCore.contains(this._eAlpha,t)?this._eAlpha:null},t.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',t._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',t}(wjcCore.Control);exports.ColorPicker=ColorPicker;var ListBox=function(e){function t(t,i){var n=e.call(this,t)||this;n._pathDisplay=new wjcCore.Binding(null),n._pathValue=new wjcCore.Binding(null),n._pathChecked=new wjcCore.Binding(null),n._html=!1,n._checkedItems=[],n._itemRole="option",n._search="",n.selectedIndexChanged=new wjcCore.Event,n.itemsChanged=new wjcCore.Event,n.loadingItems=new wjcCore.Event,n.loadedItems=new wjcCore.Event,n.itemChecked=new wjcCore.Event,n.checkedItemsChanged=new wjcCore.Event,n.formatItem=new wjcCore.Event,n.applyTemplate("wj-control wj-listbox wj-content",null,null);var o=n.hostElement;return wjcCore.setAttribute(o,"role","listbox",!0),"SELECT"==n._orgTag&&n._initFromSelect(n.hostElement),n.addEventListener(o,"click",n._click.bind(n)),n.addEventListener(o,"keydown",n._keydown.bind(n)),n.addEventListener(o,"keypress",n._keypress.bind(n)),n.addEventListener(o,"wheel",function(e){o.scrollHeight>o.offsetHeight&&(e.deltaY<0&&0==o.scrollTop||e.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&(e.preventDefault(),e.stopPropagation())}),n._tabIndex=o.tabIndex,n.initialize(i),n}return __extends(t,e),t.prototype.refresh=function(){e.prototype.refresh.call(this),!this.displayMemberPath&&this.checkedMemberPath||this._populateList()},Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){this._items!=e&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=wjcCore.asCollectionView(e),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){e!=this._html&&(this._html=wjcCore.asBoolean(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=wjcCore.asFunction(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(e){e!=this.displayMemberPath&&(this._pathDisplay.path=wjcCore.asString(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(e){this._pathValue.path=wjcCore.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(e){e!=this.checkedMemberPath&&(this._pathChecked.path=wjcCore.asString(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemRole",{get:function(){return this._itemRole},set:function(e){e!=this.itemRole&&(this._itemRole=wjcCore.asString(e),this._populateList())},enumerable:!0,configurable:!0}),t.prototype.getDisplayValue=function(e){var t=null;e>-1&&wjcCore.hasItems(this._cv)&&(t=this._cv.items[e],this.displayMemberPath&&(t=this._pathDisplay.getValue(t)));var i=null!=t?t.toString():"";return this.itemFormatter&&(i=this.itemFormatter(e,i)),i},t.prototype.getDisplayText=function(e){var t=this.hostElement.children,i=e>-1&&e<t.length?t[e]:null;return null!=i?i.textContent:""},t.prototype.isItemEnabled=function(e){if(!this.getDisplayText(e))return!1;var t=this.hostElement.children[e];return!(!t||t.hasAttribute("disabled")||wjcCore.hasClass(t,"wj-state-disabled"))},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(e){this._cv&&this._cv.moveCurrentToPosition(wjcCore.asNumber(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(e){this._cv&&this._cv.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var e=this.selectedItem;return e&&this.selectedValuePath&&(e=this._pathValue.getValue(e)),e},set:function(e){var t=this.selectedValuePath,i=-1;if(this._cv){for(var n=0;n<this._cv.items.length;n++){var o=this._cv.items[n];if((t?this._pathValue.getValue(o):o)===e){i=n;break}}this.selectedIndex=i}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.hostElement;return e?parseFloat(e.style.maxHeight):null},set:function(e){var t=this.hostElement;t&&(t.style.maxHeight=wjcCore.asNumber(e)+"px")},enumerable:!0,configurable:!0}),t.prototype.showSelection=function(){for(var e,t=this.selectedIndex,i=this.hostElement,n=i.children,o=0;o<n.length;o++)e=n[o],wjcCore.toggleClass(e,"wj-state-selected",o==t),wjcCore.setAttribute(e,"tabindex",o==t?this._tabIndex:-1);if(t>-1&&t<n.length){var s=(e=n[t]).getBoundingClientRect(),r=i.getBoundingClientRect();s.bottom>r.bottom?i.scrollTop+=s.bottom-r.bottom:s.top<r.top&&(i.scrollTop-=r.top-s.top)}t>-1&&this.containsFocus()&&(e=n[t])instanceof HTMLElement&&!wjcCore.contains(e,wjcCore.getActiveElement())&&e.focus(),wjcCore.setAttribute(i,"tabindex",t<0?this._tabIndex:-1)},t.prototype.getItemChecked=function(e){var t=this._cv.items[e];if(wjcCore.isObject(t)&&this.checkedMemberPath)return this._pathChecked.getValue(t);var i=this._getCheckbox(e);return!!i&&i.checked},t.prototype.setItemChecked=function(e,t){this._setItemChecked(e,t,!0)},t.prototype.toggleItemChecked=function(e){this.setItemChecked(e,!this.getItemChecked(e))},Object.defineProperty(t.prototype,"checkedItems",{get:function(){if(this._checkedItems.splice(0,this._checkedItems.length),this._cv)for(var e=0;e<this._cv.items.length;e++)this.getItemChecked(e)&&this._checkedItems.push(this._cv.items[e]);return this._checkedItems},set:function(e){var t=this._cv,i=this.hostElement,n=wjcCore.asArray(e,!1);if(t&&n){for(var o=t.currentPosition,s=i.scrollTop,r=0;r<t.items.length;r++){var a=t.items[r];this._setItemChecked(r,n.indexOf(a)>-1,!1)}t.moveCurrentToPosition(o),i.scrollTop=s,this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)},t.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)},t.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)},t.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)},t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype._setItemChecked=function(e,t,i){void 0===i&&(i=!0);var n=this._cv.items[e];if(wjcCore.isObject(n)){var o=wjcCore.tryCast(this._cv,"IEditableCollectionView");this._pathChecked.getValue(n)!=t&&(this._checking=!0,o?(o.editItem(n),this._pathChecked.setValue(n,t),o.commitEdit()):(this._pathChecked.setValue(n,t),this._cv.refresh()),this._checking=!1)}var s=this._getCheckbox(e);if(s){s.checked=t;var r=wjcCore.closest(s,".wj-listbox-item");r&&wjcCore.toggleClass(r,"wj-state-checked",t)}i&&(this.onItemChecked(),this.onCheckedItemsChanged())},t.prototype._cvCollectionChanged=function(e,t){this._checking||(this._populateList(),this.onItemsChanged())},t.prototype._cvCurrentChanged=function(e,t){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},t.prototype._populateList=function(){var e=this.hostElement;if(e){var t=this.containsFocus();if(this.onLoadingItems(),e.innerHTML="",this._cv){for(var i=document.createDocumentFragment(),n=0;n<this._cv.items.length;n++){var o=this.getDisplayValue(n);1!=this._html&&(o=wjcCore.escapeHtml(o)),this.checkedMemberPath&&(o='<label><input tabindex="-1" type="checkbox"'+(this._pathChecked.getValue(this._cv.items[n])?" checked":"")+"> "+o+"</label>");var s=document.createElement("div");if(s.innerHTML=o,s.className="wj-listbox-item",wjcCore.hasClass(s.firstChild,"wj-separator")&&(s.className+=" wj-separator"),wjcCore.setAttribute(s,"role",this.itemRole?this.itemRole:null),this.formatItem.hasHandlers){var r=new FormatItemEventArgs(n,this._cv.items[n],s);this.onFormatItem(r)}i.appendChild(s)}e.appendChild(i)}0==e.children.length&&e.appendChild(document.createElement("div")),t&&!this.containsFocus()&&this.focus(),this.showSelection(),this.onLoadedItems()}},t.prototype._click=function(e){if(!e.defaultPrevented){for(var t=this.hostElement.children,i=0;i<t.length;i++)if(wjcCore.contains(t[i],e.target)){this.selectedIndex=i;break}var n=this.selectedIndex;if(this.checkedMemberPath&&n>-1){var o=this._getCheckbox(n);o==e.target&&(t[n].focus(),this.setItemChecked(n,o.checked))}}},t.prototype._keydown=function(e){var t=this.selectedIndex;this.hostElement.children;if(!e.defaultPrevented){if(65==e.keyCode&&(e.ctrlKey||e.metaKey)&&this.checkedMemberPath&&wjcCore.hasItems(this.collectionView))return this.checkedItems=this.getItemChecked(0)?[]:this.collectionView.items,void e.preventDefault();if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(e.keyCode){case wjcCore.Key.Down:e.preventDefault(),this._selectNext();break;case wjcCore.Key.Up:e.preventDefault(),this._selectPrev();break;case wjcCore.Key.Home:e.preventDefault(),this._selectFirst();break;case wjcCore.Key.End:e.preventDefault(),this._selectLast();break;case wjcCore.Key.PageDown:e.preventDefault(),this._selectNextPage();break;case wjcCore.Key.PageUp:e.preventDefault(),this._selectPrevPage();break;case wjcCore.Key.Space:if(this.checkedMemberPath&&t>-1){var i=this._getCheckbox(t);i&&this.isItemEnabled(t)&&(this.setItemChecked(t,!i.checked),e.preventDefault())}}}},t.prototype._keypress=function(e){var i=this;if(!e.defaultPrevented&&!(e.target instanceof HTMLInputElement)&&(e.charCode>32||32==e.charCode&&this._search)){e.preventDefault(),this._search+=String.fromCharCode(e.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){i._toSearch=null,i._search=""},t._AUTOSEARCH_DELAY);var n=this._findNext();n<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],n=this._findNext()),n>-1&&(this.selectedIndex=n)}},t.prototype._selectNext=function(){for(var e=this.hostElement.children.length,t=this.selectedIndex+1;t<e;t++)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},t.prototype._selectPrev=function(){for(var e=this.selectedIndex-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectFirst=function(){for(var e=this.hostElement.children.length,t=0;t<e;t++)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},t.prototype._selectLast=function(){for(var e=this.hostElement.children.length-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectNextPage=function(){for(var e=this.hostElement,t=e.offsetHeight,i=e.children,n=0,o=this.selectedIndex+1;o<this._cv.items.length;o++){var s=i[o].scrollHeight;if(n+s>t&&this.isItemEnabled(o))return this.selectedIndex=o,!0;n+=s}return this._selectLast()},t.prototype._selectPrevPage=function(){for(var e=this.hostElement,t=e.offsetHeight,i=e.children,n=0,o=this.selectedIndex-1;o>0;o--){var s=i[o].scrollHeight;if(n+s>t&&this.isItemEnabled(o))return this.selectedIndex=o,!0;n+=s}return this._selectFirst()},t.prototype._findNext=function(){if(this.hostElement){var e=this.hostElement.childElementCount,t=this.selectedIndex;(t<0||1==this._search.length)&&t++;for(var i=0;i<e;i++){var n=(t+i)%e;if(0==this.getDisplayText(n).trim().toLowerCase().indexOf(this._search)&&this.isItemEnabled(n))return n}}return-1},t.prototype._getCheckbox=function(e){var t=this.hostElement;return t&&e>-1&&e<t.children.length?t.children[e].querySelector("input[type=checkbox]"):null},t.prototype._initFromSelect=function(e){for(var t=e.children,i=[],n=-1,o=0;o<t.length;o++){var s=t[o];"OPTION"==s.tagName&&(s.hasAttribute("selected")&&(n=i.length),s.innerHTML?i.push({hdr:s.innerHTML,val:s.getAttribute("value"),cmdParam:s.getAttribute("cmd-param")}):i.push({hdr:'<div class="wj-separator"/>'}),e.removeChild(s),o--)}i&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=i,this.selectedIndex=n)},t._AUTOSEARCH_DELAY=600,t}(wjcCore.Control);exports.ListBox=ListBox;var FormatItemEventArgs=function(e){function t(t,i,n){var o=e.call(this)||this;return o._index=wjcCore.asNumber(t),o._data=i,o._item=wjcCore.asType(n,HTMLElement),o}return __extends(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t}(wjcCore.EventArgs);exports.FormatItemEventArgs=FormatItemEventArgs;var ComboBox=function(e){function t(t,i){var n=e.call(this,t)||this;n._editable=!1,n._delKey=0,n._composing=!1,n._pathHdr=new wjcCore.Binding(null),n._bsCollapse=!0,n.itemsSourceChanged=new wjcCore.Event,n.selectedIndexChanged=new wjcCore.Event;var o=n.hostElement;wjcCore.addClass(o,"wj-combobox");var s=n._tbx,r=wjcCore.getUniqueId(o.id+"_dropdown");return n.dropDown.id=r,wjcCore.setAttribute(s,"role","combobox"),wjcCore.setAttribute(s,"aria-autocomplete","both"),wjcCore.setAttribute(s,"aria-owns",r),wjcCore.setAttribute(n._btn,"aria-controls",r),wjcCore.setAttribute(n.dropDown,"aria-expanded",!1),n.autoExpandSelection=!1,n.addEventListener(n._tbx,"compositionstart",function(){n._composing=!0}),n.addEventListener(n._tbx,"compositionend",function(){n._composing=!1,setTimeout(function(){n._setText(n.text,!0)})}),n.addEventListener(o,"wheel",function(e){if(!e.defaultPrevented&&!n.isDroppedDown&&!n.isReadOnly&&n.containsFocus()&&n.selectedIndex>-1){var t=wjcCore.clamp(-e.deltaY,-1,1);n.selectedIndex=wjcCore.clamp(n.selectedIndex-t,0,n.collectionView.items.length-1),e.preventDefault()}}),"SELECT"==n._orgTag&&n._lbx._initFromSelect(o),n._lbx.loadedItems.addHandler(function(){n.selectedIndex>-1&&(n.selectedIndex=n._lbx.selectedIndex)}),n.isRequired=!0,n.initialize(i),n}return __extends(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource!=e&&(this._lbx.itemsSource=e,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(e){this._pathHdr.path=wjcCore.asString(e);var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(e){this._lbx.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){if(e!=this.isContentHtml){this._lbx.isContentHtml=wjcCore.asBoolean(e);var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(e){this._lbx.itemFormatter=wjcCore.asFunction(e),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatItem",{get:function(){return this.listBox.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){e!=this.selectedIndex&&(this._lbx.selectedIndex=e),e=this.selectedIndex;var t=this.getDisplayText(e);this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(e){this._lbx.selectedItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(e){this._lbx.selectedValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=wjcCore.asNumber(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownWidth",{get:function(){var e=this._dropDown;return parseInt(e.style.maxWidth)},set:function(e){this._dropDown.style.maxWidth=wjcCore.asNumber(e)+"px"},enumerable:!0,configurable:!0}),t.prototype.getDisplayText=function(e){if(void 0===e&&(e=this.selectedIndex),this.headerPath&&e>-1&&wjcCore.hasItems(this.collectionView)){var t=this.collectionView.items[e],i=t?this._pathHdr.getValue(t):null;return i=null!=i?i.toString():"",this.isContentHtml&&(this._cvt||(this._cvt=document.createElement("div")),this._cvt.innerHTML=i,i=this._cvt.textContent),i.trim()}return this._lbx.getDisplayText(e).trim()},t.prototype.indexOf=function(e,t){var i=this.collectionView;if(wjcCore.hasItems(i)&&null!=e){var n=this.selectedIndex;if(t&&e==this.getDisplayText(n))return n;e=e.toString().toLowerCase();for(var o=0;o<i.items.length;o++)if(this.listBox.isItemEnabled(o)){var s=this.getDisplayText(o).toLowerCase();if(t){if(s==e)return o}else if(e&&0==s.indexOf(e))return o}}return-1},Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onSelectedIndexChanged=function(e){this._updateBtn(),this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(t){e.prototype.refresh.call(this,t),wjcCore.hasItems(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},t.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&wjcCore.hasItems(this.collectionView)&&(this.selectedIndex=0),e.prototype.onLostFocus.call(this,t)},t.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDown||wjcCore.hasItems(this.collectionView)?e.prototype.onIsDroppedDownChanging.call(this,t):(t.cancel=!0,!1)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._lbx.showSelection(),this.isTouching||this.selectAll()),wjcCore.setAttribute(this.dropDown,"aria-expanded",this.isDroppedDown)},t.prototype._updateBtn=function(){var e=this.collectionView;this._btn.style.display=this._showBtn&&null!=e?"":"none",wjcCore.enable(this._btn,wjcCore.hasItems(e))},t.prototype._btnclick=function(t){e.prototype._btnclick.call(this,t),this.isTouching||this._elRef!=this._tbx||this.selectAll()},t.prototype._createDropDown=function(){var e=this;this._lbx||(this._lbx=new ListBox(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){e._updateBtn(),e.selectedIndex=e._lbx.selectedIndex,e.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){e._updateBtn()}),this.addEventListener(this._dropDown,"click",this._dropDownClick.bind(this))},t.prototype._dropDownClick=function(e){e.defaultPrevented||e.target!=this._dropDown&&(this.isDroppedDown=!1)},t.prototype._setText=function(t,i){if(!this._composing&&!this._settingText){this._settingText=!0,null==t&&(t=""),t=t.toString();var n=this.selectedIndex,o=this.collectionView,s=this._getSelStart(),r=-1,a=!0;if(this._delKey&&this.isEditable&&(i=!0,a=!1),n=this.indexOf(t,i),a&&(n<0&&i&&(n=this.indexOf(t,!1)),n<0&&s>0&&(n=this.indexOf(t.substr(0,s),!1))),n<0&&!this.isEditable&&wjcCore.hasItems(o)&&(this.isRequired||t)){var l=this._oldText||"";n=Math.max(0,this.indexOf(l,!1));for(var c=0;c<t.length&&c<l.length;c++)if(t[c]!=l[c]){s=c;break}}n>-1&&(r=s,t=this.getDisplayText(n)),t!=this._tbx.value&&(this._tbx.value=t),r>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(r),o&&o.moveCurrentToPosition(n),e.prototype._setText.call(this,t,i),this._delKey=0,this._settingText=!1}},t.prototype._findNext=function(e,t){if(this.collectionView){e=e.toLowerCase();for(var i=this.collectionView.items.length,n=void 0,o=void 0,s=1;s<=i;s++)if(n=(this.selectedIndex+s*t+i)%i,(o=this.getDisplayText(n).toLowerCase())&&0==o.indexOf(e)&&(!this.dropDown.children[n]||this.listBox.isItemEnabled(n)))return n}return this.selectedIndex},t.prototype._keydown=function(t){if(e.prototype._keydown.call(this,t),!t.defaultPrevented&&!this.isReadOnly&&!t.altKey&&wjcCore.hasItems(this.collectionView)&&this._elRef==this._tbx){this._delKey=0;var i=this._getSelStart();switch(t.keyCode){case wjcCore.Key.Back:if(this._bsCollapse&&!this.isEditable){var n=this._getSelEnd();i>0&&n==this._tbx.value.length&&wjcCore.hasItems(this.collectionView)&&this._setSelRange(i-1,n)}this._delKey=t.keyCode;break;case wjcCore.Key.Delete:this._delKey=t.keyCode;break;case wjcCore.Key.Up:case wjcCore.Key.Down:i==this.text.length&&(i=0),this.selectedIndex=this._findNext(this.text.substr(0,i),t.keyCode==wjcCore.Key.Up?-1:1),this._setSelRange(i,this.text.length),t.preventDefault()}}},t.prototype._updateInputSelection=function(e){this._elRef==this._tbx&&this._setSelRange(e,this._tbx.value.length)},t.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},t.prototype._getSelEnd=function(){return this._tbx&&this._tbx.value?this._tbx.selectionEnd:0},t.prototype._setSelRange=function(e,t){var i=this._tbx;this._elRef==i&&wjcCore.setSelectionRange(i,e,t)},t}(DropDown);exports.ComboBox=ComboBox;var AutoComplete=function(e){function t(t,i){var n=e.call(this,t)||this;return n._cssMatch="wj-autocomplete-match",n._minLength=2,n._maxItems=6,n._itemCount=0,n._delay=500,n._query="",n._inCallback=!1,n._srchProps=[],wjcCore.addClass(n.hostElement,"wj-autocomplete"),n._bsCollapse=!1,n.isEditable=!0,n.isRequired=!1,n.isContentHtml=!0,n.listBox.formatItem.addHandler(n._formatListItem,n),n._itemsSourceFnCallBackBnd=n._itemSourceFunctionCallback.bind(n),n.initialize(i),n}return __extends(t,e),Object.defineProperty(t.prototype,"minLength",{get:function(){return this._minLength},set:function(e){this._minLength=wjcCore.asNumber(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxItems",{get:function(){return this._maxItems},set:function(e){this._maxItems=wjcCore.asNumber(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=wjcCore.asNumber(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(e){this._srchProp=wjcCore.asString(e),this._srchProps=e?e.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(e){this._itemsSourceFn=wjcCore.asFunction(e),wjcCore.isFunction(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallBackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(e){this._cssMatch=wjcCore.asString(e)},enumerable:!0,configurable:!0}),t.prototype._keydown=function(t){if(!t.defaultPrevented&&this.isDroppedDown)switch(t.keyCode){case wjcCore.Key.Up:case wjcCore.Key.Down:this.selectAll()}e.prototype._keydown.call(this,t)},t.prototype._setText=function(e){var t=this;if(!this._inCallback){if(!e&&this.selectedIndex>-1&&(this.selectedIndex=-1),e!=this._oldText&&(this._tbx.value!=e&&(this._tbx.value=e),this._oldText=e,this.onTextChanged(),!e&&this.collectionView))return this._rxHighlight=null,this.collectionView.filter=this._query=null,void(this.isDroppedDown=!1);this._toSearch&&clearTimeout(this._toSearch),e!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){t._toSearch=null;var e=t.text.trim().toLowerCase();if(e.length>=t._minLength&&e!=t._query){t._query=e,e=e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var i=wjcCore.escapeHtml(e);t._rxMatch=new RegExp("(?=.*"+e.replace(/ /g,")(?=.*")+")","ig"),t._rxHighlight=t.isContentHtml?new RegExp("("+i.replace(/ /g,"|")+")(?![^<]*>|[^<>]* </)","ig"):new RegExp("("+i.replace(/ /g,"|")+")","ig"),t.itemsSourceFunction?t.itemsSourceFunction(e,t.maxItems,t._itemsSourceFnCallBackBnd):t._updateItems()}},this._delay))}},t.prototype._itemSourceFunctionCallback=function(e){this._inCallback=!0;var t=wjcCore.asCollectionView(e);t&&t.moveCurrentToPosition(-1),this.itemsSource=t,this._inCallback=!1,this.containsFocus()&&(this.isDroppedDown=!0,this.refresh())},t.prototype.onIsDroppedDownChanged=function(e){if(this.isDroppedDownChanged.raise(this,e),this.containsFocus()&&!this.isDroppedDown&&!this.isTouching&&null==this.selectedItem){var t=this.text.length;wjcCore.setSelectionRange(this._tbx,t)}this._query=""},t.prototype._updateItems=function(){var e=this.collectionView;if(e){this._inCallback=!0,e.beginUpdate(),this._itemCount=0,e.filter=this._filter.bind(this),e.moveCurrentToPosition(-1),e.endUpdate(),this._inCallback=!1;var t=e.items.length;this.isDroppedDown=t>0&&this.containsFocus(),0!=t||this.isEditable||(this.selectedIndex=-1),this.refresh()}},t.prototype._filter=function(e){if(this._itemCount>=this._maxItems)return!1;var t=this._getItemText(e,!1);if(this._srchProps)for(var i=0;i<this._srchProps.length;i++)t+="\0"+e[this._srchProps[i]];return this.isContentHtml&&(t=t.replace(/<[^>]*>/g,"")),!!t.match(this._rxMatch)&&(this._itemCount++,!0)},t.prototype._getItemText=function(e,t){var i=e?e.toString():"",n=t&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return n&&(i=null!=(i=n.getValue(e))?i.toString():""),i},t.prototype._formatListItem=function(e,t){if(this._cssMatch&&this._rxHighlight){var i='<span class="'+this._cssMatch+'">$1</span>';t.item.innerHTML=t.item.innerHTML.replace(this._rxHighlight,i)}},t}(ComboBox);exports.AutoComplete=AutoComplete;var Menu=function(e){function t(t,i){var n=e.call(this,t)||this;n.itemClicked=new wjcCore.Event;var o=n.hostElement,s=n._tbx;wjcCore.addClass(o,"wj-menu"),s.style.display="none";return n._hdr=n._elRef=wjcCore.createElement('<div wj-part="header" class="wj-form-control" style="cursor:default"/>'),s.parentElement.insertBefore(n._hdr,n._tbx),n.isRequired=!1,wjcCore.setAttribute(o,"role","menubar",!0),wjcCore.setAttribute(s,"role",null),wjcCore.setAttribute(s,"aria-autocomplete",null),wjcCore.setAttribute(s,"aria-owns",null),wjcCore.setAttribute(n.dropDown,"role","menu"),n.listBox.itemRole="menuitem","SELECT"==n._orgTag&&(n.header=o.getAttribute("header"),n._lbx.itemsSource&&(n.commandParameterPath="cmdParam")),n.isContentHtml=!0,n.maxDropDownHeight=500,n.addEventListener(n._hdr,"click",function(e){e.defaultPrevented||(n._isButton?(n.isDroppedDown=!1,n._raiseCommand()):n.isDroppedDown=!n.isDroppedDown)}),n.initialize(i),n}return __extends(t,e),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(e){this._hdr.innerHTML=wjcCore.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._command},set:function(e){this._command=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(e){this._cmdPath=wjcCore.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(e){this._cmdParamPath=wjcCore.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isButton",{get:function(){return this._isButton},set:function(e){this._isButton=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner=wjcCore.asType(e,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),t.prototype.show=function(e){if(!this.isDroppedDown){var t=this.dropDown;this.selectedIndex=-1,this.onIsDroppedDownChanging(new wjcCore.CancelEventArgs)&&(this.owner&&(t[wjcCore.Control._OWNR_KEY]=this.owner),wjcCore.showPopup(t,e),this.onIsDroppedDownChanged(),t.focus())}},t.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new wjcCore.CancelEventArgs)&&(wjcCore.hidePopup(this.dropDown),this.onIsDroppedDownChanged())},t.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown?(this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus()):this.selectedItem||(this.selectedItem=this._defaultItem)},t.prototype._keydown=function(t){t.defaultPrevented||t.keyCode==wjcCore.Key.Enter&&(this.isDroppedDown?this.getDisplayText(this.selectedIndex)&&this._raiseCommand():(this.isDroppedDown=!0,t.preventDefault())),e.prototype._keydown.call(this,t)},t.prototype._dropDownClick=function(t){t.defaultPrevented||t.target==this.dropDown||this.getDisplayText(this.selectedIndex)&&this._raiseCommand(),e.prototype._dropDownClick.call(this,t)},t.prototype._raiseCommand=function(e){var t=this.selectedItem,i=this._getCommand(t);if(i){var n=this._cmdParamPath?t[this._cmdParamPath]:null;if(!this._canExecuteCommand(i,n))return;this._executeCommand(i,n)}this.onItemClicked(e)},t.prototype._getCommand=function(e){var t=e&&this.commandPath?e[this.commandPath]:null;return t||this.command},t.prototype._executeCommand=function(e,t){e&&!wjcCore.isFunction(e)&&(e=e.executeCommand),wjcCore.isFunction(e)&&e(t)},t.prototype._canExecuteCommand=function(e,t){if(e){var i=e.canExecuteCommand;if(wjcCore.isFunction(i))return i(t)}return!0},t.prototype._enableDisableItems=function(){if(this.collectionView&&(this.command||this.commandPath))for(var e=this.collectionView.items,t=0;t<e.length;t++){var i=this._getCommand(e[t]),n=this.commandParameterPath?e[t][this.commandParameterPath]:null;if(i){var o=this._lbx.hostElement.children[t];wjcCore.toggleClass(o,"wj-state-disabled",!this._canExecuteCommand(i,n))}}},t}(ComboBox);exports.Menu=Menu,wjcCore.culture.MultiSelect=window.wijmo.culture.MultiSelect||{itemsSelected:"{count:n0} items selected",selectAll:"Select All"};var MultiSelect=function(e){function t(t,i){var n=e.call(this,t)||this;return n._maxHdrItems=2,n._readOnly=!1,n._hdrFmt=wjcCore.culture.MultiSelect.itemsSelected,n.checkedItemsChanged=new wjcCore.Event,wjcCore.addClass(n.hostElement,"wj-multiselect"),n._tbx.readOnly=!0,n.checkedMemberPath=null,n.addEventListener(n.inputElement,"click",function(){n.isDroppedDown=!n.isDroppedDown}),n.addEventListener(n._selectAll,"click",function(e){wjcCore.hasItems(n.collectionView)&&e.target==n._selectAllCheckbox&&(n.checkedItems=e.target.checked?n.collectionView.items:[])}),n.removeEventListener(n.dropDown,"click"),n._updateHeader(),n.listBox.itemsChanged.addHandler(function(){n._updateHeader()}),n.listBox.checkedItemsChanged.addHandler(function(){n._updateHeader(),n.onCheckedItemsChanged()}),n.initialize(i),n}return __extends(t,e),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(e){this._selectAll.style.display=wjcCore.asBoolean(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(e){e!=this._selectAllLabel&&(this._selectAllLabel=wjcCore.asString(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){var e=this.listBox.checkedMemberPath;return e!=t._DEF_CHECKED_PATH?e:null},set:function(e){e=wjcCore.asString(e),this.listBox.checkedMemberPath=e||t._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(e){this._maxHdrItems!=e&&(this._maxHdrItems=wjcCore.asNumber(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(e){e!=this._hdrFmt&&(this._hdrFmt=wjcCore.asString(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(e){e!=this._hdrFormatter&&(this._hdrFormatter=wjcCore.asFunction(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(e){this.listBox.checkedItems=wjcCore.asArray(e)},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype._createDropDown=function(){this._selectAll=wjcCore.createElement('<div class="wj-listbox-item wj-header wj-select-all" tabindex="0" style="display:none"><label><input type="checkbox"> <span></span></label></div>',this._dropDown),this._selectAllCheckbox=this._selectAll.querySelector("input[type=checkbox]"),this._selectAllSpan=this._selectAll.querySelector("label>span"),wjcCore.setText(this._selectAllSpan,wjcCore.culture.MultiSelect.selectAll);var t=wjcCore.createElement('<div style="width:100%;border:none"></div>',this._dropDown);this._lbx=new ListBox(t),e.prototype._createDropDown.call(this)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=wjcCore.asBoolean(e),wjcCore.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._updateHeader(),this._selectAllSpan&&wjcCore.setText(this._selectAllSpan,this._selectAllLabel||wjcCore.culture.MultiSelect.selectAll)},t.prototype.onIsDroppedDownChanged=function(t){var i=this;e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&this.containsFocus()&&setTimeout(function(){i.listBox.focus()},200)},t.prototype._setText=function(e,t){},t.prototype._keydown=function(t){e.prototype._keydown.call(this,t),!t.defaultPrevented&&wjcCore.hasItems(this.collectionView)&&t.keyCode>32&&(this.isDroppedDown=!0)},t.prototype._updateHeader=function(){var e=this.checkedItems;if(wjcCore.isFunction(this._hdrFormatter))this.inputElement.value=this._hdrFormatter();else{var t="";if(e.length>0)if(e.length<=this._maxHdrItems){if(this.displayMemberPath)for(var i=0;i<e.length;i++)e[i]=e[i][this.displayMemberPath];t=e.join(", ")}else t=wjcCore.format(this.headerFormat,{count:e.length});this.inputElement.value=t}var n=null,o=this.collectionView;wjcCore.hasItems(o)&&(0==e.length?n=!1:e.length==o.items.length&&(n=!0)),this._selectAllCheckbox.indeterminate=null==n,null!=n&&(this._selectAllCheckbox.checked=n),this._updateState()},t._DEF_CHECKED_PATH="$checked",t}(ComboBox);exports.MultiSelect=MultiSelect;var MultiAutoComplete=function(e){function t(t,i){var n=e.call(this,t)||this;return n._selItems=[],n._lastInputValue="",n._selPath=new wjcCore.Binding(null),n._notAddItm=!1,n.selectedItemsChanged=new wjcCore.Event,wjcCore.addClass(n.hostElement,"wj-multi-autocomplete"),n.showDropDownButton=!1,n.initialize(i),n._wjTpl=n.hostElement.querySelector(".wj-template"),n._wjInput=n.hostElement.querySelector(".wj-input"),n.addEventListener(n.hostElement,"keyup",n._keyup.bind(n),!0),n.addEventListener(window,"resize",n._adjustInputWidth.bind(n)),n.addEventListener(n._tbx,"focus",function(){n._itemOff()}),n._addHelperInput(),n._initSeltems(),n.listBox.itemsChanged.addHandler(function(){return n.selectedIndex=-1}),n._refreshHeader(),n}return __extends(t,e),Object.defineProperty(t.prototype,"showDropDownButton",{set:function(e){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedItems",{get:function(){return this._maxtems},set:function(e){this._maxtems!=e&&(this._maxtems=wjcCore.asNumber(e,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(e){(e=wjcCore.asString(e))!==this.selectedMemberPath&&(this._selPath.path=e,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selItems},set:function(e){if(this._selItems=wjcCore.asArray(e),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var t=0;t<this._selItems.length;t++){var i=this._selItems[t];this._setSelItem(i,!1)}this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),t.prototype.onSelectedItemsChanged=function(e){this.selectedItemsChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(t){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,e.prototype.onIsDroppedDownChanged.call(this,t)},t.prototype.refresh=function(t){e.prototype.refresh.call(this,t),this._initSeltems(),this.isDroppedDown||this._refreshHeader()},t.prototype._keydown=function(t){if(!this.isReadOnly){if(!t.defaultPrevented)switch(t.keyCode){case wjcCore.Key.Back:this._lastInputValue=this._tbx.value;break;case wjcCore.Key.Enter:this._itemOff(),this._addItem(!0),wjcCore.isIE&&wjcCore.setSelectionRange(this._tbx,0,0);break;case wjcCore.Key.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,t.preventDefault()):this._updateFocus();break;case wjcCore.Key.Space:if(""!==this._tbx.value)return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case wjcCore.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case wjcCore.Key.Left:this._itemOn(!this.rightToLeft);break;case wjcCore.Key.Right:this._itemOn(!!this.rightToLeft);break;case wjcCore.Key.Up:case wjcCore.Key.Down:var i=wjcCore.getActiveElement();if(t.altKey){if(this._tbx==i)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void t.preventDefault()}else if(this._tbx!==i)return;default:if(t.keyCode===wjcCore.Key.Back||t.keyCode===wjcCore.Key.Delete)return;this._itemOff(),null!=this._maxtems&&this._selItems.length>=this._maxtems&&t.preventDefault()}this._tbx.disabled||e.prototype._keydown.call(this,t)}},t.prototype._updateState=function(){e.prototype._updateState.call(this),this._wjTpl&&(wjcCore.hasClass(this.hostElement,"wj-state-focused")||this._itemOff())},t.prototype._keyup=function(e){if(!this.isReadOnly&&!e.defaultPrevented)switch(e.keyCode){case wjcCore.Key.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case wjcCore.Key.Delete:this._delItem(!0)}},t.prototype._addHelperInput=function(){var e=document.createElement("input");e.type="text",e.tabIndex=-1,e.className="wj-token-helper",e.readOnly=!0,this._wjTpl.insertBefore(e,this._wjInput),this._helperInput=e},t.prototype._refreshHeader=function(){for(var e=this.hostElement.querySelectorAll(".wj-token"),t=0;t<e.length;t++)this._wjTpl.removeChild(e[t]);var i=this.selectedItems;if(i&&0!==i.length){for(t=0;t<i.length;t++)this._insertToken(i[t]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}},t.prototype._insertToken=function(e){var t=this._getItemText(e,!0);this.isContentHtml?(this._cvt||(this._cvt=document.createElement("div")),this._cvt.innerHTML=t,t=this._cvt.textContent.trim()):t=wjcCore.escapeHtml(t),this._wjTpl.insertBefore(this._createItem(t),this._wjInput)},t.prototype._updateMaxItems=function(){null!=this._maxtems&&this._selItems&&this._selItems.length>this._maxtems&&(this._selItems=this._selItems.slice(0,this._maxtems))},t.prototype._updateFocus=function(){var e=this,i=this._wjTpl.querySelector("."+t._clsActive);i?(wjcCore.removeClass(i,t._clsActive),setTimeout(function(){e._tbx.focus()})):(this._clearSelIndex(),wjcCore.removeClass(this.hostElement,"wj-state-focused"))},t.prototype._addItem=function(e){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),e&&this._clearSelIndex(),this._disableInput(!0))},t.prototype._delItem=function(e){var i,n,o=this._wjTpl.querySelector("."+t._clsActive),s=!1;e&&!o||(o?(n=this._getItemIndex(o))>-1&&(i=this._selItems[n],s=!0):this._selItems.length>0&&(i=this._selItems[this._selItems.length-1],s=!0),s&&(this._updateSelItems(i,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},t.prototype._updateSelItems=function(e,t){if(t){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxtems&&this._selItems.length>=this._maxtems)return;this._selItems.push(e)}else{var i=this._selItems.indexOf(e);this._selItems.splice(i,1)}this._hasSelectedMemeberPath()&&this._setSelItem(e,t),this.onSelectedItemsChanged()},t.prototype._createItem=function(e){var i=this,n=document.createElement("div"),o=document.createElement("span"),s=document.createElement("a");return n.appendChild(o),n.appendChild(s),n.className="wj-token",o.className="wj-token-label",o.innerHTML=e,s.className="wj-token-close",s.href="#",s.tabIndex=-1,s.text="×",n.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(n,"click",function(e){i._helperInput.focus();var o=i._wjTpl.querySelector("."+t._clsActive);o&&wjcCore.removeClass(o,t._clsActive),wjcCore.addClass(n,t._clsActive),e.stopPropagation(),e.preventDefault()}),this.addEventListener(s,"click",function(e){if(!i.isReadOnly){var t=i._getItemIndex(n);if(t>-1){var o=i._selItems[t];i._updateSelItems(o,!1)}i._wjTpl.removeChild(n),i._adjustInputWidth(),i._disableInput(!1),i._tbx.focus(),e.stopPropagation(),e.preventDefault()}}),n},t.prototype._itemOn=function(e){var i,n,o,s=wjcCore.getActiveElement();if((this._tbx!=s||0===this._tbx.value.length)&&0!==(i=this._wjTpl.querySelectorAll(".wj-token")).length)if(n=this._wjTpl.querySelector("."+t._clsActive),o=this._getItemIndex(n),e){if(0===o)return;-1===o?(wjcCore.addClass(i[i.length-1],t._clsActive),this._helperInput.focus()):(wjcCore.removeClass(n,t._clsActive),wjcCore.addClass(i[o-1],t._clsActive),this._helperInput.focus())}else if(!e){if(-1===o)return;o!==i.length-1?(wjcCore.removeClass(n,t._clsActive),wjcCore.addClass(i[o+1],t._clsActive),this._helperInput.focus()):(wjcCore.removeClass(n,t._clsActive),this._tbx.focus())}},t.prototype._itemOff=function(){var e=this._wjTpl.querySelector("."+t._clsActive);e&&wjcCore.removeClass(e,t._clsActive)},t.prototype._initSeltems=function(){if(this.selectedMemberPath&&""!==this.selectedMemberPath){var e=this.itemsSource;if(this._selItems.splice(0,this._selItems.length),e)for(var t=0;t<e.sourceCollection.length;t++)this._getSelItem(t)&&this._selItems.push(e.sourceCollection[t])}},t.prototype._getSelItem=function(e){var t=this.itemsSource.sourceCollection[e];return!(!wjcCore.isObject(t)||!this.selectedMemberPath)&&this._selPath.getValue(t)},t.prototype._setSelItem=function(e,t){this.itemsSource;wjcCore.isObject(e)&&this._selPath.getValue(e)!=t&&this._selPath.setValue(e,t)},t.prototype._clearSelIndex=function(){this.selectedIndex=-1},t.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},t.prototype._disableInput=function(e){null!=this._maxtems&&(this._selItems.length<this._maxtems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},t.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var e,t=wjcCore.getElementRect(this.hostElement),i=wjcCore.getElementRect(this._tbx),n=getComputedStyle(this._tbx),o=parseInt(n.paddingLeft,10),s=parseInt(n.paddingRight,10);e=this.rightToLeft?i.left+i.width-t.left-o-s-8:t.left+t.width-i.left-o-s-8,this._tbx.style.width=e+"px"},t.prototype._getItemIndex=function(e){for(var t=this.hostElement.querySelectorAll(".wj-token"),i=0;i<t.length;i++)if(e===t[i])return i;return-1},t._clsActive="wj-token-active",t}(AutoComplete);exports.MultiAutoComplete=MultiAutoComplete;var PopupTrigger;!function(e){e[e.None=0]="None",e[e.Click=1]="Click",e[e.Blur=2]="Blur",e[e.ClickOrBlur=3]="ClickOrBlur"}(PopupTrigger=exports.PopupTrigger||(exports.PopupTrigger={}));var Popup=function(e){function t(t,i){var n=e.call(this,t,null,!0)||this;n._showTrigger=PopupTrigger.Click,n._hideTrigger=PopupTrigger.Blur,n._fadeIn=!0,n._fadeOut=!0,n._removeOnHide=!0,n._click=n._handleClick.bind(n),n._mousedown=n._handleMouseDown.bind(n),n._visible=!1,n.showing=new wjcCore.Event,n.shown=new wjcCore.Event,n.hiding=new wjcCore.Event,n.hidden=new wjcCore.Event;var o=n.hostElement;return wjcCore.addClass(o,"wj-control wj-content wj-popup"),o.getAttribute("tabindex")||(o.tabIndex=0),wjcCore.hidePopup(o,!1),n.addEventListener(o,"compositionstart",function(e){n._composing=!0}),n.addEventListener(o,"compositionend",function(e){n._composing=!1}),n.addEventListener(o,"keydown",function(e){if(!e.defaultPrevented){if(e.keyCode!=wjcCore.Key.Escape||n._composing||(e.preventDefault(),n.hide()),e.keyCode==wjcCore.Key.Enter){var t=n.dialogResultEnter;t&&(e.preventDefault(),n._validateAndHide(t))}e.keyCode==wjcCore.Key.Tab&&n.modal&&(e.preventDefault(),wjcCore.moveFocus(o,e.shiftKey?-1:1))}}),n.addEventListener(o,"click",function(e){if(e.target instanceof HTMLElement){var t=e.target.className.match(/\bwj-hide[\S]*\b/);t&&t.length>0&&(e.preventDefault(),e.stopPropagation(),n.hide(t[0]))}}),n.addEventListener(document,"wheel",function(e){if(n.isVisible&&n._modal){for(var t=e.target;t&&t!=document.body;t=t.parentElement)if(t.scrollHeight>t.clientHeight)return;e.preventDefault(),e.stopPropagation()}}),n.initialize(i),n}return __extends(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner&&(this.removeEventListener(this._owner,"mousedown"),this.removeEventListener(this._owner,"click")),this._owner=null!=e?wjcCore.getElement(e):null,this._owner&&(this.addEventListener(this._owner,"mousedown",this._mousedown,!0),this.addEventListener(this._owner,"click",this._click,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(e){e!=this.content&&(this.hostElement.innerHTML="",e instanceof HTMLElement&&this.hostElement.appendChild(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(e){this._showTrigger=wjcCore.asEnum(e,PopupTrigger)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(e){this._hideTrigger=wjcCore.asEnum(e,PopupTrigger)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(e){this._removeOnHide=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal},set:function(e){this._modal=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResult",{get:function(){return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(e){this._resultEnter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.hostElement;return this._visible&&null!=e&&e.offsetHeight>0},enumerable:!0,configurable:!0}),t.prototype.show=function(e,t){var i=this;if(!this.isVisible){var n=this.hostElement;this.dialogResult=null,this._callback=null,this._hideAnim&&(clearInterval(this._hideAnim),this._hideAnim=null),e&&this.addEventListener(window,"focus",function(){i.containsFocus()||wjcCore.moveFocus(n,0)});var o=new wjcCore.CancelEventArgs;if(this.onShowing(o)){null!=e&&(this.modal=wjcCore.asBoolean(e)),null!=t&&(this._callback=wjcCore.asFunction(t));var s=this._owner?this._owner.getBoundingClientRect():null;wjcCore.showPopup(n,s,!1,this._fadeIn),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(o),setTimeout(function(){if(!i.isTouching){var e=n.querySelector("input[autofocus]");e&&e.clientHeight>0&&!e.disabled&&e.tabIndex>-1&&!wjcCore.closest(e,"[disabled],.wj-state-disabled")?(e.focus(),e.select()):wjcCore.moveFocus(n,0)}i.containsFocus()||(n.tabIndex=0,n.focus())},200)}}},t.prototype.hide=function(e){var t=this;if(this.isVisible){wjcCore.isUndefined(e)||(this.dialogResult=e);var i=new wjcCore.CancelEventArgs;if(this.onHiding(i)){for(var n=this.hostElement.querySelectorAll(".wj-control.wj-dropdown"),o=0;o<n.length;o++){var s=wjcCore.Control.getControl(n[o]);s instanceof DropDown&&(s.isDroppedDown=!1)}this._modal&&wjcCore.hidePopup(this._bkdrop,this.removeOnHide,this.fadeOut),this._hideAnim=wjcCore.hidePopup(this.hostElement,this.removeOnHide,this.fadeOut),this._visible=!1,this.removeEventListener(window,"focus"),this.containsFocus()&&document.activeElement.blur(),setTimeout(function(){t._updateState(),t.onHidden(i),t._callback&&t._callback(t)})}}},t.prototype.onShowing=function(e){return this.showing.raise(this,e),!e.cancel},t.prototype.onShown=function(e){this.shown.raise(this,e)},t.prototype.onHiding=function(e){return this.hiding.raise(this,e),!e.cancel},t.prototype.onHidden=function(e){this.hidden.raise(this,e)},t.prototype.dispose=function(){this._owner=null,e.prototype.dispose.call(this)},t.prototype.onLostFocus=function(t){this.isVisible&&this._hideTrigger&PopupTrigger.Blur&&(this.containsFocus()||this.hide()),e.prototype.onLostFocus.call(this,t)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.isVisible&&!this._refreshing){this._refreshing=!0;var i=wjcCore.getActiveElement(),n=this._owner?this._owner.getBoundingClientRect():null;wjcCore.showPopup(this.hostElement,n),this._modal&&i instanceof HTMLElement&&i!=wjcCore.getActiveElement()&&i.focus(),this._refreshing=!1}},t.prototype._handleResize=function(){this.isVisible&&this.refresh()},t.prototype._handleClick=function(e){this.isVisible?this._hideTrigger&PopupTrigger.Click&&this.hide():this._showTrigger&PopupTrigger.Click&&(this._wasVisible||this.show())},t.prototype._handleMouseDown=function(e){this._wasVisible=this.isVisible},t.prototype._showBackdrop=function(){var e=this;this._bkdrop||(this._bkdrop=document.createElement("div"),this._bkdrop.tabIndex=-1,wjcCore.addClass(this._bkdrop,"wj-popup-backdrop"),this.addEventListener(this._bkdrop,"mousedown",function(t){t.preventDefault(),t.stopPropagation(),e.hostElement.focus(),e.hideTrigger&PopupTrigger.Blur&&e.hide()})),this._bkdrop.style.display="";var t=this.hostElement;t.parentElement.insertBefore(this._bkdrop,t)},t.prototype._validateAndHide=function(e){var t=this.hostElement.querySelector(":invalid");t?t.focus():this.hide(e)},t}(wjcCore.Control);exports.Popup=Popup;var InputDate=function(e){function t(t,i){var n=e.call(this,t)||this;if(n._format="d",n.valueChanged=new wjcCore.Event,wjcCore.addClass(n.hostElement,"wj-inputdate"),n._msk=new wjcCore._MaskProvider(n._tbx),wjcCore.isIE9()||(n._tbx.type="tel"),n.addEventListener(n.hostElement,"wheel",function(e){if(!e.defaultPrevented&&!n.isDroppedDown&&n.containsFocus()&&null!=n.value&&n._canChangeValue()){var t=wjcCore.clamp(-e.deltaY,-1,1);n.value=n.selectionMode==DateSelectionMode.Month?wjcCore.DateTime.addMonths(n.value,t):wjcCore.DateTime.addDays(n.value,t),n.selectAll(),e.preventDefault()}}),n.value=wjcCore.DateTime.newDate(),"INPUT"==n._orgTag){var o=n._tbx.getAttribute("value");o&&(n.value=wjcCore.Globalize.parseDate(o,"yyyy-MM-dd"))}return n.isRequired=!0,n.initialize(i),n}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){wjcCore.DateTime.equals(this._value,e)?this._tbx.value=wjcCore.Globalize.format(e,this.format):(e=wjcCore.asDate(e,!this.isRequired||null==e&&null==this._value),e=this._clamp(e),this._isValidDate(e)?(this._tbx.value=e?wjcCore.Globalize.format(e,this.format):"",e==this._value||wjcCore.DateTime.equals(this._value,e)||(this._value=e,this.onValueChanged())):this._tbx.value=e?wjcCore.Globalize.format(this.value,this.format):"",this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(e){this.calendar.selectionMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._calendar.min},set:function(e){this._calendar.min=wjcCore.asDate(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._calendar.max},set:function(e){this._calendar.max=wjcCore.asDate(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=wjcCore.asString(e),this._tbx.value=wjcCore.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=wjcCore.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=wjcCore.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(e){e!=this.itemValidator&&(this._calendar.itemValidator=wjcCore.asFunction(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(e){e!=this.itemFormatter&&(this.calendar.itemFormatter=wjcCore.asFunction(e))},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.refresh=function(){this.isDroppedDown=!1,this._msk&&this._msk.refresh(),this._calendar&&this._calendar.refresh(),this._tbx.value=wjcCore.Globalize.format(this.value,this.format)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._calChanged=!1,this.dropDown.focus())},t.prototype._createDropDown=function(){var e=this;this._calendar=new Calendar(this._dropDown),this._dropDown.tabIndex=-1,this._calendar.valueChanged.addHandler(function(){e.value=wjcCore.DateTime.fromDateTime(e._calendar.value,e.value),e._calChanged=!0}),this.addEventListener(this._dropDown,"mouseup",function(t){e._calChanged&&!wjcCore.closest(t.target,".wj-calendar-header")?e.isDroppedDown=!1:"btn-today"==t.target.getAttribute("wj-part")&&(e.isDroppedDown=!1)})},t.prototype._updateDropDown=function(){this._commitText();var t=this._calendar;t.value=this.value,t.min=this.min,t.max=this.max,this.selectionMode!=DateSelectionMode.Month&&(t.monthView=!0);var i=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(i.fontSize)+"px",this._calendar.refresh(),e.prototype._updateDropDown.call(this)},t.prototype._keydown=function(t){if(!(t.defaultPrevented||t.altKey||t.ctrlKey||t.metaKey))switch(t.keyCode){case wjcCore.Key.Enter:this._commitText(),this.selectAll();break;case wjcCore.Key.Escape:this.text=wjcCore.Globalize.format(this.value,this.format),this.selectAll();break;case wjcCore.Key.Up:case wjcCore.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var i=t.keyCode==wjcCore.Key.Up?1:-1,n=this.selectionMode==DateSelectionMode.Month?wjcCore.DateTime.addMonths(this.value,i):wjcCore.DateTime.addDays(this.value,i);this.value=wjcCore.DateTime.fromDateTime(n,this.value),this.selectAll(),t.preventDefault()}}e.prototype._keydown.call(this,t)},t.prototype._canChangeValue=function(){return!this.isReadOnly&&this.selectionMode!=DateSelectionMode.None},t.prototype._clamp=function(e){return this.calendar._clamp(e)},t.prototype._commitText=function(){var e=this._tbx.value;if(e||this.isRequired){var t=wjcCore.Globalize.parseDate(e,this.format);t?this.value=wjcCore.DateTime.fromDateTime(t,this.value):this._tbx.value=wjcCore.Globalize.format(this.value,this.format)}else this.value=null},t.prototype._isValidDate=function(e){if(e){if(this._clamp(e)!=e)return!1;if(this.itemValidator&&!this.itemValidator(e))return!1}return!0},t}(DropDown);exports.InputDate=InputDate;var InputTime=function(e){function t(t,i){var n=e.call(this,t)||this;if(n._format="t",n.valueChanged=new wjcCore.Event,wjcCore.addClass(n.hostElement,"wj-inputtime"),n._value=wjcCore.DateTime.newDate(),n._msk=new wjcCore._MaskProvider(n._tbx),wjcCore.isIE9()||(n._tbx.type="tel"),"INPUT"==n._orgTag){var o=n._tbx.getAttribute("value");o&&(n.value=wjcCore.Globalize.parseDate(o,"HH:mm:ss"))}return n.step=15,n.autoExpandSelection=!0,n.initialize(i),n}return __extends(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=wjcCore.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){(e=wjcCore.asDate(e,!this.isRequired))&&(null!=this._min&&this._getTime(e)<this._getTime(this._min)&&(e=wjcCore.DateTime.fromDateTime(e,this._min)),null!=this._max&&this._getTime(e)>this._getTime(this._max)&&(e=wjcCore.DateTime.fromDateTime(e,this._max))),this._setText(e?wjcCore.Globalize.format(e,this.format):"",!0),e==this._value||wjcCore.DateTime.equals(e,this._value)||(this._value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=wjcCore.asDate(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=wjcCore.asDate(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=wjcCore.asNumber(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=wjcCore.asString(e),this._tbx.value=wjcCore.Globalize.format(this.value,this.format),wjcCore.hasItems(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=wjcCore.asString(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onItemsSourceChanged=function(t){e.prototype.onItemsSourceChanged.call(this,t),this._hasCustomItems=null!=this.itemsSource},t.prototype._updateInputSelection=function(t){if(this._delKey)e.prototype._updateInputSelection.call(this,t);else{for(var i=this._tbx.value;t<i.length&&!i[t].match(/[a-z0-9]/i);)t++;wjcCore.setSelectionRange(this._tbx,t,this._tbx.value.length)}},t.prototype.refresh=function(){this.isDroppedDown=!1,this._msk.refresh(),this._tbx.value=wjcCore.Globalize.format(this.value,this.format),this._updateItems()},t.prototype.onSelectedIndexChanged=function(t){if(this.selectedIndex>-1&&!this._settingText){var i=this.value?this.value:wjcCore.DateTime.newDate(),n=null!=this.selectedItem.value?this.selectedItem.value:wjcCore.Globalize.parseDate(this.text,this.format);this.value=wjcCore.DateTime.fromDateTime(i,n)}e.prototype.onSelectedIndexChanged.call(this,t)},t.prototype._updateItems=function(){if(!this._hasCustomItems){var e=[],t=wjcCore.DateTime.newDate(0,0,0,0,0),i=wjcCore.DateTime.newDate(0,0,0,23,59,59);if(this.min&&t.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&i.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),wjcCore.isNumber(this.step)&&this.step>0)for(var n=t;n<=i;n=wjcCore.DateTime.addMinutes(n,this.step))e.push({value:n,text:wjcCore.Globalize.format(n,this.format)});var o=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=e,this._hasCustomItems=!1,this._settingText=!1,this.value=o}},t.prototype._getTime=function(e){return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},t.prototype._keydown=function(t){if(e.prototype._keydown.call(this,t),!t.defaultPrevented)switch(t.keyCode){case wjcCore.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case wjcCore.Key.Escape:this.text=wjcCore.Globalize.format(this.value,this.format),this.selectAll()}},t.prototype._commitText=function(){if(this.text||this.isRequired){var e=this.value?wjcCore.Globalize.format(this.value,this.format):null;if(this.text!=e){var t=this.selectedItem?this.selectedItem.value:wjcCore.Globalize.parseDate(this.text,this.format);t?this.value=wjcCore.DateTime.fromDateTime(this.value,t):this._tbx.value=e}}else this.value=null},t}(ComboBox);exports.InputTime=InputTime;var InputDateTime=function(e){function t(t,i){var n=e.call(this,t)||this;wjcCore.addClass(n.hostElement,"wj-inputdatetime"),n._btnTm=n.hostElement.querySelector('[wj-part="btn-tm"]'),n._format="g",n._inputTime=new InputTime(document.createElement("div")),n._inputTime.valueChanged.addHandler(function(){n.value=wjcCore.DateTime.fromDateTime(n.value,n._inputTime.value),n.containsFocus()&&(n.isTouching&&n.showDropDownButton||n.selectAll())});var o=n._inputTime.dropDown,s=n._keydown.bind(n);return n.addEventListener(o,"keydown",s,!0),n.addEventListener(o,"blur",function(){n._updateFocusState()},!0),n.addEventListener(n._btnTm,"click",n._btnclick.bind(n)),n.addEventListener(n._btn,"mousedown",function(){n._setDropdown(n.calendar.hostElement)}),n.addEventListener(n._btnTm,"mousedown",function(e){n.isDroppedDown&&n.dropDown==o&&e.preventDefault(),n._inputTime.dropDownCssClass=n.dropDownCssClass,n._setDropdown(o)}),n.initialize(i),n}return __extends(t,e),Object.defineProperty(t.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(e){this._inputTime.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(e){this._inputTime.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(e){this._inputTime.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(e){this._inputTime.step=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._setDropdown(this.calendar.hostElement),e.prototype.dispose.call(this),this._inputTime.dispose()},t.prototype.refresh=function(){this._setDropdown(this.calendar.hostElement),e.prototype.refresh.call(this),this._inputTime.refresh()},t.prototype._updateBtn=function(){e.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},t.prototype._clamp=function(e){return e&&(this.min&&e<this.min&&(e=this.min),this.max&&e>this.max&&(e=this.max)),e},t.prototype._commitText=function(){var e=this._tbx.value;if(e||this.isRequired){var t=wjcCore.Globalize.parseDate(e,this.format);t?this.value=t:this._tbx.value=wjcCore.Globalize.format(this.value,this.format)}else this.value=null},t.prototype._setDropdown=function(e){this._dropDown!=e&&(this.isDroppedDown&&(this.isDroppedDown=!1),this._dropDown=e)},t.prototype._updateDropDown=function(){var t=this._inputTime;this._dropDown==t.dropDown?(this._commitText(),e.prototype._updateDropDown.call(this),t.isRequired=this.isRequired,t.value=this.value,this.isDroppedDown&&t.listBox.showSelection()):e.prototype._updateDropDown.call(this)},t.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span class="wj-input-group-btn" tabindex="-1"><button wj-part="btn" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100;width:auto"></div></div>',t}(InputDate);exports.InputDateTime=InputDateTime;var InputNumber=function(e){function t(t,i){var n=e.call(this,t)||this;n._showBtn=!0,n._readOnly=!1,n.textChanged=new wjcCore.Event,n.valueChanged=new wjcCore.Event;var o=n.hostElement;wjcCore.setAttribute(o,"role","spinbutton",!0);var s=n.getTemplate();n.applyTemplate("wj-control wj-inputnumber wj-content",s,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var r=n._tbx;return r.autocomplete="off",r.spellcheck=!1,n._updateSymbols(),n.addEventListener(n._tbx,"compositionstart",function(){n._composing=!0}),n.addEventListener(n._tbx,"compositionend",function(){n._composing=!1,setTimeout(function(){n._setText(n.text)})}),n.addEventListener(r,"keypress",n._keypress.bind(n)),n.addEventListener(r,"keydown",n._keydown.bind(n)),n.addEventListener(r,"input",n._input.bind(n)),n.addEventListener(n._btnUp,"click",n._clickSpinner.bind(n)),n.addEventListener(n._btnDn,"click",n._clickSpinner.bind(n)),n.addEventListener(o,"wheel",function(e){if(!e.defaultPrevented&&!n.isReadOnly&&n.containsFocus()&&null!=n.value){var t=wjcCore.clamp(-e.deltaY,-1,1);n._increment((n.step||1)*t),setTimeout(function(){return n.selectAll()}),e.preventDefault()}}),n.value=0,n.isRequired=!0,n.initialize(i),n}return __extends(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=wjcCore.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this._value)if(null==(e=wjcCore.asNumber(e,!this.isRequired||null==e&&null==this._value)))this._setText("");else if(!isNaN(e)){var t=wjcCore.Globalize.format(e,this.format);this._setText(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=wjcCore.asBoolean(e),this.inputElement.readOnly=this._readOnly,wjcCore.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=wjcCore.asNumber(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=wjcCore.asNumber(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=wjcCore.asNumber(e,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=wjcCore.asString(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._oldText=null,this._setText(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(e){this._showBtn=wjcCore.asBoolean(e),this._updateBtn()},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;wjcCore.setSelectionRange(e,0,e.value.length)},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onValueChanged=function(e){this._updateAria(),this.valueChanged.raise(this,e)},t.prototype.onGotFocus=function(t){this.isTouching||(this._tbx.focus(),this.selectAll()),e.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text));var i=this._clamp(this.value),n=wjcCore.Globalize.format(i,this.format);this._setText(n),e.prototype.onLostFocus.call(this,t)},t.prototype.refresh=function(e){this._updateSymbols();var t=wjcCore.Globalize.format(this.value,this.format);this._setText(t)},t.prototype._updateSymbols=function(){var e=wjcCore.culture.Globalize.numberFormat,t=this.format?this.format.match(/([a-z])(\d*)(,*)(.*)/i):null;this._chrDec=e["."]||".",this._chrCur=t&&t[4]?t[4]:e.currency.symbol||"$",this._fmtSpc=t&&t[1]?t[1].toLowerCase():"n",this._fmtPrc=t&&t[2]?parseInt(t[2]):null,this._rxSym=new RegExp("^[%+\\-() "+this._chrDec+this._chrCur+"]*$"),this._rxNeg=new RegExp("(\\-|\\()")},t.prototype._clamp=function(e){return wjcCore.clamp(e,this.min,this.max)},t.prototype._isNumeric=function(e,t){var i=e==this._chrDec||e>="0"&&e<="9";return i||t||(i="+-()".indexOf(e)>-1),i},t.prototype._getInputRange=function(e){for(var t=[0,0],i=this.text,n=!1,o=0;o<i.length;o++)this._isNumeric(i[o],e)&&(n||(t[0]=o,n=!0),t[1]=o+1);return t},t.prototype._flipSign=function(){var e=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(e)},t.prototype._getSelStartDigits=function(){for(var e=0,t=this._tbx.selectionStart,i=this._tbx.value,n=0;n<i.length&&n<t;n++)this._isNumeric(i[n],!0)&&e++;return e},t.prototype._setSelStartDigits=function(e){for(var t=this._tbx.value,i=0;i<t.length&&e>=0;i++)if(this._isNumeric(t[i],!0)){if(!e){wjcCore.setSelectionRange(this._tbx,i);break}e--}else if(!e){wjcCore.setSelectionRange(this._tbx,i);break}},t.prototype._increment=function(e){if(e){var t=this._clamp(this.value+e),i=wjcCore.Globalize.format(t,this.format,!1,!1);this._setText(i)}},t.prototype._updateBtn=function(){var e=this.showSpinner&&!!this.step,t=e&&wjcCore.isNumber(this.value);wjcCore.setCss([this._btnUp,this._btnDn],{display:e?"":"none"}),wjcCore.toggleClass(this.hostElement,"wj-input-show-spinner",e),wjcCore.enable(this._btnUp,t),wjcCore.enable(this._btnDn,t),this._updateAria()},t.prototype._setText=function(e){var t=this._tbx;if(!this._composing){var i=this._rxNeg.test(e),n=this._delKey;if(e&&this._rxSym.test(e)&&(e=this.isRequired||!n?"0":""),this._delKey=!1,n&&0==this.value&&!this.isRequired&&(e=""),!e){if(!this.isRequired)return t.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=e,this.onTextChanged()),void this._updateBtn();e="0"}var o=this._format||(e.indexOf(this._chrDec)>-1?"n2":"n0"),s=wjcCore.Globalize.parseFloat(e,o);if(isNaN(s))t.value=this._oldText;else{var r=wjcCore.Globalize.format(s,o,!1);i&&s>=0&&(r="-"+r),null!=this._fmtPrc&&"g"!=this._fmtSpc||n||t.value[t.selectionStart-1]!=this._chrDec||(r=e+("0"==e?this._chrDec:"")),t.value!=r&&(t.value=r,s=wjcCore.Globalize.parseFloat(r,this.format)),s!=this._value&&(this._value=s,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn()}}},t.prototype._keypress=function(e){if(!(e.defaultPrevented||this._composing||this.isReadOnly)&&e.charCode&&!e.ctrlKey&&!e.metaKey){var t=this._tbx,i=String.fromCharCode(e.charCode);if(this._isNumeric(i,!1)){var n=this._getInputRange(!0),o=t.selectionStart,s=t.selectionEnd;if(o<n[0]&&s<t.value.length&&wjcCore.setSelectionRange(t,n[0],s),o>=n[1]){var r=null!=this._fmtPrc?this._fmtPrc:2,a=t.value.indexOf(this._chrDec);a>-1&&o-a>r&&e.preventDefault()}}else e.preventDefault();switch(i){case"-":if(this.min>=0)this.value<0&&this._flipSign();else if(this.value&&t.selectionStart==t.selectionEnd)this._flipSign();else{this._setText("-");var l=this.text.indexOf(this._chrDec);l<0&&(l=this._getInputRange(!0)[1]),wjcCore.setSelectionRange(t,l)}e.preventDefault();break;case"+":this.value<0&&this._flipSign(),e.preventDefault();break;case this._chrDec:if(0==this._fmtPrc)e.preventDefault();else{var c=t.value.indexOf(i);c>-1&&(t.selectionStart<=c&&c++,wjcCore.setSelectionRange(t,c),e.preventDefault())}}}},t.prototype._keydown=function(e){var t=this;if(this._delKey=!1,!e.defaultPrevented&&!this._composing){var i=this._tbx,n=i.value,o=i.selectionStart,s=i.selectionEnd;switch(e.keyCode){case 65:e.ctrlKey&&(setTimeout(function(){t.selectAll()}),e.preventDefault());break;case wjcCore.Key.Up:case wjcCore.Key.Down:this.step&&!this.isReadOnly&&(this._increment(this.step*(e.keyCode==wjcCore.Key.Up?1:-1)),setTimeout(function(){t.selectAll()}),e.preventDefault());break;case wjcCore.Key.Back:if(this._delKey=!0,s-o<2&&!this.isReadOnly){var r=n[s-1];r!=this._chrDec&&"%"!=r&&")"!=r||(setTimeout(function(){s="%"==r?t._getInputRange(!0)[1]:s-1,wjcCore.setSelectionRange(i,s)}),e.preventDefault())}break;case wjcCore.Key.Delete:if(this._delKey=!0,s-o<2&&!this.isReadOnly)if("0"==n&&1==o)wjcCore.setSelectionRange(i,0);else{var a=n[o];a!=this._chrDec&&"%"!=a||(setTimeout(function(){wjcCore.setSelectionRange(i,o+1)}),e.preventDefault())}}}},t.prototype._input=function(e){var t=this;this._composing||setTimeout(function(){var e=t._tbx,i=e.value,n=i.indexOf(t._chrDec),o=e.selectionStart,s=t._getSelStartDigits();if("p"==t._fmtSpc&&i.length&&i.indexOf("%")<0&&(i+="%"),t._setText(i),t.containsFocus()){var r=e.value,a=r.indexOf(t._chrDec),l=t._getInputRange(!0);if("-"==i[0]&&"-"!=r[0])return void t._setSelStartDigits(n<0||o<=n?s-1:s);i?i==t._chrDec&&a>-1?o=a+1:o<=n&&a>-1||n<0&&a<0?o+=r.length-i.length:n<0&&a>-1&&(o=a):o=a>-1?a:l[1],o=wjcCore.clamp(o,l[0],l[1]),wjcCore.setSelectionRange(e,o)}})},t.prototype._clickSpinner=function(e){var t=this;e.defaultPrevented||this.isReadOnly||!this.step||null==this.value||(this._increment(this.step*(wjcCore.contains(this._btnUp,e.target)?1:-1)),this.isTouching||setTimeout(function(){return t.selectAll()}))},t.prototype._updateAria=function(){var e=this.hostElement;wjcCore.setAttribute(e,"aria-valuemin",this.min),wjcCore.setAttribute(e,"aria-valuemax",this.max),wjcCore.setAttribute(e,"aria-valuenow",this.value)},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">+</button></span></div></div>',t}(wjcCore.Control);exports.InputNumber=InputNumber;var InputMask=function(e){function t(t,i){var n=e.call(this,t)||this;n.valueChanged=new wjcCore.Event;var o=n.getTemplate();if(n.applyTemplate("wj-control wj-inputmask wj-content",o,{_tbx:"input"},"input"),"INPUT"==n._orgTag){var s=n._tbx.getAttribute("value");s&&(n.value=s)}return n._msk=new wjcCore._MaskProvider(n._tbx),n.isRequired=!0,n.initialize(i),n.addEventListener(n._tbx,"input",function(){setTimeout(function(){n.onValueChanged()})}),n}return __extends(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._tbx.value},set:function(e){if(e!=this.value){this._tbx.value=wjcCore.asString(e);var t=wjcCore.getActiveElement();this._tbx.selectionStart=this._tbx.value.length,t&&t!=wjcCore.getActiveElement()&&t.focus(),e=this._msk._applyMask(),this._tbx.value=e,this.onValueChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(e){e!=this.rawValue&&(this.value=wjcCore.asString(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){var t=this.value;this._msk.mask=wjcCore.asString(e),this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(e){var t=this.value;this._msk.promptChar=e,this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=wjcCore.asBoolean(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._msk.getMaskRange();wjcCore.setSelectionRange(this._tbx,e[0],e[1]+1)},t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e),this._updateState()},t.prototype.refresh=function(t){e.prototype.refresh.call(this,t),this._msk.refresh()},t.prototype.onGotFocus=function(t){e.prototype.onGotFocus.call(this,t),this.selectAll()},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',t}(wjcCore.Control);exports.InputMask=InputMask;var InputColor=function(e){function t(t,i){var n=e.call(this,t)||this;return n.valueChanged=new wjcCore.Event,wjcCore.addClass(n.hostElement,"wj-inputcolor"),n._tbx.style.paddingLeft="24px",n._ePreview=wjcCore.createElement('<div class="wj-inputcolorbox" style="position:absolute;left:6px;top:6px;width:12px;bottom:6px;border:1px solid black"></div>'),n.hostElement.style.position="relative",n.hostElement.appendChild(n._ePreview),"INPUT"==n._orgTag&&(n._tbx.type="",n._commitText()),n.value="#ffffff",n.isRequired=!0,n.initialize(i),n.addEventListener(n._colorPicker.hostElement,"click",function(e){var t=e.target;t&&"DIV"==t.tagName&&(wjcCore.closest(t,'[wj-part="div-pal"]')||wjcCore.closest(t,'[wj-part="div-pv"]'))&&t.style.backgroundColor&&(n.isDroppedDown=!1)}),n}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e!=this.value&&(!e&&this.isRequired||(this.text=wjcCore.asString(e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(wjcCore.asString(e),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(e){this._colorPicker.showAlphaChannel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(e){this._colorPicker.palette=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype._createDropDown=function(){var e=this;this._colorPicker=new ColorPicker(this._dropDown),wjcCore.setCss(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){e.value=e._colorPicker.value})},t.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case wjcCore.Key.Enter:this._commitText(),this.selectAll();break;case wjcCore.Key.Escape:this.text=this.value,this.selectAll()}e.prototype._keydown.call(this,t)},t.prototype._commitText=function(){if(this.value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,void(this._ePreview.style.backgroundColor="");wjcCore.Color.fromString(this.text)?(this._colorPicker.value=this.text,this._value=this._colorPicker.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()):this.text=this._value?this._value:""}},t}(DropDown);exports.InputColor=InputColor;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
    *
    * Wijmo Library 5.20173.380
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
function getVersion(){return _VERSION}function tryCast(t,e){return null==t?null:isString(e)?isFunction(t.implementsInterface)&&t.implementsInterface(e)?t:null:t instanceof e?t:null}function isPrimitive(t){return isString(t)||isNumber(t)||isBoolean(t)||isDate(t)}function isString(t){return"string"==typeof t}function isNullOrWhiteSpace(t){return null==t||t.replace(/\s/g,"").length<1}function isNumber(t){return"number"==typeof t}function isInt(t){return isNumber(t)&&t==Math.round(t)}function isBoolean(t){return"boolean"==typeof t}function isFunction(t){return"function"==typeof t}function isUndefined(t){return void 0===t}function isDate(t){return t instanceof Date&&!isNaN(t.getTime())}function isArray(t){return t instanceof Array}function isObject(t){return null!=t&&"object"==typeof t&&!isDate(t)&&!isArray(t)}function getUniqueId(t){for(var e=t,n=0;null!=document.getElementById(e);n++)e=t+n;return e}function mouseToPage(t){if(t instanceof Point)return t;if(t.touches&&t.touches.length>0&&(t=t.touches[0]),isNumber(t.clientX)&&isNumber(t.clientY))return new Point(t.clientX+pageXOffset,t.clientY+pageYOffset);throw"Mouse or touch event expected."}function getType(t){return isNumber(t)?DataType.Number:isBoolean(t)?DataType.Boolean:isDate(t)?DataType.Date:isString(t)?DataType.String:isArray(t)?DataType.Array:DataType.Object}function changeType(t,e,n){if(null!=t){if(isString(t))switch(e){case DataType.Number:var r=Globalize.parseFloat(t,n);return isNaN(r)?t:r;case DataType.Date:var i=Globalize.parseDate(t,n);return i||n||!t||(i=new Date(t)),i&&isFinite(i.getTime())?i:t;case DataType.Boolean:switch(t.toLowerCase()){case"true":return!0;case"false":return!1}return t}if(e==DataType.String)return Globalize.format(t,n)}return t}function toFixed(t,e,n){if(n){var r=(i=t.toString()).indexOf(".");r>-1&&(i=i.substr(0,r+1+e),t=parseFloat(i))}else{var i=t.toFixed(e);t=parseFloat(i)}return t}function format(t,e,n){if((t=asString(t)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var r=JSON.parse(t);if(isString(r.count)){var i=e[r.count],o=r.when;if(isNumber(i)&&isObject(o)){var s=o[i]||o.other;isString(s)&&(t=s)}}}catch(t){}return t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,r,i,o){var s=t;return r&&"{"!=r[0]&&e&&(s=e[r],o&&(s=Globalize.format(s,o)),n&&(s=n(e,r,o,s))),null==s?"":s})}function clamp(t,e,n){return null!=t&&(null!=n&&t>n&&(t=n),null!=e&&t<e&&(t=e)),t}function copy(t,e){if(e)for(var n in e)if("_"!=n[0]){assert(n in t,'Unknown property "'+n+'".');var r=e[n];t._copy&&t._copy(n,r)||(t[n]instanceof Event&&isFunction(r)?t[n].addHandler(r):!isObject(r)||r instanceof Element||!t[n]||"itemsSource"==n?t[n]=r:copy(t[n],r))}}function assert(t,e){if(!t)throw"** Assertion failed in Wijmo: "+e}function _deprecated(t,e){console.error('** WARNING: "'+t+'" has been deprecated; please use "'+e+'" instead.')}function asString(t,e){return void 0===e&&(e=!0),assert(e&&null==t||isString(t),"String expected."),t}function asNumber(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),assert(e&&null==t||isNumber(t),"Number expected."),n&&t&&t<0)throw"Positive number expected.";return t}function asInt(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),assert(e&&null==t||isInt(t),"Integer expected."),n&&t&&t<0)throw"Positive integer expected.";return t}function asBoolean(t,e){return void 0===e&&(e=!1),assert(e&&null==t||isBoolean(t),"Boolean expected."),t}function asDate(t,e){if(void 0===e&&(e=!1),isString(t)){var n=changeType(t,DataType.Date,"r");isDate(n)&&(t=n)}return assert(e&&null==t||isDate(t),"Date expected."),t}function asFunction(t,e){return void 0===e&&(e=!0),assert(e&&null==t||isFunction(t),"Function expected."),t}function asArray(t,e){return void 0===e&&(e=!0),assert(e&&null==t||isArray(t),"Array expected."),t}function asType(t,e,n){return void 0===n&&(n=!1),t=tryCast(t,e),assert(n||null!=t,e+" expected."),t}function asEnum(t,e,n){if(void 0===n&&(n=!1),null==t&&n)return null;var r=e[t];return assert(null!=r,"Invalid enum value."),isNumber(r)?r:t}function asCollectionView(t,e){if(void 0===e&&(e=!0),null==t&&e)return null;var n=tryCast(t,"ICollectionView");return null!=n?n:(isArray(t)||assert(!1,"Array or ICollectionView expected."),new CollectionView(t))}function hasItems(t){return null!=t&&null!=t.items&&t.items.length>0}function toHeaderCase(t){return t&&t.length?t[0].toUpperCase()+t.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function escapeHtml(t){return isString(t)&&(t=t.replace(/[&<>"'\/]/g,function(t){return _ENTITYMAP[t]})),t}function hasClass(t,e){if(t&&t.getAttribute){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");return t&&n.test(t.getAttribute("class"))}return!1}function removeClass(t,e){if(t&&e&&t.setAttribute)for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r];if(hasClass(t,i)){var o=new RegExp("((\\s|^)"+i+"(\\s|$))","g"),s=t.getAttribute("class");s=s.replace(o," ").replace(/ +/g," ").trim(),t.setAttribute("class",s)}}}function addClass(t,e){if(t&&e&&t.setAttribute)for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r];if(!hasClass(t,i)){var o=t.getAttribute("class");t.setAttribute("class",o?o+" "+i:i)}}}function toggleClass(t,e,n){null==n&&(n=!hasClass(t,e)),n?addClass(t,e):removeClass(t,e)}function setAttribute(t,e,n,r){null!=n?r&&t.getAttribute(e)||t.setAttribute(e,n.toString()):t.removeAttribute(e)}function setSelectionRange(t,e,n){if(void 0===n&&(n=e),t=asType(t,HTMLInputElement),contains(document.body,t)&&!t.disabled&&"none"!=t.style.display)try{t.setSelectionRange(asNumber(e),asNumber(n),isIE()?null:"backward"),t.focus()}catch(t){}}function getActiveElement(){var t=document.activeElement;if(t){var e=t.shadowRoot;e&&e.activeElement&&(t=e.activeElement)}return t}function moveFocus(t,e){for(var n="input,select,textarea,button,a,div",r=t.querySelectorAll(n),i=[],o=0;o<r.length;o++)if((u=r[o]).offsetHeight>0&&u.tabIndex>-1&&!u.disabled&&!closest(u,"[disabled],.wj-state-disabled")){if(isIE()&&!u.hasAttribute("tabindex")){var s=Control.getControl(closest(u,".wj-flexgrid"));if(s&&0==s.keyActionTab)continue}!Control.getControl(u)&&u.querySelector(n)||i.push(u)}var a=0;if(e&&(o=i.indexOf(getActiveElement()))>-1&&(a=(o+e+i.length)%i.length),a<i.length){var u=i[a];u.focus(),u instanceof HTMLInputElement&&u.select()}}function getElement(t){return t instanceof Element?t:isString(t)?document.querySelector(t):t&&t.jquery?t[0]:null}function createElement(t,e){var n=document.createElement("div");return n.innerHTML=t,1==n.children.length&&(n=n.children[0]),e&&e.appendChild(n),n}function setText(t,e){t.textContent=e||""}function contains(t,e){for(var n=e;n&&t;){if(n===t)return!0;n=n.parentNode||n.host}return!1}function closest(t,e){var n=t?t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector:null;if(n)for(;t;t=t.parentNode)if(t instanceof Element&&n.call(t,e))return t;return null}function closestClass(t,e){return closest(t,"."+e)}function enable(t,e){var n=!e;toggleClass(t,"wj-state-disabled",n),setAttribute(t,"disabled",n?"true":null);for(var r=t.querySelectorAll("input"),i=0;i<r.length;i++){var o=r[i];e?o.removeAttribute("disabled"):o.setAttribute("disabled","true")}}function getElementRect(t){var e=t.getBoundingClientRect();return new Rect(e.left+pageXOffset,e.top+pageYOffset,e.width,e.height)}function setCss(t,e){if(t instanceof Array)for(var n=0;n<t.length;n++)setCss(t[n],e);else if(t&&t.style){var r=t.style;for(var i in e){var o=e[i];"number"==typeof o&&i.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),r[i]!=o&&(r[i]=o.toString())}}}function animate(t,e,n){void 0===e&&(e=Control._ANIM_DEF_DURATION),void 0===n&&(n=Control._ANIM_DEF_STEP),t=asFunction(t),e=asNumber(e,!1,!0),n=asNumber(n,!1,!0);var r=Date.now(),i=setInterval(function(){var n=Math.min(1,(Date.now()-r)/e);n=Math.sin(n*Math.PI/2),n*=n,requestAnimationFrame(function(){t(n)}),n>=1&&clearInterval(i)},n);return i}function httpRequest(t,e){e||(e={});var n=e.method?asString(e.method).toUpperCase():"GET",r=null==e.async||asBoolean(e.async),i=e.data;if(null!=i&&"GET"==n){var o=[];for(var s in i){var a=i[s];isDate(a)&&(a=a.toJSON()),o.push(s+"="+a)}o.length&&(t+=(t.indexOf("?")<0?"?":"&")+o.join("&")),i=null}var u=new XMLHttpRequest;u.URL_DEBUG=t;var l=!1;if(null==i||isString(i)||(l=isObject(i),i=JSON.stringify(i)),u.onload=function(){4==u.readyState&&(u.status<300?e.success&&asFunction(e.success)(u):e.error&&asFunction(e.error)(u),e.complete&&asFunction(e.complete)(u))},u.onerror=function(){if(!isFunction(e.error))throw"HttpRequest Error: "+u.status+" "+u.statusText;e.error(u)},u.open(n,t,r,e.user,e.password),e.user&&e.password&&u.setRequestHeader("Authorization","Basic "+btoa(e.user+":"+e.password)),l&&u.setRequestHeader("Content-Type","application/json"),e.requestHeaders)for(var c in e.requestHeaders)u.setRequestHeader(c,e.requestHeaders[c]);return isNumber(e.timeout)&&(u.timeout=e.timeout),isFunction(e.beforeSend)&&e.beforeSend(u),u.send(i),u}function _updateCulture(){exports.culture=window.wijmo.culture}function getAggregate(t,e,n){var r=0,i=0,o=0,s=0,a=null,u=null,l=null,c=n?new Binding(n):null;if((t=asEnum(t,Aggregate))==Aggregate.CntAll)return e.length;for(var h=0;h<e.length;h++){var p=e[h];if(c&&(p=c.getValue(p)),t==Aggregate.First)return p;null!=p&&(r++,(null==a||p<a)&&(a=p),(null==u||p>u)&&(u=p),l=p,isNumber(p)&&!isNaN(p)?(i++,o+=p,s+=p*p):isBoolean(p)&&(i++,1==p&&(o++,s++)))}var f=0==i?0:o/i;switch(t){case Aggregate.Avg:return f;case Aggregate.Cnt:return r;case Aggregate.Max:return u;case Aggregate.Min:return a;case Aggregate.Rng:return u-a;case Aggregate.Sum:return o;case Aggregate.VarPop:return i<=1?0:s/i-f*f;case Aggregate.StdPop:return i<=1?0:Math.sqrt(s/i-f*f);case Aggregate.Var:return i<=1?0:(s/i-f*f)*i/(i-1);case Aggregate.Std:return i<=1?0:Math.sqrt((s/i-f*f)*i/(i-1));case Aggregate.Last:return l}throw"Invalid aggregate type."}function showPopup(t,e,n,r,i){void 0===e&&(e=null),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=!0);var o=document.body;if(e instanceof HTMLElement){if(!contains(document.body,e))return;for(var s=e;s;s=s.parentElement)if("dialog"==s.getAttribute("role")||"fixed"==getComputedStyle(s).position){o=s;break}}if(t.offsetHeight&&t.offsetWidth&&contains(o,t)||o.lastChild!=t&&o.appendChild(t),e instanceof HTMLElement&&i){var a=getComputedStyle(e);new Color(a.backgroundColor).a&&setCss(t,{color:a.color,backgroundColor:a.backgroundColor,fontFamily:a.fontFamily,fontSize:a.fontSize,fontWeight:a.fontWeight,fontStyle:a.fontStyle})}setCss(t,{position:"absolute",visibility:"hidden",display:""}),Control.refreshAll(t);var u=getComputedStyle(t),l=parseFloat(u.marginTop)+parseFloat(u.marginBottom),c=parseFloat(u.marginLeft)+parseFloat(u.marginRight),h=new Size(t.offsetWidth+c,t.offsetHeight+l),p=new Point,f=null,d=document.documentElement.clientWidth,g=document.documentElement.clientHeight;if(e&&null!=e.clientX&&null!=e.clientY&&null!=e.pageX&&null!=e.pageY)e.clientX<=0&&e.clientY<=0&&e.target?f=e.target.getBoundingClientRect():(p.x=Math.max(0,e.pageX-pageXOffset),p.y=Math.max(0,e.pageY-pageYOffset));else if(e instanceof Point)p=e;else if(e instanceof HTMLElement)f=e.getBoundingClientRect();else if(e&&null!=e.top&&null!=e.left)f=e;else{if(null!=e)throw"Invalid ref parameter.";p.x=Math.max(0,(d-h.width)/2),p.y=Math.max(0,Math.round((g-h.height)/2*.7))}var m=parseFloat(u.minWidth);if(f){var _=f.top,v=g-f.bottom,y="rtl"==getComputedStyle(t).direction;p.x=y?Math.max(0,f.right-h.width):Math.max(0,Math.min(f.left,d-h.width)),p.y=n?_>h.height||_>v?Math.max(0,f.top-h.height):f.bottom:v>h.height||v>_?f.bottom:Math.max(0,f.top-h.height),m=Math.max(m,f.width),isIE()&&(m-=t.offsetWidth-(t.clientWidth+parseInt(u.borderLeftWidth)+parseInt(u.borderRightWidth)))}else{p.y+h.height>g-20&&(p.y=Math.max(0,g-20-h.height)),p.x+h.width>d-20&&(p.x=Math.max(0,d-20-h.width))}var b=document.body.getBoundingClientRect(),C=new Point(Math.max(0,-b.left),Math.max(0,-b.top));if(o!=document.body){var w=t.offsetParent,x=w.getBoundingClientRect();C=new Point(w.scrollLeft-x.left,w.scrollTop-x.top)}var E={position:"absolute",left:p.x+C.x,top:p.y+C.y,minWidth:m,display:"",visibility:"",zIndex:1500},A=null;r&&(t.style.opacity="0",A=animate(function(e){t.style.opacity=1==e?"":e.toString()})),e instanceof HTMLElement&&(t[Control._OWNR_KEY]=e),setCss(t,E);var S=e instanceof MouseEvent?e.target:e;if(S instanceof HTMLElement&&S.parentElement!=document.body){var P=Date.now(),M=S.getBoundingClientRect(),F=new Control(document.createElement("div"));t[Control._SCRL_KEY]=F,F.addEventListener(document,"scroll",function(n){if(Date.now()-P>100&&contains(document,S)&&!contains(t,n.target)&&(n.target!=document||null!=e&&"fixed"==t.style.position)){var r=S.getBoundingClientRect(),i=Math.abs(r.left-M.left),o=Math.abs(r.top-M.top);(i>1||o>1)&&_hidePopup(t,!0)}},!0)}return A}function hidePopup(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1);var r=null;return n?r=animate(function(n){t.style.opacity=(1-n).toString(),1==n&&(_hidePopup(t,e),t.style.opacity="")}):_hidePopup(t,e),r}function _hidePopup(t,e){t.style.display="none",e&&t.parentElement&&setTimeout(function(){if("none"==t.style.display){var e=t.parentElement;e&&e.removeChild(t)}},50);var n=t[Control._SCRL_KEY];n instanceof Control&&n.dispose(),delete t[Control._SCRL_KEY],delete t[Control._OWNR_KEY]}function isMobile(){return _isMobile}function isFirefox(){return _isFF}function isSafari(){return _isSafari}function isIE(){return _isIE}function isIE9(){return _isIE9}function getEventOptions(t,e){return _supportsPassive?{capture:t,passive:e}:t}function _startDrag(t,e){t.effectAllowed=e,isFirefox()&&t.setData("text","")}var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wjcSelf=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),_globalCulture=window.wijmo&&window.wijmo.culture;window.wijmo=wjcSelf,exports.culture=_globalCulture;var _VERSION="5.20173.380";exports.getVersion=getVersion;var Key;!function(t){t[t.Back=8]="Back",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Delete=46]="Delete",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12"}(Key=exports.Key||(exports.Key={}));var DataType;!function(t){t[t.Object=0]="Object",t[t.String=1]="String",t[t.Number=2]="Number",t[t.Boolean=3]="Boolean",t[t.Date=4]="Date",t[t.Array=5]="Array"}(DataType=exports.DataType||(exports.DataType={})),exports.tryCast=tryCast,exports.isPrimitive=isPrimitive,exports.isString=isString,exports.isNullOrWhiteSpace=isNullOrWhiteSpace,exports.isNumber=isNumber,exports.isInt=isInt,exports.isBoolean=isBoolean,exports.isFunction=isFunction,exports.isUndefined=isUndefined,exports.isDate=isDate,exports.isArray=isArray,exports.isObject=isObject,exports.getUniqueId=getUniqueId,exports.mouseToPage=mouseToPage,exports.getType=getType,exports.changeType=changeType,exports.toFixed=toFixed,exports.format=format,exports.clamp=clamp,exports.copy=copy,exports.assert=assert,exports._deprecated=_deprecated,exports.asString=asString,exports.asNumber=asNumber,exports.asInt=asInt,exports.asBoolean=asBoolean,exports.asDate=asDate,exports.asFunction=asFunction,exports.asArray=asArray,exports.asType=asType,exports.asEnum=asEnum,exports.asCollectionView=asCollectionView,exports.hasItems=hasItems,exports.toHeaderCase=toHeaderCase,exports.escapeHtml=escapeHtml;var _ENTITYMAP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};exports.hasClass=hasClass,exports.removeClass=removeClass,exports.addClass=addClass,exports.toggleClass=toggleClass,exports.setAttribute=setAttribute,exports.setSelectionRange=setSelectionRange,exports.getActiveElement=getActiveElement,exports.moveFocus=moveFocus,exports.getElement=getElement,exports.createElement=createElement,exports.setText=setText,exports.contains=contains,exports.closest=closest,exports.closestClass=closestClass,exports.enable=enable,exports.getElementRect=getElementRect,exports.setCss=setCss,exports.animate=animate;var Point=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=asNumber(t),this.y=asNumber(e)}return t.prototype.equals=function(e){return e instanceof t&&this.x==e.x&&this.y==e.y},t.prototype.clone=function(){return new t(this.x,this.y)},t}();exports.Point=Point;var Size=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=asNumber(t),this.height=asNumber(e)}return t.prototype.equals=function(e){return e instanceof t&&this.width==e.width&&this.height==e.height},t.prototype.clone=function(){return new t(this.width,this.height)},t}();exports.Size=Size;var Rect=function(){function t(t,e,n,r){this.left=asNumber(t),this.top=asNumber(e),this.width=asNumber(n),this.height=asNumber(r)}return Object.defineProperty(t.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height},t.prototype.clone=function(){return new t(this.left,this.top,this.width,this.height)},t.fromBoundingRect=function(e){return null!=e.left?new t(e.left,e.top,e.width,e.height):null!=e.x?new t(e.x,e.y,e.width,e.height):void assert(!1,"Invalid source rectangle.")},t.union=function(e,n){var r=Math.min(e.left,n.left),i=Math.min(e.top,n.top);return new t(r,i,Math.max(e.right,n.right)-r,Math.max(e.bottom,n.bottom)-i)},t.intersection=function(e,n){var r=Math.max(e.left,n.left),i=Math.max(e.top,n.top);return new t(r,i,Math.min(e.right,n.right)-r,Math.min(e.bottom,n.bottom)-i)},t.prototype.contains=function(e){if(e instanceof Point)return e.x>=this.left&&e.x<=this.right&&e.y>=this.top&&e.y<=this.bottom;if(e instanceof t){var n=e;return n.left>=this.left&&n.right<=this.right&&n.top>=this.top&&n.bottom<=this.bottom}assert(!1,"Point or Rect expected.")},t.prototype.inflate=function(e,n){return new t(this.left-e,this.top-n,this.width+2*e,this.height+2*n)},t}();exports.Rect=Rect;var DateTime=function(){function t(){}return t.addDays=function(e,n){return t.newDate(e.getFullYear(),e.getMonth(),e.getDate()+n)},t.addMonths=function(e,n){return t.newDate(e.getFullYear(),e.getMonth()+n,e.getDate())},t.addYears=function(e,n){return t.newDate(e.getFullYear()+n,e.getMonth(),e.getDate())},t.addHours=function(e,n){return t.newDate(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+n)},t.addMinutes=function(e,n){return t.newDate(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+n)},t.addSeconds=function(e,n){return t.newDate(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()+n)},t.sameDate=function(t,e){return isDate(t)&&isDate(e)&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},t.sameTime=function(t,e){return isDate(t)&&isDate(e)&&t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()&&t.getSeconds()==e.getSeconds()},t.equals=function(t,e){return isDate(t)&&isDate(e)&&t.getTime()==e.getTime()},t.fromDateTime=function(e,n){return e||n?(e||(e=n),n||(n=e),t.newDate(e.getFullYear(),e.getMonth(),e.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())):null},t.toFiscal=function(e,n){var r=exports.culture.Globalize.calendar;return isArray(r.fiscalYearOffsets)?t.addMonths(e,-r.fiscalYearOffsets[n?0:1]):e},t.fromFiscal=function(e,n){var r=exports.culture.Globalize.calendar;return isArray(r.fiscalYearOffsets)?t.addMonths(e,+r.fiscalYearOffsets[n?0:1]):e},t.newDate=function(t,e,n,r,i,o,s){if(null==t||null==e||null==n){var a=new Date;null==t&&(t=a.getFullYear()),null==e&&(e=a.getMonth()),null==n&&(n=a.getDate())}null==r&&(r=0),null==i&&(i=0),null==o&&(o=0),null==s&&(s=0);var u=new Date(t,e,n,r,i,o,s),l=u.getFullYear();return t<100&&l>=1900&&u.setFullYear(u.getFullYear()-1900),u},t.clone=function(e){return t.fromDateTime(e,e)},t}();exports.DateTime=DateTime,exports.httpRequest=httpRequest,exports.culture=window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}};var Globalize=function(){function t(){}return t.format=function(e,n,r,i){return isString(e)?e:isNumber(e)?(n=n||(e==Math.round(e)?"n0":"n2"),t.formatNumber(e,n,r,i)):isDate(e)?(n=n||"d",t.formatDate(e,n)):null!=e?e.toString():""},t.formatNumber=function(e,n,r,i){e=asNumber(e),n=asString(n);var o,s=exports.culture.Globalize.numberFormat,a=n?n.match(/([a-z])(\d*)(,*)(.*)/i):null,u=a?a[1].toLowerCase():"n",l=a&&a[2]?parseInt(a[2]):"c"==u?s.currency.decimals:e==Math.round(e)?0:2,c=a&&a[3]?3*a[3].length:0,h=a&&a[4]?a[4]:s.currency.symbol,p=s["."],f=s[","];if(c&&(e/=Math.pow(10,c)),"d"==u||"x"==u){for(o=Math.round(Math.abs(e)).toString("d"==u?10:16);o.length<l;)o="0"+o;return e<0&&(o="-"+o),n&&"X"==n[0]&&(o=o.toUpperCase()),o}if("p"==u&&(e=toFixed(e=t._mul100(e),l,i)),i&&"p"!=u&&(e=toFixed(e,l,!0)),o=t._toFixedStr("c"==u||"p"==u?Math.abs(e):e,l),(r||"g"==u)&&o.indexOf(".")>-1&&(o=(o=o.replace(/(\.[0-9]*?)0+$/g,"$1")).replace(/\.$/,"")),"."!=p&&(o=o.replace(".",p)),f&&("n"==u||"c"==u||"p"==u)){var d=o.indexOf(p),g=/\B(?=(\d\d\d)+(?!\d))/g;o=d>-1?o.substr(0,d).replace(g,f)+o.substr(d):o.replace(g,f)}if("c"==u){var m=s.currency.pattern[e<0?0:1];"​"==h&&(h=""),o=m.replace("n",o).replace("$",h)}return"p"==u&&(o=(m=s.percent.pattern[e<0?0:1]).replace("n",o)),o},t.formatDate=function(e,n){switch(e=asDate(e),n){case"r":case"R":return e.toUTCString();case"u":return e.toISOString().replace(/\.\d{3}/,"")}n=t._expandFormat(n);for(var r=t._parseDateFormat(n),i="",o=0;o<r.length;o++)i+=t._formatDatePart(e,n,r[o]);return i},t.parseInt=function(e,n){return Math.round(t.parseFloat(e,n))},t.parseFloat=function(t,e){var n=t.indexOf("-")>-1||t.indexOf("(")>-1&&t.indexOf(")")>-1?-1:1,r=t.indexOf("%")>-1?.01:1,i=e?e.match(/,+/):null,o=i?3*i[0].length:0;if(e&&("x"==e[0]||"X"==e[0]))return t=t.replace(/[^0-9a-f]+.*$/gi,""),parseInt(t,16)*n*r*Math.pow(10,o);var s=exports.culture.Globalize.numberFormat["."],a=new RegExp("[^\\d\\"+s+"]","g"),u=t.replace(a,"").replace(s,".");return parseFloat(u)*n*r*Math.pow(10,o)},t.parseDate=function(e,n){if(!(e=asString(e)))return null;if("u"==n)return new Date(e);var r;if("R"==n||"r"==n){var i=/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/,o=e.match(i);return o[1]||o[5]?(r=o[1]?new Date(parseInt(o[2]),parseInt(o[3])-1,parseInt(o[4])):new Date,o[5]&&(r.setHours(parseInt(o[6])),r.setMinutes(parseInt(o[7])),r.setSeconds(o[8]?parseInt(o[9]):0))):r=new Date(e),isNaN(r.getTime())?null:r}n=t._expandFormat(n||"d");var s,a,u,l,c,h,p=exports.culture.Globalize.calendar,f=t._CJK,d=new RegExp("(\\"+p["/"]+")|(\\"+p[":"]+")|(\\d+)|(["+f+"\\.]{2,})|(["+f+"]+)","gi"),g=e.match(d),m=t._parseDateFormat(n),_=0,v=-1,y=0,b=1,C=0,w=0,x=0,E=0,A=-1;if(!(g&&g.length&&m&&m.length))return null;for(var S=0;S<m.length&&g;S++){var P=S-_,M=P>-1&&P<g.length?g[P]:"",F=m[S].length;switch(m[S]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":h=m[S];case"yyyy":case"yyy":case"yy":case"y":F>1&&M.length>F&&(g[P]=M.substr(F),M=M.substr(0,F),_++),v=parseInt(M),c=4==M.length;break;case"MMMM":case"MMM":l=!0;var T=M.toLowerCase();y=-1;for(var D=0;D<12;D++)if(0==p.months[D].toLowerCase().indexOf(T)){y=D;break}if(y>-1)break;case"MM":case"M":l=!0,F>1&&M.length>F&&(g[P]=M.substr(F),M=M.substr(0,F),_++),y=parseInt(M)-1;break;case"dddd":case"ddd":s=!0;break;case"dd":case"d":F>1&&M.length>F&&(g[P]=M.substr(F),M=M.substr(0,F),_++),b=parseInt(M),a=!0;break;case"hh":case"h":F>1&&M.length>F&&(g[P]=M.substr(F),M=M.substr(0,F),_++),C=12==(C=parseInt(M))?0:C;break;case"HH":F>1&&M.length>F&&(g[P]=M.substr(F),M=M.substr(0,F),_++),C=parseInt(M);break;case"H":C=parseInt(M);break;case"mm":case"m":F>1&&M.length>F&&(g[P]=M.substr(F),M=M.substr(0,F),_++),w=parseInt(M);break;case"ss":case"s":F>1&&M.length>F&&(g[P]=M.substr(F),M=M.substr(0,F),_++),x=parseInt(M);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":E=parseInt(M)/Math.pow(10,F-3);break;case"tt":case"t":M=M.toUpperCase(),C<12&&p.pm.indexOf(M)>-1&&(C+=12);break;case"q":case"Q":case"u":case"U":u=!0;break;case"ggg":case"gg":case"g":A=p.eras.length>1?t._getEra(M,p):-1;break;case p["/"]:case p[":"]:if(M&&M!=m[S])return null;break;case"K":break;default:t._unquote(m[S]).trim()!=M.trim()&&_++}}if(l&&a&&(isNaN(C)&&(C=0),isNaN(w)&&(w=0),isNaN(x)&&(x=0)),y<0||y>11||isNaN(y)||b<0||b>31||isNaN(b)||C<0||C>24||isNaN(C)||w<0||w>60||isNaN(w)||x<0||x>60||isNaN(x))return null;if(h){if(!l)return null;var I=exports.culture.Globalize.calendar;if(isArray(I.fiscalYearOffsets)){var O="E"==h[0],N=y-I.fiscalYearOffsets[O?0:1];v+=N>11?-1:N<0?1:0}}return s&&!a?null:u&&!l?null:(v<0&&(v=(new Date).getFullYear()),A>-1?v=v+p.eras[A].start.getFullYear()-1:v<100&&!c&&(v+=v+2e3<(isNumber(p.twoDigitYearMax)?p.twoDigitYearMax:2029)?2e3:1900),r=DateTime.newDate(v,y,b,C,w+0,x,E),isNaN(r.getTime())?null:r)},t.getFirstDayOfWeek=function(){var t=exports.culture.Globalize.calendar.firstDay;return t||0},t.getNumberDecimalSeparator=function(){var t=exports.culture.Globalize.numberFormat["."];return t||"."},t._toFixedStr=function(t,e){var n=t.toString(),r=n.indexOf("."),i=e-(n.length-r)+1;return n.indexOf("e")<0&&r>-1&&i>=0?n+Array(i+1).join("0"):t.toFixed(e)},t._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},t._parseDateFormat=function(e){if(e in t._dateFormatParts)return t._dateFormatParts[e];var n,r,i=[];if(e)for(n=0;n>-1&&n<e.length;n++){var o=e[n];if(("'"==o||'"'==o)&&(r=e.indexOf(o,n+1))>-1)i.push(e.substring(n,r+1)),n=r;else{for(r=n+1;r<e.length&&e[r]==o;r++);i.push(e.substring(n,r)),n=r-1}}return t._dateFormatParts[e]=i,i},t._formatDatePart=function(e,n,r){var i,o=exports.culture.Globalize.calendar,s=0,a=0,u=0,l=r.length;switch(r){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":a=(i="E"==r[0]?DateTime.toFiscal(e,!0):"e"==r[0]?DateTime.toFiscal(e,!1):e).getFullYear(),o.eras.length>1&&n.indexOf("g")>-1&&(s=t._getEra(e,o))>-1&&(a=a-o.eras[s].start.getFullYear()+1);var c=r.length<3?a%100:3==r.length?a%1e3:a;return t._zeroPad(c,r.length);case"MMMM":return o.months[e.getMonth()];case"MMM":return o.monthsAbbr[e.getMonth()];case"MM":case"M":return t._zeroPad(e.getMonth()+1,l);case"dddd":return o.days[e.getDay()];case"ddd":return o.daysAbbr[e.getDay()];case"dd":return t._zeroPad(e.getDate(),2);case"d":return e.getDate().toString();case"hh":case"h":return t._zeroPad(t._h12(e),l);case"HH":case"H":return t._zeroPad(e.getHours(),l);case"mm":case"m":return t._zeroPad(e.getMinutes(),l);case"ss":case"s":return t._zeroPad(e.getSeconds(),l);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return u=e.getMilliseconds()*Math.pow(10,l-3),"f"==r[0]?t._zeroPad(u,l):u.toFixed(0);case"tt":return e.getHours()<12?o.am[0]:o.pm[0];case"t":return e.getHours()<12?o.am[1]:o.pm[1];case"q":case"Q":return(Math.floor(e.getMonth()/3)+1).toString();case"u":case"U":return i=DateTime.toFiscal(e,"U"==r),(Math.floor(i.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":return o.eras.length>1&&(s=t._getEra(e,o))>-1?"ggg"==r?o.eras[s].name:"gg"==r?o.eras[s].name[0]:o.eras[s].symbol:o.eras[0];case":":case"/":return o[r];case"K":var h=e.toString().match(/(\+|\-)(\d{2})(\d{2})/);return h?h[1]+h[2]+h[3]:"";case"zzz":case"zz":case"z":var p=-e.getTimezoneOffset(),f=void 0;switch(r){case"zzz":f=t.format(p/60,"d2",!1,!0)+o[":"]+t.format(p%60,"d2",!1,!0);break;case"zz":f=t.format(p/60,"d2",!1,!0);break;case"z":f=t.format(p/60,"d",!1,!0)}return p>=0?"+"+f:f}return l>1&&r[0]==r[l-1]&&('"'==r[0]||"'"==r[0])?r.substr(1,l-2):r},t._getEra=function(t,e){if(isDate(t)){for(n=0;n<e.eras.length;n++)if(t>=e.eras[n].start)return n}else if(isString(t))for(var n=0;n<e.eras.length;n++)if(e.eras[n].name&&(0==e.eras[n].name.indexOf(t)||0==e.eras[n].symbol.indexOf(t)))return n;return-1},t._expandFormat=function(t){var e=exports.culture.Globalize.calendar.patterns[t];return e||t},t._zeroPad=function(t,e){var n=t.toFixed(0),r=e-n.length+1;return r>0?Array(r).join("0")+n:n},t._h12=function(t){var e=exports.culture.Globalize.calendar,n=t.getHours();return e.am&&e.am[0]&&0==(n%=12)&&(n=12),n},t._mul100=function(t){var e=t.toString(),n=e.indexOf(".");return e.indexOf("e")>-1?100*t:(n<0?e+="00":(n+=2,e=(e=e.replace(".","")+"00").substr(0,n)+"."+e.substr(n)),parseFloat(e))},t._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),t._dateFormatParts={},t}();exports.Globalize=Globalize,exports._updateCulture=_updateCulture;var Binding=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var e=0;e<this._parts.length;e++){var n=this._parts[e],r=n.indexOf("[");r>-1&&(this._parts[e]=n.substr(0,r),this._parts.splice(++e,0,parseInt(n.substr(r+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var e=0;e<this._parts.length&&t;e++)t=t[this._parts[e]]}return t},t.prototype.setValue=function(t,e){if(t){if(this._path in t)return void(t[this._path]=e);for(var n=0;n<this._parts.length-1;n++)if(null==(t=t[this._parts[n]]))return;t[this._parts[this._parts.length-1]]=e}},t}();exports.Binding=Binding;var EventHandler=function(){return function(t,e){this.handler=t,this.self=e}}(),Event=function(){function t(){this._handlers=[]}return t.prototype.addHandler=function(t,e){asFunction(t),this._handlers.push(new EventHandler(t,e))},t.prototype.removeHandler=function(t,e){asFunction(t);for(var n=0;n<this._handlers.length;n++){var r=this._handlers[n];if((r.handler==t||null==t)&&(r.self==e||null==e)&&(this._handlers.splice(n,1),t&&e))break}},t.prototype.removeAllHandlers=function(){this._handlers.length=0},t.prototype.raise=function(t,e){void 0===e&&(e=EventArgs.empty);for(var n=0;n<this._handlers.length;n++){var r=this._handlers[n];r.handler.call(r.self,t,e)}},Object.defineProperty(t.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),t}();exports.Event=Event;var EventArgs=function(){function t(){}return t.empty=new t,t}();exports.EventArgs=EventArgs;var CancelEventArgs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cancel=!1,e}return __extends(e,t),e}(EventArgs);exports.CancelEventArgs=CancelEventArgs;var PropertyChangedEventArgs=function(t){function e(e,n,r){var i=t.call(this)||this;return i._name=e,i._oldVal=n,i._newVal=r,i}return __extends(e,t),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),e}(EventArgs);exports.PropertyChangedEventArgs=PropertyChangedEventArgs;var RequestErrorEventArgs=function(t){function e(e,n){var r=t.call(this)||this;return r._xhr=e,r._msg=n,r}return __extends(e,t),Object.defineProperty(e.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._msg},set:function(t){this._msg=t},enumerable:!0,configurable:!0}),e}(CancelEventArgs);exports.RequestErrorEventArgs=RequestErrorEventArgs;var Control=function(){function t(e,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);var i=this;this._focus=!1,this._updating=0,this._fullUpdate=!1,this.gotFocus=new Event,this.lostFocus=new Event,t._updateWme(),assert(null==t.getControl(e),"Element is already hosting a control.");var o=getElement(e);if(assert(null!=o,"Cannot find the host element."),this._orgOuter=o.outerHTML,this._orgInner=o.innerHTML,this._orgTag=o.tagName,"INPUT"!=o.tagName&&"SELECT"!=o.tagName||(o=this._replaceWithDiv(o)),this._e=o,o[t._CTRL_KEY]=this,1==r){this._szCtl=new Size(o.offsetWidth,o.offsetHeight);var s=this._handleResize.bind(this);this.addEventListener(window,"resize",s)}var a;this.addEventListener(o,"focus",function(t){a&&clearTimeout(a),a=setTimeout(function(){a=null,i._updateFocusState()})},!0),this.addEventListener(o,"blur",function(t){a&&clearTimeout(a),a=setTimeout(function(){a=null,i._updateFocusState()},20)},!0);var u=this._handleDisabled.bind(this);if(this.addEventListener(o,"mousedown",u,!0),this.addEventListener(o,"mouseup",u,!0),this.addEventListener(o,"click",u,!0),this.addEventListener(o,"dblclick",u,!0),this.addEventListener(o,"keydown",u,!0),this.addEventListener(o,"wheel",u,getEventOptions(!0,!0)),null==t._touching&&(t._touching=!1,"ontouchstart"in window||"onpointerdown"in window)){var l=document.body,c=this._handleTouchStart,h=this._handleTouchEnd,p=getEventOptions(!0,!0);"ontouchstart"in window?(l.addEventListener("touchstart",c,p),l.addEventListener("touchend",h,p),l.addEventListener("touchcancel",h,p),l.addEventListener("touchleave",h,p)):"onpointerdown"in window&&(l.addEventListener("pointerdown",c,p),l.addEventListener("pointerup",h,p),l.addEventListener("pointerout",h,p),l.addEventListener("pointercancel",h,p),l.addEventListener("pointerleave",h,p))}}return t.prototype.getTemplate=function(){for(var t=Object.getPrototypeOf(this);t;t=Object.getPrototypeOf(t)){var e=t.constructor.controlTemplate;if(e)return e}return null},t.prototype.applyTemplate=function(e,n,r,i){var o=this._e;e&&addClass(o,e);var s=null;n&&(s=createElement(n,o));var a=o.querySelectorAll("input"),u=1==a.length?a[0]:null,l=o.attributes;if(u&&l)for(var c=0;c<l.length;c++){var h=l[c].name;h.match(t._rxInputAtts)&&u.setAttribute(h,l[c].value)}if(u&&o.id){for(var p=o;p.parentElement;)p=p.parentElement;var f=p.querySelector('label[for="'+o.id+'"]');if(f instanceof HTMLLabelElement){var d=getUniqueId(o.id+"_input");u.id=d,f.htmlFor=d}}if(u){var g=document.createEvent("HTMLEvents"),m=u.value;g.initEvent("change",!0,!1),this.addEventListener(u,"input",function(){m=u.value},!0),this.gotFocus.addHandler(function(){m=u.value}),this.lostFocus.addHandler(function(){m!=u.value&&u.dispatchEvent(g)})}if(u?o.tabIndex=-1:o.getAttribute("tabindex")||(o.tabIndex=0),this._updateState(),r)for(var _ in r){var v=r[_];if(this[_]=s.querySelector('[wj-part="'+v+'"]'),null==this[_]&&s.getAttribute("wj-part")==v&&(this[_]=s),null==this[_])throw'Missing template part: "'+v+'"';if(v==i){var y="name",b=o.attributes[y];b&&b.value&&this[_].setAttribute(y,b.value),y="accesskey",(b=o.attributes[y])&&b.value&&(this[_].setAttribute(y,b.value),o.removeAttribute(y))}}return s},t.prototype.dispose=function(){for(var e=this._e.querySelectorAll(".wj-control"),n=0;n<e.length;n++){var r=t.getControl(e[n]);r&&r.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.removeEventListener();for(var i in this)i.length>2&&0==i.indexOf("on")&&(s=this[i[2].toLowerCase()+i.substr(3)])instanceof Event&&s.removeAllHandlers();var o=this.collectionView;if(o instanceof CollectionView)for(var i in o){var s=o[i];s instanceof Event&&s.removeHandler(null,this)}this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[t._CTRL_KEY]=null,this._e=this._orgOuter=this._orgInner=this._orgTag=null},t.getControl=function(e){var n=getElement(e);return n?asType(n[t._CTRL_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._e&&this._e.focus()},t.prototype.containsFocus=function(){if(!this._e)return!1;var e=getActiveElement();if(contains(this._e,e))return!0;for(var n=e;n;n=n.parentElement){var r=n[t._OWNR_KEY];if(r&&contains(this._e,r))return!0}var i=t.getControl(closest(e,".wj-control.wj-popup"));return!!(i&&i.owner&&contains(this._e,i.owner))},t.prototype.invalidate=function(e){var n=this;void 0===e&&(e=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||e,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){n.refresh(n._fullUpdate),n._toInv=null},t._REFRESH_INTERVAL))},t.prototype.refresh=function(e){void 0===e&&(e=!0),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._rtlDir=null,this._fullUpdate=!1,t._updateWme())},t.invalidateAll=function(e){if(e||(e=document.body),e.children)for(var n=0;n<e.children.length;n++)t.invalidateAll(e.children[n]);var r=t.getControl(e);r&&r.invalidate()},t.refreshAll=function(e){if(e||(e=document.body),e.children)for(var n=0;n<e.children.length;n++)t.refreshAll(e.children[n]);var r=t.getControl(e);r&&r.refresh()},t.disposeAll=function(e){var n=t.getControl(e);if(n)n.dispose();else if(e.children)for(var r=0;r<e.children.length;r++)t.disposeAll(e.children[r])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(t){(t=asBoolean(t,!0))!=this.isDisabled&&enable(this._e,!t)},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){t&&copy(this,t)},t.prototype.addEventListener=function(t,e,n,r){void 0===r&&(r=!1),t&&(t.addEventListener(e,n,r),null==this._listeners&&(this._listeners=[]),this._listeners.push({target:t,type:e,fn:n,capture:r}))},t.prototype.removeEventListener=function(t,e,n,r){var i=0;if(this._listeners)for(var o=0;o<this._listeners.length;o++){var s=this._listeners[o];null!=t&&t!=s.target||null!=e&&e!=s.type||null!=n&&n!=s.fn||null!=r&&r!=s.capture||(s.target.removeEventListener(s.type,s.fn,s.capture),this._listeners.splice(o,1),o--,i++)}return i},t.prototype.onGotFocus=function(t){this.gotFocus.raise(this,t)},t.prototype.onLostFocus=function(t){this.lostFocus.raise(this,t)},t.prototype._hasPendingUpdates=function(){return null!=this._toInv},t._updateWme=function(){if(!(t._wme&&t._wme.parentElement&&t._wme.offsetWidth&&t._wme.offsetHeight)){var e=Array(Math.round(10*Math.random())).join(" "),n="Powered by Wijmo "+getVersion()+" Eval",r='tabindex="-1"';t._wme=createElement("<div "+r+"><a "+r+' href="http://wijmo.com/products/wijmo-5/eval/'+e+'">'+n+e+"</a></div>");var i={position:"fixed",padding:5,margin:5,background:"#fff",boxShadow:"0 0 10px rgba(0,0,0,0.25)",fontSize:"11pt",zIndex:1e4,opacity:.8,display:"block",visibility:"visible",height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%2){case 0:i.right=i.bottom=0;break;case 1:i.left=i.bottom=0;break;case 2:i.right=i.top=0}setCss(t._wme,i),document.body.appendChild(t._wme)}},t.prototype._handleResize=function(){if(this._e.parentElement){var t=new Size(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,this.invalidate())}},t.prototype._updateFocusState=function(){var e=this;setTimeout(function(){for(var n=e._e;n;n=n.parentElement){var r=t.getControl(n);if(r){var i=r.containsFocus();if(i!=r._focus&&(r._focus=i,i?r.onGotFocus():r.onLostFocus(),r._updateState(),!i)){var o=n[t._OWNR_KEY];if(o){var s=t.getControl(closest(o,".wj-control"));s&&s._updateFocusState()}}}}})},t.prototype._updateState=function(){var t=this.hostElement;if(t){toggleClass(t,"wj-state-focused",this.containsFocus());var e=t.querySelector("input");if(e instanceof HTMLInputElement){toggleClass(t,"wj-state-empty",0==e.value.length),toggleClass(t,"wj-state-readonly",e.readOnly);var n=e.validationMessage;toggleClass(t,"wj-state-invalid",n&&n.length>0)}}},t.prototype._handleTouchStart=function(e){null!=e.pointerType&&"touch"!=e.pointerType||(t._touching=!0)},t.prototype._handleTouchEnd=function(e){null!=e.pointerType&&"touch"!=e.pointerType||setTimeout(function(){t._touching=!1},400)},t.prototype._handleDisabled=function(t){this.isDisabled&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(e){var n=document.createElement("div");e.parentElement.replaceChild(n,e),n.innerHTML=e.innerHTML;for(var r=e.attributes,i=0;i<r.length;i++){var o=r[i].name;(o.match(/id|style|class/i)||o.match(t._rxInputAtts))&&n.setAttribute(o,r[i].value)}return n},t._REFRESH_INTERVAL=10,t._ANIM_DEF_DURATION=400,t._ANIM_DEF_STEP=35,t._CTRL_KEY="$WJ-CTRL",t._OWNR_KEY="$WJ-OWNR",t._SCRL_KEY="$WJ-SCRL",t._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern/i,t}();exports.Control=Control;var Aggregate;!function(t){t[t.None=0]="None",t[t.Sum=1]="Sum",t[t.Cnt=2]="Cnt",t[t.Avg=3]="Avg",t[t.Max=4]="Max",t[t.Min=5]="Min",t[t.Rng=6]="Rng",t[t.Std=7]="Std",t[t.Var=8]="Var",t[t.StdPop=9]="StdPop",t[t.VarPop=10]="VarPop",t[t.CntAll=11]="CntAll",t[t.First=12]="First",t[t.Last=13]="Last"}(Aggregate=exports.Aggregate||(exports.Aggregate={})),exports.getAggregate=getAggregate;var NotifyCollectionChangedAction;!function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove",t[t.Change=2]="Change",t[t.Reset=3]="Reset"}(NotifyCollectionChangedAction=exports.NotifyCollectionChangedAction||(exports.NotifyCollectionChangedAction={}));var NotifyCollectionChangedEventArgs=function(t){function e(e,n,r){void 0===e&&(e=NotifyCollectionChangedAction.Reset),void 0===n&&(n=null),void 0===r&&(r=-1);var i=t.call(this)||this;return i.action=e,i.item=n,i.index=r,i}return __extends(e,t),e.reset=new e(NotifyCollectionChangedAction.Reset),e}(EventArgs);exports.NotifyCollectionChangedEventArgs=NotifyCollectionChangedEventArgs;var SortDescription=function(){function t(t,e){this._bnd=new Binding(t),this._asc=e}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}();exports.SortDescription=SortDescription;var PageChangingEventArgs=function(t){function e(e){var n=t.call(this)||this;return n.newPageIndex=e,n}return __extends(e,t),e}(CancelEventArgs);exports.PageChangingEventArgs=PageChangingEventArgs;var GroupDescription=function(){function t(){}return t.prototype.groupNameFromItem=function(t,e){return""},t.prototype.namesMatch=function(t,e){return t===e},t}();exports.GroupDescription=GroupDescription;var PropertyGroupDescription=function(t){function e(e,n){var r=t.call(this)||this;return r._bnd=new Binding(e),r._converter=n,r}return __extends(e,t),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),e.prototype.groupNameFromItem=function(t,e){return this._converter?this._converter(t,this.propertyName):this._bnd.getValue(t)},e.prototype.namesMatch=function(t,e){return t===e},e}(GroupDescription);exports.PropertyGroupDescription=PropertyGroupDescription;var ArrayBase=function(t){function e(){var e=this;return canChangePrototype?e.length=0:e=t.call(this)||this,e}return __extends(e,t),e}(Array);exports.ArrayBase=ArrayBase;var canChangePrototype=!0;try{ArrayBase.prototype=Array.prototype,canChangePrototype=ArrayBase.prototype===Array.prototype}catch(t){canChangePrototype=!1}var symb=window.Symbol;!canChangePrototype&&symb&&symb.species&&Object.defineProperty(ArrayBase,symb.species,{get:function(){return Array},enumerable:!1,configurable:!1});var ObservableArray=function(t){function e(e){var n=t.call(this)||this;if(n._updating=0,n.collectionChanged=new Event,e){e=asArray(e),n._updating++;for(var r=0;r<e.length;r++)n.push(e[r]);n._updating--}return n}return __extends(e,t),e.prototype.push=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this.length,i=0;e&&i<e.length;i++)r=t.prototype.push.call(this,e[i]),this._updating||this._raiseCollectionChanged(NotifyCollectionChangedAction.Add,e[i],r-1);return r},e.prototype.pop=function(){var e=t.prototype.pop.call(this);return this._raiseCollectionChanged(NotifyCollectionChangedAction.Remove,e,this.length),e},e.prototype.splice=function(e,n,r){var i;return n&&r?(i=t.prototype.splice.call(this,e,n,r),1==n?this._raiseCollectionChanged(NotifyCollectionChangedAction.Change,r,e):this._raiseCollectionChanged(),i):r?(i=t.prototype.splice.call(this,e,0,r),this._raiseCollectionChanged(NotifyCollectionChangedAction.Add,r,e),i):(i=t.prototype.splice.call(this,e,n),1==n?this._raiseCollectionChanged(NotifyCollectionChangedAction.Remove,i[0],e):this._raiseCollectionChanged(),i)},e.prototype.slice=function(e,n){return t.prototype.slice.call(this,e,n)},e.prototype.indexOf=function(e,n){return t.prototype.indexOf.call(this,e,n)},e.prototype.sort=function(e){var n=t.prototype.sort.call(this,e);return this._raiseCollectionChanged(),n},e.prototype.insert=function(t,e){this.splice(t,0,e)},e.prototype.remove=function(t){var e=this.indexOf(t);return e>-1&&(this.removeAt(e),!0)},e.prototype.removeAt=function(t){this.splice(t,1)},e.prototype.setAt=function(t,e){t>this.length&&(this.length=t),this.splice(t,1,e)},e.prototype.clear=function(){0!==this.length&&(this.splice(0,this.length),this._raiseCollectionChanged())},e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(){this._updating>0&&(this._updating--,0==this._updating&&this._raiseCollectionChanged())},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},e.prototype.implementsInterface=function(t){return"INotifyCollectionChanged"==t},e.prototype.onCollectionChanged=function(t){void 0===t&&(t=NotifyCollectionChangedEventArgs.reset),this.isUpdating||this.collectionChanged.raise(this,t)},e.prototype._raiseCollectionChanged=function(t,e,n){if(void 0===t&&(t=NotifyCollectionChangedAction.Reset),!this.isUpdating){var r=new NotifyCollectionChangedEventArgs(t,e,n);this.onCollectionChanged(r)}},e}(ArrayBase);exports.ObservableArray=ObservableArray;var CollectionView=function(){function t(t,e){var n=this;this._idx=-1,this._srtDsc=new ObservableArray,this._grpDesc=new ObservableArray,this._newItem=null,this._edtItem=null,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._trackChanges=!1,this._chgAdded=new ObservableArray,this._chgRemoved=new ObservableArray,this._chgEdited=new ObservableArray,this.collectionChanged=new Event,this.sourceCollectionChanging=new Event,this.sourceCollectionChanged=new Event,this.currentChanged=new Event,this.currentChanging=new Event,this.pageChanged=new Event,this.pageChanging=new Event,this._srtDsc.collectionChanged.addHandler(function(){for(var t=n._srtDsc,e=0;e<t.length;e++)assert(t[e]instanceof SortDescription,"sortDescriptions array must contain SortDescription objects.");n.canSort&&n.refresh()}),this._grpDesc.collectionChanged.addHandler(function(){for(var t=n._grpDesc,e=0;e<t.length;e++)assert(t[e]instanceof GroupDescription,"groupDescriptions array must contain GroupDescription objects.");n.canGroup&&n.refresh()}),this.sourceCollection=t||new ObservableArray,e&&(this.beginUpdate(),copy(this,e),this.endUpdate())}return t.prototype._copy=function(t,e){if("sortDescriptions"==t){this.sortDescriptions.clear();for(var n=asArray(e),r=0;r<n.length;r++)isString(i=n[r])&&(i=new SortDescription(i,!0)),this.sortDescriptions.push(i);return!0}if("groupDescriptions"==t){this.groupDescriptions.clear();for(var n=asArray(e),r=0;r<n.length;r++){var i=n[r];isString(i)&&(i=new PropertyGroupDescription(i)),this.groupDescriptions.push(i)}return!0}return!1},Object.defineProperty(t.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){this._stableSort=asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,e,n){return getAggregate(t,n?this._pgView:this._view,e)},Object.defineProperty(t.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),t.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear()},t.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(t.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError=asFunction(t)},enumerable:!0,configurable:!0}),t.prototype.onCollectionChanged=function(t){void 0===t&&(t=NotifyCollectionChangedEventArgs.reset),t.action!=NotifyCollectionChangedAction.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item),this.collectionChanged.raise(this,t)},t.prototype._raiseCollectionChanged=function(t,e,n){void 0===t&&(t=NotifyCollectionChangedAction.Reset);var r=new NotifyCollectionChangedEventArgs(t,e,n);this.onCollectionChanged(r)},t.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},t.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(t.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){if(!this.onSourceCollectionChanging(new CancelEventArgs))return;var e=this.currentPosition;this.commitEdit(),this.commitNew(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._src=asArray(t,!1),this._ncc=tryCast(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&e>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),t.prototype._sourceChanged=function(t,e){this._updating<=0&&this.refresh()},t.prototype.contains=function(t){return this._pgView.indexOf(t)>-1},t.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},t.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},t.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},t.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},t.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},t.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length&&t!=this._idx){var e=new CancelEventArgs;if(this.onCurrentChanging(e)){var n=this._pgView[t];this._edtItem&&n!=this._edtItem&&this.commitEdit(),this._newItem&&n!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged()}}return this._idx==t},t.prototype.refresh=function(){this._updating>0||this._newItem||this._edtItem||(this._performRefresh(),this.onCollectionChanged())},t.prototype._performRefresh=function(){if(!(this._updating>0)){var t=this.currentItem;this._src?this._filter&&this.canFilter?this._view=this._performFilter(this._src):this._view=this._srtDsc.length>0&&this.canSort?this._src.slice(0):this._src:this._view=[],this.canSort&&this._srtDsc.length>0&&this._performSort(this._view),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=clamp(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var e=this._pgView.indexOf(t);e<0&&(e=Math.min(this._idx,this._pgView.length-1)),this._idx=e,this._digest=this._getGroupsDigest(this.groups),this.currentItem!==t&&this.onCurrentChanged()}},t.prototype._performSort=function(t){if(this._stableSort){var e=t.map(function(t,e){return{item:t,index:e}}),n=this._compareItems();e.sort(function(t,e){var r=n(t.item,e.item);return 0==r?t.index-e.index:r});for(var r=0;r<t.length;r++)t[r]=e[r].item}else t.sort(this._compareItems())},t.prototype._compareItems=function(){var t=this._srtDsc,e=this._srtCvt,n=this._srtCmp,r=!0,i=0;return function(o,s){for(var a=0;a<t.length;a++){var u=t[a],l=u._bnd.getValue(o),c=u._bnd.getValue(s);if(e&&(l=e(u,o,l,r),c=e(u,s,c,!1),r=!1),n&&null!=(i=n(l,c)))return u.ascending?+i:-i;if(l!==l&&(l=null),c!==c&&(c=null),"string"==typeof l&&"string"==typeof c){var h=l.toLowerCase(),p=c.toLowerCase();h!=p&&(l=h,c=p)}if(null!=l&&null==c)return-1;if(null==l&&null!=c)return 1;if(0!=(i=l<c?-1:l>c?1:0))return u.ascending?+i:-i}return 0}},t.prototype._performFilter=function(t){return this.canFilter&&this._filter?t.filter(this._filter,this):t},t.prototype.onCurrentChanged=function(t){void 0===t&&(t=EventArgs.empty),this.currentChanged.raise(this,t)},t.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(t.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.refresh()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),t.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone={},this._extend(this._edtClone,this._edtItem))},t.prototype.commitEdit=function(){var t=this._edtItem;if(null!=t){this._committing=!0;var e=this._sameContent(t,this._edtClone);this._edtItem=null,this._edtClone=null;var n=this._pgView.indexOf(t),r=this._digest;this._performRefresh(),e||this._trackItemChanged(t),this._pgView.indexOf(t)==n&&r==this._digest?this._raiseCollectionChanged(NotifyCollectionChangedAction.Change,t,n):this._raiseCollectionChanged(),this._committing=!1}},t.prototype.cancelEdit=function(){var t=this._edtItem;if(null!=t){if(this._edtItem=null,!this.canCancelEdit)return void assert(!1,"cannot cancel edits (canCancelEdit == false).");var e=this._src.indexOf(t);if(e<0||!this._edtClone)return;this._extend(this._src[e],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(NotifyCollectionChangedAction.Change,t,e),this._canceling=!1}},t.prototype.addNew=function(){if(arguments.length>0&&assert(!1,"addNew does not take any parameters, it creates the new items."),this.commitEdit(),this.commitNew(),!this.canAddNew)return assert(!1,"cannot add items (canAddNew == false)."),null;var t=null,e=this.sourceCollection;if(null!=(t=this.newItemCreator?this.newItemCreator():e&&e.length?new e[0].constructor:{})){if(this._newItem=t,this._updating++,this._src.push(t),this._updating--,this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var n=this.groups[this.groups.length-1];for(n.items.push(t);n.groups&&n.groups.length;)(n=n.groups[n.groups.length-1]).items.push(t)}this._raiseCollectionChanged(NotifyCollectionChangedAction.Add,t,this._pgView.length-1),this.moveCurrentTo(t)}return this._newItem},t.prototype.commitNew=function(){var t=this._newItem;if(null!=t){this._newItem=null;var e=this._pgView.indexOf(t),n=this._digest;if(this._performRefresh(),this._trackChanges){var r=this._chgEdited.indexOf(t);r>-1&&this._chgEdited.removeAt(r),this._chgAdded.indexOf(t)<0&&this._chgAdded.push(t)}this._pgView.indexOf(t)==e&&n==this._digest?this._raiseCollectionChanged(NotifyCollectionChangedAction.Change,t,e):this._raiseCollectionChanged()}},t.prototype.cancelNew=function(){var t=this._newItem;null!=t&&this.remove(t)},t.prototype.remove=function(t){var e=t==this._newItem;if(e&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove){var n=this._src.indexOf(t);if(n>-1){var r=this.currentItem;this._updating++,this._src.splice(n,1),this._updating--;var i=this._digest;if(this._performRefresh(),this._trackChanges){var o=this._chgAdded.indexOf(t);o>-1&&this._chgAdded.removeAt(o);var s=this._chgEdited.indexOf(t);s>-1&&this._chgEdited.removeAt(s),this._chgRemoved.indexOf(t)<0&&!e&&o<0&&this._chgRemoved.push(t)}var a=this.sortDescriptions.length>0,u=this.pageSize>0&&this._pgIdx>-1;a||u||i!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(NotifyCollectionChangedAction.Remove,t,n),this.currentItem!==r&&this.onCurrentChanged()}}else assert(!1,"cannot remove items (canRemove == false).")},t.prototype.removeAt=function(t){t=asInt(t),this.remove(this._pgView[t])},t.prototype._trackItemChanged=function(t){if(this._trackChanges){var e=this.sourceCollection;if(e&&e.indexOf(t)>-1){var n=this._chgEdited.indexOf(t),r=NotifyCollectionChangedAction.Change;if(n<0&&this._chgAdded.indexOf(t)<0)this._chgEdited.push(t);else if(n>-1){i=new NotifyCollectionChangedEventArgs(r,t,n);this._chgEdited.onCollectionChanged(i)}else if((n=this._chgAdded.indexOf(t))>-1){var i=new NotifyCollectionChangedEventArgs(r,t,n);this._chgAdded.onCollectionChanged(i)}}}},t.prototype._extend=function(t,e){for(var n in e)t[n]=e[n]},t.prototype._sameContent=function(t,e){for(var n in e)if(!this._sameValue(t[n],e[n]))return!1;for(var n in t)if(!this._sameValue(t[n],e[n]))return!1;return!0},t.prototype._sameValue=function(t,e){return t===e||DateTime.equals(t,e)},Object.defineProperty(t.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),t.prototype.moveToFirstPage=function(){return this.moveToPage(0)},t.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},t.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},t.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},t.prototype.moveToPage=function(t){var e=clamp(t,0,this.pageCount-1);if(e!=this._pgIdx){this.canChangePage||assert(!1,"cannot change pages (canChangePage == false).");var n=new PageChangingEventArgs(e);this.onPageChanging(n)&&(this._pgIdx=e,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():this.onCollectionChanged(),this.onPageChanged())}return this._pgIdx==t},t.prototype.onPageChanged=function(t){void 0===t&&(t=EventArgs.empty),this.pageChanged.raise(this,t)},t.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},t.prototype._getFullGroup=function(t){var e=this._getGroupByPath(this._fullGroups,t.level,t._path);return null!=e&&(t=e),t},t.prototype._getGroupByPath=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.level==e&&i._path==n)return i;if(i.level<e&&0==n.indexOf(i._path)&&null!=(i=this._getGroupByPath(i.groups,e,n)))return i}return null},t.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,e=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,e)},t.prototype._createGroups=function(t){if(!this._grpDesc||!this._grpDesc.length)return null;for(var e=[],n={},r=null,i=0;i<t.length;i++)for(var o=t[i],s=e,a=this._grpDesc.length,u="",l=0;l<a;l++){var c=this._grpDesc[l],h=c.groupNameFromItem(o,l),p=l==a-1;!(r=n[u])&&isPrimitive(h)&&(r={},n[u]=r);var f=this._getGroup(c,s,r,h,l,p);u+="/"+h,f._path=u,p&&f.items.push(o),s=f.groups}return e},t.prototype._getGroupsDigest=function(t){for(var e="",n=0;null!=t&&n<t.length;n++){var r=t[n];e+="{"+r.name+":"+(r.items?r.items.length:"*"),r.groups.length>0&&(e+=",",e+=this._getGroupsDigest(r.groups)),e+="}"}return e},t.prototype._mergeGroupItems=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r._isBottomLevel)for(var i=this._mergeGroupItems(r.groups),o=0,s=i.length;o<s;o++)r._items.push(i[o]);for(var o=0,s=r._items.length;o<s;o++)e.push(r._items[o])}return e},t.prototype._getGroup=function(t,e,n,r,i,o){var s;if(n&&isPrimitive(r)){if(s=n[r])return s}else for(var a=0;a<e.length;a++)if(t.namesMatch(e[a].name,r))return e[a];var u=new CollectionViewGroup(t,r,i,o);return e.push(u),n&&(n[r]=u),u},t}();exports.CollectionView=CollectionView;var CollectionViewGroup=function(){function t(t,e,n,r){this._gd=t,this._name=e,this._level=n,this._isBottomLevel=r,this._groups=[],this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,e,n){var r=tryCast(n,CollectionView);return getAggregate(t,(r?r._getFullGroup(this):this).items,e)},t}();exports.CollectionViewGroup=CollectionViewGroup;var Tooltip=function(){function t(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._html=!0,this._gap=6,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new Event,copy(this,t)}return t.prototype.setTooltip=function(t,e){t=getElement(t),e=this._getContent(e);var n=this._indexOf(t);n>-1&&(this._detach(t),this._tips.splice(n,1)),e&&(this._attach(t),this._tips.push({element:t,content:e}))},t.prototype.getTooltip=function(t){t=getElement(t);for(var e=this._tips,n=0;n<e.length;n++)if(e[n].element==t)return e[n].content;return null},t.prototype.show=function(e,n,r){e=getElement(e),n=this._getContent(n),r||(r=Rect.fromBoundingRect(e.getBoundingClientRect()));var i=t._eTip;i||(addClass(i=t._eTip=document.createElement("div"),"wj-tooltip"),i.style.visibility="none"),this._setContent(n);var o=new TooltipEventArgs(n);this.onPopup(o),o.content&&!o.cancel&&(document.body.appendChild(i),this._setContent(o.content),i.style.minWidth="",showPopup(i,r=new Rect(r.left-(i.offsetWidth-r.width)/2,r.top-this.gap,i.offsetWidth,r.height+2*this.gap),!0),document.addEventListener("mousedown",this._hideAutoTipBnd))},t.prototype.hide=function(){var e=t._eTip;e&&(e.parentElement&&e.parentElement.removeChild(e),e.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},t.prototype.dispose=function(){var t=this;this._tips.forEach(function(e){t._detach(e.element)}),this._tips.splice(0,this._tips.length)},Object.defineProperty(t.prototype,"isVisible",{get:function(){return t._eTip&&"hidden"!=t._eTip.style.visibility},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=asInt(t)},enumerable:!0,configurable:!0}),t.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},t.prototype._indexOf=function(t){for(var e=0;e<this._tips.length;e++)if(this._tips[e].element==t)return e;return-1},t.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd)},t.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd)},t.prototype._showAutoTip=function(t){var e=this;if(!t.defaultPrevented)if("click"!=t.type||Control._touching){var n="mouseenter"==t.type?this._showDelay:0;this._clearTimeouts(),this._toShow=setTimeout(function(){var n=e._indexOf(t.target);if(n>-1){var r=e._tips[n],i=e._showAtMouse?new Rect(t.clientX,t.clientY,0,0):null;e.show(r.element,r.content,i),e._hideDelay>0&&(e._toHide=setTimeout(function(){e.hide()},e._hideDelay))}},n)}else this._hideAutoTip()},t.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},t.prototype._getContent=function(t){if((t=asString(t))&&"#"==t[0]){var e=getElement(t);e&&(t=e.innerHTML)}return t},t.prototype._setContent=function(e){var n=t._eTip;n&&(this.isContentHtml?n.innerHTML=e:n.textContent=e)},t}();exports.Tooltip=Tooltip;var ElementContent=function(){return function(){}}(),TooltipEventArgs=function(t){function e(e){var n=t.call(this)||this;return n._content=asString(e),n}return __extends(e,t),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=asString(t)},enumerable:!0,configurable:!0}),e}(CancelEventArgs);exports.TooltipEventArgs=TooltipEventArgs;var Color=function(){function t(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=clamp(asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=clamp(asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=clamp(asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=clamp(asNumber(t),0,1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&this.r==e.r&&this.g==e.g&&this.b==e.b&&this.a==e.a},t.prototype.toString=function(){var t=Math.round(100*this.a);return t>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},t.fromRgba=function(e,n,r,i){void 0===i&&(i=1);var o=new t(null);return o.r=Math.round(clamp(asNumber(e),0,255)),o.g=Math.round(clamp(asNumber(n),0,255)),o.b=Math.round(clamp(asNumber(r),0,255)),o.a=clamp(asNumber(i),0,1),o},t.fromHsb=function(e,n,r,i){void 0===i&&(i=1);var o=t._hsbToRgb(clamp(asNumber(e),0,1),clamp(asNumber(n),0,1),clamp(asNumber(r),0,1));return t.fromRgba(o[0],o[1],o[2],i)},t.fromHsl=function(e,n,r,i){void 0===i&&(i=1);var o=t._hslToRgb(clamp(asNumber(e),0,1),clamp(asNumber(n),0,1),clamp(asNumber(r),0,1));return t.fromRgba(o[0],o[1],o[2],i)},t.fromString=function(e){var n=new t(null);return n._parse(asString(e))?n:null},t.prototype.getHsb=function(){return t._rgbToHsb(this.r,this.g,this.b)},t.prototype.getHsl=function(){return t._rgbToHsl(this.r,this.g,this.b)},t.interpolate=function(e,n,r){r=clamp(asNumber(r),0,1);var i=t._rgbToHsl(e.r,e.g,e.b),o=t._rgbToHsl(n.r,n.g,n.b),s=1-r,a=e.a*s+n.a*r,u=[i[0]*s+o[0]*r,i[1]*s+o[1]*r,i[2]*s+o[2]*r],l=t._hslToRgb(u[0],u[1],u[2]);return t.fromRgba(l[0],l[1],l[2],a)},t.toOpaque=function(e,n){if(1==(e=isString(e)?t.fromString(e):asType(e,t)).a)return e;n=null==n?t.fromRgba(255,255,255,1):isString(n)?t.fromString(n):asType(n,t);var r=e.a,i=1-r;return t.fromRgba(e.r*r+n.r*i,e.g*r+n.g*i,e.b*r+n.b*i)},t.prototype._parse=function(e){if("transparent"==(e=e.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(e&&0!=e.indexOf("#")&&0!=e.indexOf("rgb")&&0!=e.indexOf("hsl")){var n=document.createElement("div");n.style.color=e;var r=n.style.color;r==e&&((r=window.getComputedStyle(n).color)||(document.body.appendChild(n),r=window.getComputedStyle(n).color,document.body.removeChild(n))),e=r.toLowerCase()}if(0==e.indexOf("#"))return 4==e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[2],16),this.b=parseInt(e[3]+e[3],16),this.a=1,!0):7==e.length&&(this.r=parseInt(e.substr(1,2),16),this.g=parseInt(e.substr(3,2),16),this.b=parseInt(e.substr(5,2),16),this.a=1,!0);if(0==e.indexOf("rgb")){var i=e.indexOf("("),o=e.indexOf(")");if(i>-1&&o>-1&&(s=e.substr(i+1,o-(i+1)).split(",")).length>2)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0}if(0==e.indexOf("hsl")){var i=e.indexOf("("),o=e.indexOf(")");if(i>-1&&o>-1){var s=e.substr(i+1,o-(i+1)).split(",");if(s.length>2){var a=parseInt(s[0])/360,u=parseInt(s[1]),l=parseInt(s[2]);s[1].indexOf("%")>-1&&(u/=100),s[2].indexOf("%")>-1&&(l/=100);var c=t._hslToRgb(a,u,l);return this.r=c[0],this.g=c[1],this.b=c[2],this.a=s.length>3?parseFloat(s[3]):1,!0}}}return!1},t._hslToRgb=function(e,n,r){assert(e>=0&&e<=1&&n>=0&&n<=1&&r>=0&&r<=1,"bad HSL values");var i,o,s;if(0==n)i=o=s=r;else{var a=r<.5?r*(1+n):r+n-r*n,u=2*r-a;i=t._hue2rgb(u,a,e+1/3),o=t._hue2rgb(u,a,e),s=t._hue2rgb(u,a,e-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*s)]},t._hue2rgb=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},t._rgbToHsl=function(t,e,n){assert(t>=0&&t<=255&&e>=0&&e<=255&&n>=0&&n<=255,"bad RGB values"),t/=255,e/=255,n/=255;var r,i,o=Math.max(t,e,n),s=Math.min(t,e,n),a=(o+s)/2;if(o==s)r=i=0;else{var u=o-s;switch(i=a>.5?u/(2-o-s):u/(o+s),o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return[r,i,a]},t._rgbToHsb=function(e,n,r){assert(e>=0&&e<=255&&n>=0&&n<=255&&r>=0&&r<=255,"bad RGB values");var i=t._rgbToHsl(e,n,r);return t._hslToHsb(i[0],i[1],i[2])},t._hsbToRgb=function(e,n,r){var i=t._hsbToHsl(e,n,r);return t._hslToRgb(i[0],i[1],i[2])},t._hsbToHsl=function(t,e,n){assert(t>=0&&t<=1&&e>=0&&e<=1&&n>=0&&n<=1,"bad HSB values");var r=clamp(n*(2-e)/2,0,1),i=1-Math.abs(2*r-1),o=clamp(i>0?n*e/i:e,0,1);return assert(!isNaN(r)&&!isNaN(o),"bad conversion to HSL"),[t,o,r]},t._hslToHsb=function(t,e,n){assert(t>=0&&t<=1&&e>=0&&e<=1&&n>=0&&n<=1,"bad HSL values");var r=clamp(1==n?1:(2*n+e*(1-Math.abs(2*n-1)))/2,0,1),i=clamp(r>0?2*(r-n)/r:e,0,1);return assert(!isNaN(r)&&!isNaN(i),"bad conversion to HSB"),[t,i,r]},t}();exports.Color=Color;var Clipboard=function(){function t(){}return t.copy=function(e){t._copyPasteInternal(e)},t.paste=function(e){t._copyPasteInternal(e)},t._copyPasteInternal=function(t){for(var e=getActiveElement(),n=closest(e,".wj-control");n&&Control.getControl(n);)n=n.parentElement;if(null==n&&(n=document.body),n){var r=document.createElement("textarea");r.style.position="fixed",r.style.opacity="0",n.appendChild(r),isString(t)&&(r.value=t),r.select(),r.onkeydown=function(t){t.preventDefault()},setTimeout(function(){e.focus();var i=r.value;n.removeChild(r),isFunction(t)&&t(i)},100)}},t}();exports.Clipboard=Clipboard,exports.showPopup=showPopup,exports.hidePopup=hidePopup;var PrintDocument=function(){function t(t){this._copyCss=!0,null!=t&&copy(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},t.prototype.append=function(t){var e=this._getDocument(),n=e.body,r=!1;if(n)if(isString(t))n.appendChild(createElement(t));else if(t instanceof Node){i=this._cloneNode(t);n.appendChild(i)}else r=!0;else if(isString(t))e.write(t);else if(t instanceof HTMLElement){var i=this._cloneNode(t);e.write(i.outerHTML)}else r=!0;r&&assert(!1,"child parameter should be an HTML node or an HTML string.")},t.prototype.print=function(){var t=this;this._iframe&&(this._close(),setTimeout(function(){var e=t._iframe.contentWindow,n="onafterprint"in e&&!isFirefox();n&&(e.onafterprint=function(){document.body.removeChild(t._iframe),t._iframe=null}),document.queryCommandSupported("print")?e.document.execCommand("print",!1,null):(e.focus(),e.print()),n||(document.body.removeChild(t._iframe),t._iframe=null)},100))},t.prototype._cloneNode=function(t){var e=t.cloneNode(!0);return t instanceof HTMLElement&&e instanceof HTMLElement&&["select","textarea"].forEach(function(n){for(var r=t.querySelectorAll(n),i=e.querySelectorAll(n),o=0;o<r.length;o++)i[o].value=r[o].value}),e},t.prototype._getDocument=function(){return this._iframe||(this._iframe=document.createElement("iframe"),addClass(this._iframe,"wj-printdocument"),setCss(this._iframe,{position:"fixed",left:1e4,top:1e4}),document.body.appendChild(this._iframe),this._iframe.contentDocument.write('<body style="position:static"/>')),this._iframe.contentDocument},t.prototype._close=function(){var t=this._getDocument();if(t.close(),t.title=null!=this.title?this.title:document.title,t.title&&t.title.trim()||(t.title=" "),this._copyCss){for(var e=document.head.querySelectorAll("link"),n=0;n<e.length;n++){var r=e[n];if(r.href.match(/\.css$/i)&&r.rel.match(/stylesheet/i)){s=httpRequest(r.href,{async:!1});this._addStyle(s.responseText)}}for(var i=document.head.querySelectorAll("STYLE"),n=0;n<i.length;n++)this._addStyle(i[n].textContent)}if(this._css)for(n=0;n<this._css.length;n++){var o=t.createElement("style"),s=httpRequest(this._css[n],{async:!1});o.textContent=s.responseText,t.head.appendChild(o)}},t.prototype._addStyle=function(t){var e=this._getDocument(),n=e.createElement("style");n.textContent=t,e.head.appendChild(n)},t}();exports.PrintDocument=PrintDocument;var _MaskProvider=function(){function t(t,e,n){void 0===e&&(e=null),void 0===n&&(n="_"),this._promptChar="_",this._mskArr=[],this._full=!0,this._hbInput=this._input.bind(this),this._hbKeyDown=this._keydown.bind(this),this._hbKeyPress=this._keypress.bind(this),this._hbCompositionStart=this._compositionstart.bind(this),this._hbCompositionEnd=this._compositionend.bind(this),this.mask=e,this.input=t,this.promptChar=n,this._connect(!0)}return Object.defineProperty(t.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=asString(t,!1),assert(1==this._promptChar.length,"promptChar must be a string with length 1."),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),t.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},t.prototype.getRawValue=function(){var t=this._tbx.value,e="";if(!this.mask)return t;for(var n=0;n<this._mskArr.length&&n<t.length;n++)this._mskArr[n].literal||t[n]==this._promptChar||(e+=t[n]);return e},t.prototype.refresh=function(){this._parseMask(),this._valueChanged()},t.prototype._input=function(){var t=this;this._composing||setTimeout(function(){t._valueChanged()})},t.prototype._keydown=function(t){if(t.keyCode==Key.Back){var e=this._tbx.selectionStart,n=this._tbx.selectionEnd;if(e<=this._firstPos&&n==e)return t.preventDefault(),void(this._backSpace=!1)}this._backSpace=t.keyCode==Key.Back},t.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},t.prototype._compositionstart=function(t){this._composing=!0},t.prototype._compositionend=function(t){var e=this;this._composing&&(this._composing=!1,setTimeout(function(){e._valueChanged()}))},t.prototype._preventKey=function(t){if(t&&this._mskArr.length){var e=this._tbx,n=e.selectionStart,r=String.fromCharCode(t);if(n<this._firstPos&&setSelectionRange(e,n=this._firstPos),n>=this._mskArr.length)return!0;var i=this._mskArr[n];if(i.literal)this._validatePosition(n);else if(i.wildCard!=r&&!this._isCharValid(i.wildCard,r))return!0}return!1},t.prototype._connect=function(t){var e=this._tbx;e&&(t?(this._autoComplete=e.autocomplete,this._spellCheck=e.spellcheck,e.autocomplete="off",e.spellcheck=!1,e.addEventListener("input",this._hbInput),e.addEventListener("keydown",this._hbKeyDown,!0),e.addEventListener("keypress",this._hbKeyPress,!0),e.addEventListener("compositionstart",this._hbCompositionStart,!0),e.addEventListener("compositionend",this._hbCompositionEnd,!0),e.addEventListener("blur",this._hbCompositionEnd,!0),this._valueChanged()):(e.autocomplete=this._autoComplete,e.spellcheck=this._spellCheck,e.removeEventListener("input",this._hbInput),e.removeEventListener("keydown",this._hbKeyDown,!0),e.removeEventListener("keypress",this._hbKeyPress,!0),e.removeEventListener("compositionstart",this._hbCompositionStart,!0),e.removeEventListener("compositionend",this._hbCompositionEnd,!0),e.removeEventListener("blur",this._hbCompositionEnd,!0)))},t.prototype._valueChanged=function(){if(this._tbx&&this._msk){var t=this._tbx,e=t.value.length<2,n=t.selectionStart,r=n>0?t.value[n-1]:"";t.value=this._applyMask(),e&&(n=this._firstPos+1);var i=n>0?t.value[n-1]:"";n>0&&i==this._promptChar&&r!=this.promptChar&&n--,this._validatePosition(n)}},t.prototype._applyMask=function(){this._full=!0;var t=this._tbx.value;if(!this._msk)return t;if(!t&&!this._tbx.required)return t;var e="",n=0;t=this._handleVagueLiterals(t);for(var r=0;r<this._mskArr.length;r++){var i=this._mskArr[r],o=i.literal;if(o&&o==t[n]&&n++,i.wildCard){if(o=this._promptChar,t){for(var s=n;s<t.length;s++)if(this._isCharValid(i.wildCard,t[s])){switch(o=t[s],i.charCase){case">":o=o.toUpperCase();break;case"<":o=o.toLowerCase()}break}n=s+1}o==this._promptChar&&(this._full=!1)}e+=o}return e},t.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var e=t.length-this._mskArr.length;if(0!=e&&t.length>1){for(var n=-1,r=Math.max(0,this._tbx.selectionStart-e);r<this._mskArr.length;r++)if(this._mskArr[r].vague){n=r;break}if(n>-1)if(e<0){var i=Array(1-e).join(this._promptChar),o=n+e;o>-1&&(t=t.substr(0,o)+i+t.substr(o))}else{for(;n>0&&this._mskArr[n-1].literal;)n--;t=t.substr(0,n)+t.substr(n+e)}}return t},t.prototype._isCharValid=function(e,n){var r=this._promptChar;switch(e){case"0":return n>="0"&&n<="9"||n==r;case"9":return n>="0"&&n<="9"||" "==n||n==r;case"#":return n>="0"&&n<="9"||" "==n||"+"==n||"-"==n||n==r;case"L":return n>="a"&&n<="z"||n>="A"&&n<="Z"||n==r;case"l":return n>="a"&&n<="z"||n>="A"&&n<="Z"||" "==n||n==r;case"A":return n>="0"&&n<="9"||n>="a"&&n<="z"||n>="A"&&n<="Z"||n==r;case"a":return n>="0"&&n<="9"||n>="a"&&n<="z"||n>="A"&&n<="Z"||" "==n||n==r;case"９":return n>="０"&&n<="９"||n==r;case"Ｊ":case"Ｇ":return!("Ｇ"==e&&t._X_DBCS_BIG_HIRA.indexOf(n)>-1)&&(n>="ぁ"&&n<="ゖ"||n==r);case"Ｋ":case"Ｎ":return!("Ｎ"==e&&t._X_DBCS_BIG_KATA.indexOf(n)>-1)&&(n>="ァ"&&n<="ヺ"||n==r);case"Ｚ":return n<="!"||n>="ÿ"||n==r;case"H":return n>="!"&&n<="ÿ"||n==r;case"K":case"N":return!("N"==e&&t._X_SBCS_BIG_KATA.indexOf(n)>-1)&&(n>="ｦ"&&n<="ﾟ"||n==r)}return!1},t.prototype._validatePosition=function(t){var e=this._mskArr;if(this._backSpace)for(;t>0&&t<e.length&&e[t-1].literal;)t--;if(0==t||!this._backSpace)for(;t<e.length&&e[t].literal;)t++;getActiveElement()==this._tbx&&setSelectionRange(this._tbx,t),this._backSpace=!1},t.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,e=this._msk,n="|",r=0;e&&r<e.length;r++)switch(e[r]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"９":case"Ｊ":case"Ｇ":case"Ｋ":case"Ｎ":case"Ｚ":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new _MaskElement(e[r],n));break;case".":case",":case":":case"/":case"$":switch(e[r]){case".":case",":t=exports.culture.Globalize.numberFormat[e[r]];break;case":":case"/":t=exports.culture.Globalize.calendar[e[r]];break;case"$":t=exports.culture.Globalize.numberFormat.currency.symbol}for(o=0;o<t.length;o++)this._mskArr.push(new _MaskElement(t[o]));break;case"<":case">":case"|":n=e[r];break;case"\\":r<e.length-1&&r++,this._mskArr.push(new _MaskElement(e[r]));break;default:this._mskArr.push(new _MaskElement(e[r]))}for(r=0;r<this._mskArr.length;r++){var i=this._mskArr[r];if(i.literal)for(var o=0;o<r;o++){var s=this._mskArr[o];if(s.wildCard&&this._isCharValid(s.wildCard,i.literal)){i.vague=!0;break}}}},t._X_DBCS_BIG_HIRA="ぁぃぅぇぉっゃゅょゎゕゖ",t._X_DBCS_BIG_KATA="ァィゥェォッャュョヮヵヶ",t._X_SBCS_BIG_KATA="ｧｨｩｪｫｬｭｮｯ",t}();exports._MaskProvider=_MaskProvider;var _MaskElement=function(){return function(t,e){e?(this.wildCard=t,this.charCase=e):this.literal=t}}();exports._MaskElement=_MaskElement;var _isMobile=null!=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i);exports.isMobile=isMobile;var _isFF=null!=navigator.userAgent.match(/Firefox\//);exports.isFirefox=isFirefox;var _isSafari=null!=navigator.userAgent.match(/^((?!chrome|android).)*safari/i);exports.isSafari=isSafari;var _isIE=null!=navigator.userAgent.match(/MSIE |Trident\/|Edge\//);exports.isIE=isIE;var _isIE9=!1;exports.isIE9=isIE9;var _supportsPassive=!1;document.addEventListener("test",function(t){},{get passive(){return _supportsPassive=!0,!0}}),exports.getEventOptions=getEventOptions,exports._startDrag=_startDrag,document.doctype&&navigator.appVersion.indexOf("MSIE 9")>-1&&(_isIE9=!0,document.addEventListener("mousemove",function(t){if(1==t.which){var e=closest(t.target,".wj-control");if(e&&!e.style.cursor)for(var n=t.target;n;n=n.parentNode)if(n.attributes&&n.attributes.draggable)return n.dragDrop(),!1}}));var raf="requestAnimationFrame",caf="cancelAnimationFrame";if(!window[raf]){var expectedTime_1=0;window[raf]=function(t){var e=Date.now(),n=16-(e-expectedTime_1),r=n>0?n:0;return expectedTime_1=e+r,setTimeout(function(){t(expectedTime_1)},r)},window[caf]=clearTimeout}

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.viewer.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
    *
    * Wijmo Library 5.20173.380
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
function _pointMove(e,t,o,n){var r,i=e?1:-1;return o instanceof wjcCore.Point?(r=o.x,n=o.y):(r=o,n=n||0),new wjcCore.Point(t.x+i*r,t.y+i*n)}function _createSvgBtn(e){var t=_toDOM(_svgStart+e+_svgEnd);wjcCore.addClass(t,"wj-svg-btn");var o=document.createElement("a");return o.appendChild(t),wjcCore.addClass(o,"wj-btn"),o.tabIndex=0,o}function _setLandscape(e,t){if(e.landscape!==t){e.landscape=t;var o=e.width;e.width=e.height,e.height=o;var n=e.leftMargin;t?(e.leftMargin=e.bottomMargin,e.bottomMargin=e.rightMargin,e.rightMargin=e.topMargin,e.topMargin=n):(e.leftMargin=e.topMargin,e.topMargin=e.rightMargin,e.rightMargin=e.bottomMargin,e.bottomMargin=n)}}function _clonePageSettings(e){if(!e)return null;var t={};return t.height=e.height?new _Unit(e.height):null,t.width=e.width?new _Unit(e.width):null,t.bottomMargin=e.bottomMargin?new _Unit(e.bottomMargin):null,t.leftMargin=e.leftMargin?new _Unit(e.leftMargin):null,t.rightMargin=e.rightMargin?new _Unit(e.rightMargin):null,t.topMargin=e.topMargin?new _Unit(e.topMargin):null,t.landscape=e.landscape,t.paperSize=e.paperSize,t}function _enumToArray(e){var t=[];for(var o in e)o&&o.length&&"_"!=o[0]&&!isNaN(parseInt(o))&&t.push({text:e[o],value:o});return t}function _removeChildren(e,t){if(e&&e.children)for(var o=e.children,n=o.length-1;n>-1;n--){var r=o[n];if(null==t||t(r)){var i=e.querySelector(".wj-control");i&&(i=wjcCore.Control.getControl(i))&&i.dispose(),e.removeChild(r)}}}function _toDOMs(e){var t,o=document.createElement("div"),n=document.createDocumentFragment();for(o.innerHTML=e;t=o.firstChild;)n.appendChild(t);return n}function _toDOM(e){return _toDOMs(e).firstChild}function _addEvent(e,t,o,n){for(var r,i=t.split(","),a=0;a<i.length;a++)r=i[a].trim(),e.addEventListener?e.addEventListener(r,o,n):e.attachEvent?e.attachEvent("on"+r,o):e["on"+r]=o}function _removeEvent(e,t,o){for(var n,r=t.split(","),i=0;i<r.length;i++)n=r[i].trim(),e.removeEventListener?e.removeEventListener(n,o):e.detachEvent?e.detachEvent("on"+n,o):e["on"+n]=null}function _checkImageButton(e,t){t?wjcCore.addClass(e,_checkedCss):wjcCore.removeClass(e,_checkedCss)}function _disableImageButton(e,t){t?wjcCore.addClass(e,_disabledCss):wjcCore.removeClass(e,_disabledCss)}function _showImageButton(e,t){t?wjcCore.removeClass(e,exports._hiddenCss):wjcCore.addClass(e,exports._hiddenCss)}function _isDisabledImageButton(e){return wjcCore.hasClass(e,_disabledCss)}function _isCheckedImageButton(e){return wjcCore.hasClass(e,_checkedCss)}function _addWjHandler(e,t,o,n){if(e){var r=t[wjEventsName];r||(r=t[wjEventsName]={});var i=r[e];i||(i=r[e]=[]),i.push(o)}t.addHandler(o,n)}function _removeAllWjHandlers(e,t){if(e){var o=t[wjEventsName];if(o){var n=o[e];n&&n.forEach(function(e){return t.removeHandler(e)})}}}function _getErrorMessage(e){var t=e||wjcCore.culture.Viewer.errorOccured;return e.Message&&(t=e.Message,e.ExceptionMessage&&(t+="<br/>"+e.ExceptionMessage)),t}function _checkSeparatorShown(e){for(var t,o,n,r,i=!0,a=0;a<e.children.length;a++)o=e.children[a],t=wjcCore.hasClass(o,"wj-separator"),n=wjcCore.hasClass(o,exports._hiddenCss),t||n?t&&(i?n||wjcCore.addClass(o,exports._hiddenCss):(n&&wjcCore.removeClass(o,exports._hiddenCss),r=o),i=!0):i=!1;i&&r&&wjcCore.addClass(r,"hidden")}function _twipToPixel(e){return _Unit.convertValue(e,_UnitType.Twip,_UnitType.Dip)}function _pixelToTwip(e){return _Unit.convertValue(e,_UnitType.Dip,_UnitType.Twip)}function _hasScrollbar(e,t){return t?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight}function _transformSvg(e,t,o,n,r){n=null==n?1:n;var i=e.querySelector("g");if(i){var a="scale("+n+")";if(null!=r)switch(r){case _RotateAngle.Rotation90:a+=" rotate(90)",a+=" translate(0 "+-o+")";break;case _RotateAngle.Rotation180:a+=" rotate(180)",a+=" translate("+-t+" "+-o+")";break;case _RotateAngle.Rotation270:a+=" rotate(270)",a+=" translate("+-t+" 0)"}i.setAttribute("transform",a),wjcCore.isIE&&((e=i.parentNode).removeChild(i),e.appendChild(i))}return e}function _getTransformedPosition(e,t,o,n){var r,i,a={x:_twipToPixel(e.x),y:_twipToPixel(e.y),width:_twipToPixel(e.width),height:_twipToPixel(e.height)};switch(o){case _RotateAngle.NoRotate:r=a.y,i=a.x;break;case _RotateAngle.Rotation90:r=a.x,i=t.height.valueInPixel-a.y-a.height;break;case _RotateAngle.Rotation180:r=t.height.valueInPixel-a.y-a.height,i=t.width.valueInPixel-a.x-a.width;break;case _RotateAngle.Rotation270:r=t.width.valueInPixel-a.x-a.width,i=a.y}return new wjcCore.Point(i*n,r*n)}function _getRotatedSize(e,t){return t===_RotateAngle.NoRotate||t===_RotateAngle.Rotation180?e:{width:e.height,height:e.width}}function _getPositionByHitTestInfo(e){return e?{pageIndex:e.pageIndex,pageBounds:{x:e.x,y:e.y,width:0,height:0}}:{pageIndex:0,pageBounds:{x:0,y:0,width:0,height:0}}}function _statusJsonReviver(e,t){if(wjcCore.isString(t)){if(_strEndsWith(e,"DateTime"))return new Date(t);if("width"===e||"height"===e||_strEndsWith(e,"Margin"))return new _Unit(t)}return t}function _pageSettingsJsonReviver(e,t){return wjcCore.isString(t)&&("width"===e||"height"===e||_strEndsWith(e,"Margin"))?new _Unit(t):t}function _strEndsWith(e,t){return e.slice(-t.length)===t}function _appendQueryString(e,t){t=t||{};var o=[];for(var n in t)o.push(n+"="+t[n]);return o.length&&(e+=(e.indexOf("?")<0?"?":"&")+o.join("&")),e}function _joinUrl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=[],n=0,r=e.length;n<r;n++){var i=e[n];i&&("string"!=typeof i?o=o.concat(_joinStringUrl(i)):o.push(_prepareStringUrl(i).join("/")))}return o.join("/")}function _joinStringUrl(e){if(null==e)return null;for(var t=[],o=0,n=e.length;o<n;o++)t=t.concat(_prepareStringUrl(e[o]));return t}function _prepareStringUrl(e){var t=e.split("/");return t.length>0&&!t[t.length-1].length&&t.splice(t.length-1),t}function _httpRequest(e,t){if(t&&t.cache||(e=_disableCache(e)),t&&"GET"!==(t.method||"GET").toUpperCase()){if(t.data){var o=_objToParams(t.data);null!=o&&(t.data=o)}t.requestHeaders?t.requestHeaders["Content-Type"]||(t.requestHeaders["Content-Type"]="application/x-www-form-urlencoded"):t.requestHeaders={"Content-Type":"application/x-www-form-urlencoded"}}return wjcCore.httpRequest(e,t)}function _objToParams(e){var t=[];e=e||{};for(var o in e)if(null!==e[o]&&void 0!==e[o])if(wjcCore.isArray(e[o]))if(e[o].length>0)for(var n=0;n<e[o].length;n++)t.push(o+"="+encodeURIComponent(e[o][n]));else t.push(o+"=");else t.push(o+"="+encodeURIComponent(e[o]));return t.join("&")}function _disableCache(e){return e+(-1==e.indexOf("?")?"?":"&")+"_="+(new Date).getTime()}function _parseReportExecutionInfo(e){return JSON.parse(e,_statusJsonReviver)}function _parseExecutionInfo(e){return JSON.parse(e,_statusJsonReviver)}function _getTouchEventMap(){return"ontouchstart"in window?_touchEventsMap:_pointerEventsMap}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),wjcInput=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js"),wjcGrid=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.js"),wjcSelf=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.viewer.js");window.wijmo=window.wijmo||{},window.wijmo.viewer=wjcSelf;var _svgStart='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox = "0 0 24 24" xml: space = "preserve" >',_svgEnd="</svg>";exports.icons={paginated:'<rect x="16" y= "1" width="1" height="1" /><rect x="17" y= "2" width="1" height="1" /><rect x="18" y= "3" width="1" height="1" /><path d= "M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M5,22.1V2h8v5h1h1h3v15.1H5z" /><rect x="6" y= "8" width="10" height="1" /><rect x="6" y= "5" width="5" height="1" /><rect x="6" y= "11" width="10" height="1" /><rect x="6" y= "14" width="10" height="1" /><rect x="6" y= "17" width="10" height="1" /><rect x="6" y= "20" width="10" height="1" />',print:'<rect x="5" y= "1" width="14" height="4" /><polygon points= "22,8 22,7 19,7 19,6 5,6 5,7 2,7 2,8 1,8 1,11 1,20 2,20 2,21 5,21 5,11 19,11 19,21 22,21 22,20 23,20 23, 11 23, 8 "/><path d="M6,12v11h12V12H6z M16,21H8v-1h8V21z M16,18H8v-1h8V18z M16,15H8v-1h8V15z" />',exports:'<path d="M19.6,23"/><polyline points="5,19 5,2 13,2 13,7 14.3,7 15,7 18,7 18,9 20,9 20,7 20,6.4 20,5 20,4 19,4 19,5 15,5 15,2 15,1 16,1 16,0 15,0 5,0 3,0 3,2 3,19 3,21 5,21 "/><rect x="18" y="3" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="16" y="1" width="1" height="1"/><polygon points="17,16.6 20,14.1 17,11.6 17,13.6 13,13.6 13,14.6 17,14.6 "/><rect x="3" y="20.9" width="2" height="3.1"/><rect x="4.5" y="22" width="15.6" height="2"/><rect x="18" y="8.4" width="2" height="1.6"/><rect x="18" y="18" width="2.1" height="6"/>',portrait:'<path d="M19,0L19,0L5,0v0H3v24h0.1H5h14h1.7H21V0H19z M12.5,23h-1v-1h1V23z M19,21H5V2h14V21z"/>',landscape:'<path d="M24,19L24,19l0-14h0V3H0v0.1V5v14v1.7V21h24V19z M1,12.5v-1h1v1H1z M3,19V5h19v14H3z"/>',pageSetup:'<rect x="18" y="1" width="1" height="1"/><rect x="19" y="2" width="1" height="1"/><rect x="20" y="3" width="1" height="1"/><polygon points="22,5 22,4 21,4 21,5 20.4,5 20,5 17,5 17,2 17,1.3 17,1 18,1 18,0 17,0 17,0 7,0 6,0 5,0 5,5 7,5 7,2 15,2 15,7 16,7 17,7 20,7 20,22.1 7,22.1 7,19 5,19 5,24 5.9,24 7,24 20,24 21.1,24 22,24 22,5 "/><rect x="5" y="7" width="2" height="2"/><rect x="5" y="11" width="2" height="2"/><rect x="5" y="15" width="2" height="2"/><rect x="9" y="11" width="2" height="2"/><rect x="1" y="11" width="2" height="2"/><polygon points="9,8 9,8 8,8 8,9 9,9 9,10 10,10 10,8 "/><polygon points="2,9 2,9 2,10 3,10 3,9 4,9 4,8 2,8 "/><polygon points="3,16 3,16 4,16 4,15 3,15 3,14 2,14 2,16 "/><polygon points="10,15 10,15 10,14 9,14 9,15 8,15 8,16 10,16 "/>',previousPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="5.6,10.7 12,4.4 18.4,10.7 18.4,15 13.5,10.1 13.5,19.6 10.4,19.6 10.4,10.1 5.6,15 " />',nextPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="18.4,13.3 12,19.6 5.6,13.3 5.6,9 10.5,13.9 10.5,4.4 13.6,4.4 13.6,13.9 18.4,9 " />',firstPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="6.5,13.1 12,7.8 17.5,13.1 17.5,17.5 13.5,13.5 13.5,19.6 10.4,19.6 10.4,13.5 6.5,17.5 " /><rect x="6.5" y= "4.4" width="10.9" height="2.2" />',lastPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="17.5,10.9 12,16.2 6.5,10.9 6.5,6.5 10.5,10.5 10.5,4.4 13.6,4.4 13.6,10.5 17.5,6.5 " /><rect x="6.5" y= "17.5" transform="matrix(-1 -8.987357e-011 8.987357e-011 -1 24 37.0909)" width="10.9" height="2.2" />',backwardHistory:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="10.7,18.4 4.4,12 10.7,5.6 15,5.6 10.1,10.5 19.6,10.5 19.6,13.6 10.1,13.6 15,18.4 " />',forwardHistory:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="13.3,5.6 19.6,12 13.3,18.4 9,18.4 13.9,13.5 4.4,13.5 4.4,10.4 13.9,10.4 9,5.6 " />',selectTool:'<polygon points="19.9,13.4 5.6,1.1 5.3,19.9 10.5,14.7 14.3,23.3 16.4,22.4 12.6,13.8 "/>',moveTool:'<polygon points="12.5,3 14.5,3 12,0 9.5,3 11.5,3 11.5,21 11.5,21 9.6,21 12,24 14.5,21 12.5,21 "/><polygon points="21,12.5 21,14.5 24,12 21,9.5 21,11.5 3,11.5 3,11.5 3,9.6 0,12 3,14.5 3,12.5 "/>',continuousView:'<polygon points="22,0 22,5 9,5 9,0 7,0 7,5 7,7 7,7 24,7 24,7 24,5 24,0 "/><polygon points="23,15 19,15 19,11 20,11 20,10 19,10 18,10 17,10 9,10 7.4,10 7,10 7,24 9,24 9,12 17,12 17,15 17,16.6 17,17 22,17 22,24 24,24 24,17 24,15.1 24,15 24,15 24,14 23,14 "/><rect x="22" y="13" width="1" height="1"/><polygon points="20.9,12 20.9,13 22,13 22,12 21,12 21,11 20,11 20,12 "/><polygon points="4.9,5.2 2.5,2.2 0,5.2 2,5.2 2,9.2 3,9.2 3,5.2 "/><polygon points="2.9,19.2 2.9,15.2 1.9,15.2 1.9,19.2 0,19.2 2.5,22.1 4.9,19.2 "/>',singleView:'<rect x="16" y="1" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="18" y="3" width="1" height="1"/><path d="M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M5,22.1V2h8v5h1h1h3v15.1H5z"/>',fitWholePage:'<rect x="16" y="1" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="18" y="3" width="1" height="1"/><path d="M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M18,22.1H5V2h8v5h1h1h3V22.1z"/><polygon points="17,13.5 15,11 15,13 13,13 13,14 15,14 15,16 "/><polygon points="6,13.5 8,16 8,14 10,14 10,13 8,13 8,11 "/><polygon points="11.5,7 9,9 11,9 11,11 12,11 12,9 14,9 "/><polygon points="11.5,20 14,18 12,18 12,16 11,16 11,18 9,18 "/>',fitPageWidth:'<rect x="16" y="1" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="18" y="3" width="1" height="1"/><path d="M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M5,22.1V2h8v5h1h1h3v15.1H5z"/><polygon points="14,15.5 17,13 14,10.6 14,12.6 13,12.6 13,13.6 14,13.6 "/><polyline points="6,13.1 9,15.6 9,13.6 10,13.6 10,12.6 9,12.6 9,10.6 6,13.1 "/>',zoomOut:'<circle opacity=".25" cx="12" cy="12" r="12"/><rect opacity=".75" x="5" y="10" width="14" height="3"/>',zoomIn:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon opacity=".75" points="19,10 13.5,10 13.5,4.5 10.5,4.5 10.5,10 5,10 5,13 10.5,13 10.5,18.5 13.5,18.5 13.5,13 19,13 " />',fullScreen:'<path d="M22,0H0v2.8V4v20h1.5H2h20h0.7H24V4V0H22z M7,1h1v1H7V1z M5,1h1v1H5V1z M3,1h1v1H3V1z M22,22H2L2,4h20L22,22z" /><polygon points="19.6,9.9 20,6 16.1,6.4 17.6,7.8 14.7,10.6 15.4,11.3 18.3,8.5"/><polygon points="4.4,16.2 4,20 7.9,19.7 6.5,18.3 9.3,15.5 8.6,14.8 5.8,17.6"/>',exitFullScreen:'<path d="M22,0H0v2.8V4v20h1.5H2h20h0.7H24V4V0H22z M7,1h1v1H7V1z M5,1h1v1H5V1z M3,1h1v1H3V1z M22,22H2L2,4h20L22,22z" /><polygon points="9.2,18.6 9.6,14.7 5.7,15.1 7.2,16.5 4.3,19.3 5,20 7.9,17.2"/><polygon points="14.8,7.5 14.4,11.3 18.3,11 16.9,9.6 19.7,6.8 19,6.1 16.2,8.9"/>',thumbnails:'<path d="M20,2h-5h-2v2v5v2v0h2v0h5v0h2v0V9V4V2H20z M20,9h-5V4h5V9z"/><path d="M20,13h-5h-2v2v5v2v0h2v0h5v0h2v0v-2v-5v-2H20z M20,20h-5v-5h5V20z"/><path d="M9,13H4H2v2v5v2v0h2v0h5v0h2v0v-2v-5v-2H9z M9,20H4v-5h5V20z"/><rect x="2" y="2" width="9" height="9"/>',outlines:'<path d="M22,0H2H0v2v20v2h2h20h2v-2V2V0H22z M2,2h12v20H2V2z M22,22h-6V2h6V22z"/><rect x="17.5" y="5" width="3" height="1" /><rect x="17.5" y="8" width="3" height="1"/><rect x="17.5" y="11" width="3" height="1"/>',search:'<circle stroke-width="2" fill="none" cx="9.5" cy="9.5" r="8.5"/><rect x="16.9" y="13.7" transform="matrix(-0.7193 0.6947 -0.6947 -0.7193 44.3315 18.4942)" width="3" height="9"/>',searchNext:'<polygon points="12,12.6 4,4.5 4,11.4 12,19.5 20,11.4 20,4.5 "/>',searchPrevious:'<polygon points="12,11.4 20,19.5 20,12.6 12,4.5 4,12.6 4,19.5 "/>',hamburgerMenu:'<rect x="2" y="4.875" width="20" height="1.5"/><rect x="2" y="11.25" width="20" height="1.5"/><rect x="2" y="17.625" width="20" height="1.5"/>',viewMenu:'<path transform="scale(1.5)" d="M8,2.9c-4.4,0-8,2.2-8,5s3.6,5,8,5s8-2.2,8-5S12.4,2.9,8,2.9z M8,11.8c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4s4, 1.8,4,4C12, 10,10.2,11.8,8,11.8z"/><circle class="st0" cx="12" cy="11.85" r="3.45"/>',searchOptions:'<polygon points="12,12.6 4,4.5 4,11.4 12,19.5 20,11.4 20,4.5 "/>',searchLeft:'<polygon points="11.4,12 19.5,20 12.6,20 4.5,12 12.6,4 19.5,4 "/>',searchRight:'<polygon points="12.6,12 4.5,4 11.4,4 19.5,12 11.4,20 4.5,20 "/>',showZoomBar:'<path d="M22.8,20.7l-4.4-4.4c1.1-1.6,1.8-3.5,1.8-5.6c0-5.2-4.3-9.5-9.5-9.5s-9.5,4.3-9.5,9.5s4.3,9.5,9.5,9.5 c2.1,0,4-0.7,5.6-1.8l4.4,4.4L22.8,20.7z M4.2,10.7c0-3.6,2.9-6.5,6.5-6.5s6.5,2.9,6.5,6.5s-2.9,6.5-6.5,6.5S4.2,14.3,4.2,10.7z"/><polygon points="7.2,9.2 7.2,7.2 9.2,7.2 9.2,6.2 6.2,6.2 6.2,9.2 "/><polygon points="12.2,7.2 14.2,7.2 14.2,9.2 15.2,9.2 15.2,6.2 12.2,6.2 "/><polygon points="9.2,14.2 7.2,14.2 7.2,12.2 6.2,12.2 6.2,15.2 9.2,15.2 "/><polygon points="14.2,12.2 14.2,14.2 12.2,14.2 12.2,15.2 15.2,15.2 15.2,12.2 "/>',rubberbandTool:'\n        <g>\n\t        <polygon points="11.5,2 4,2 2,2 2,4 2,11.5 4,11.5 4,4 11.5,4 \t"/>\n\t        <path d="M16,10V8h-2h-4H8v2v4v2h2h4h2v-2V10z M14,14h-4v-4h4V14z"/>\n\t        <polygon points="20,12 20,19 19,19 19,20 12,20 12,22 20,22 22,22 22,20 22,12 \t"/>\n\t        <rect x="16" y="16" class="st0" width="1" height="1"/>\n\t        <rect x="17" y="17" class="st0" width="1" height="1"/>\n\t        <rect x="18" y="18" class="st0" width="1" height="1"/>\n        </g>',magnifierTool:'\n        <circle fill="none" stroke-width="2" stroke-miterlimit="10" cx="9.5" cy="9.5" r="7.5"/>\n        <rect x="17" y="13.7" transform="matrix(0.7193 -0.6947 0.6947 0.7193 -7.4537 17.9238)" class="st1" width="3" height="9"/>\n        <polygon points="14,8.5 10.5,8.5 10.5,5 8.5,5 8.5,8.5 5,8.5 5,10.5 8.5,10.5 8.5,14 10.5,14 10.5,10.5 14,10.5 "/>\n        ',rotateDocument:'\n        <g>\n\t        <path d="M18,0H5H3v4v18v2h2h13h2v-2V4V0H18z M18,22H5V4h13V22z"/>\n\t        <polygon points="9,12 13,12 13,14 15,11.5 13,9 13,11 9,11 8,11 8,12 8,17 9,17 \t"/>\n        </g>',rotatePage:'\n        <g>\n\t        <rect x="16" y="1" width="1" height="1"/>\n\t        <rect x="17" y="2" width="1" height="1"/>\n\t        <rect x="18" y="3" width="1" height="1"/>\n\t        <path class="st0" d="M19,4v1h-0.6H18h-3V2V1.3V1h1V0h-1H5H4H3v24h2h13h1.1H20V5V4H19z M18,22.1H5V2h8v5h1h1h3V22.1z"/>\n\t        <polygon points="13,11 9,11 8,11 8,12 8,17 9,17 9,12 13,12 13,14 15,11.5 13,9 \t"/>\n        </g>'},exports._hiddenCss="hidden",exports._commandTagAttr="command-tag",exports._pointMove=_pointMove;var _ActionQueue=function(){function e(){this._actions=[],this._isStarted=!1}return e.prototype._any=function(){return this._actions.length>0},e.prototype.queue=function(e){var t=this,o=this._any();this._actions.push(function(){e(),t._continue()}),this.isStarted&&!o&&this._continue()},e.prototype._continue=function(){var e=this._actions.shift();e&&e()},e.prototype.start=function(){this._isStarted||(this._isStarted=!0,this._continue())},Object.defineProperty(e.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),e}();exports._ActionQueue=_ActionQueue,exports._createSvgBtn=_createSvgBtn,exports._setLandscape=_setLandscape,exports._clonePageSettings=_clonePageSettings,exports._enumToArray=_enumToArray,exports._removeChildren=_removeChildren,exports._toDOMs=_toDOMs,exports._toDOM=_toDOM,exports._addEvent=_addEvent,exports._removeEvent=_removeEvent;var _checkedCss="wj-state-active",_disabledCss="wj-state-disabled";exports._checkImageButton=_checkImageButton,exports._disableImageButton=_disableImageButton,exports._showImageButton=_showImageButton,exports._isDisabledImageButton=_isDisabledImageButton,exports._isCheckedImageButton=_isCheckedImageButton;var wjEventsName="__wjEvents";exports._addWjHandler=_addWjHandler,exports._removeAllWjHandlers=_removeAllWjHandlers,exports._getErrorMessage=_getErrorMessage,exports._checkSeparatorShown=_checkSeparatorShown,exports._twipToPixel=_twipToPixel,exports._pixelToTwip=_pixelToTwip,exports._hasScrollbar=_hasScrollbar,exports._transformSvg=_transformSvg,exports._getTransformedPosition=_getTransformedPosition,exports._getRotatedSize=_getRotatedSize,exports._getPositionByHitTestInfo=_getPositionByHitTestInfo;var _DocumentSource=function(){function e(e){this._hasOutlines=!1,this._pageCount=0,this._supportedExportDescriptions=[],this._isLoadCompleted=!1,this._isDisposed=!1,this._errors=[],this.pageCountChanged=new wjcCore.Event,this.disposed=new wjcCore.Event,this.pageSettingsChanged=new wjcCore.Event,this.loading=new wjcCore.Event,this.loadCompleted=new wjcCore.Event,this.queryLoadingData=new wjcCore.Event,this._service=this._createDocumentService(e),this._paginated=e.paginated}return e.prototype.onQueryLoadingData=function(e){this.queryLoadingData.raise(this,e)},e.prototype._updateIsLoadCompleted=function(e){this._isLoadCompleted!==e&&(this._isLoadCompleted=e,e&&this.onLoadCompleted())},e.prototype._updateIsDisposed=function(e){this._isDisposed!==e&&(this._isDisposed=e,this.onDisposed())},e.prototype._getIsDisposed=function(){return this._isDisposed},e.prototype._checkHasOutlines=function(e){return e.hasOutlines},e.prototype._checkIsLoadCompleted=function(e){return e.status===_ExecutionStatus.completed||e.status===_ExecutionStatus.stopped||e.status===_ExecutionStatus.loaded},e._isMobile=function(){return null==e._isMobileEnvironment&&(e._isMobileEnvironment=!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))||this._isIOS()),e._isMobileEnvironment},e._isIOS=function(){return null==e._isIOSEnvironment&&(e._isIOSEnvironment=!!(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))),e._isIOSEnvironment},Object.defineProperty(e.prototype,"executionDateTime",{get:function(){return this._executionDateTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expiredDateTime",{get:function(){return this._expiredDateTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoadCompleted",{get:function(){return this._isLoadCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._getIsDisposed()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSettings",{get:function(){return this._pageSettings},enumerable:!0,configurable:!0}),e.prototype.onPageSettingsChanged=function(e){this.pageSettingsChanged.raise(this,e||new wjcCore.EventArgs)},e.prototype.onLoadCompleted=function(e){this.loadCompleted.raise(this,e||new wjcCore.EventArgs)},e.prototype.onLoading=function(e){this.loading.raise(this,e||new wjcCore.EventArgs)},e.prototype.onDisposed=function(e){this.disposed.raise(this,e||new wjcCore.EventArgs)},e.prototype.setPageSettings=function(e){var t=this;return this._innerService.setPageSettings(e).then(function(e){return t._updatePageSettings(e)})},e.prototype._updatePageSettings=function(e){this._pageSettings=e,this.onPageSettingsChanged()},Object.defineProperty(e.prototype,"_innerService",{get:function(){return this._service},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paginated",{get:function(){return this.pageSettings?this.pageSettings.paginated:this._paginated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasOutlines",{get:function(){return this._hasOutlines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return this._pageCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialPosition",{get:function(){return this._initialPosition},set:function(e){this._initialPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"service",{get:function(){return this._service},enumerable:!0,configurable:!0}),e.prototype.getSupportedExportDescriptions=function(){return this._innerService.getSupportedExportDescriptions()},e.prototype.getBookmark=function(e){return this._innerService.getBookmark(e)},e.prototype.executeCustomAction=function(e){return this._innerService.executeCustomAction(e)},e.prototype.getOutlines=function(){return this._innerService.getOutlines()},e.prototype.getFeatures=function(){var e=this;return this._innerService.getFeatures().then(function(t){e._features=t})},e.prototype.dispose=function(){var e=this;return this._innerService.dispose().then(function(){return e._updateIsDisposed(!0)})},e.prototype.load=function(){var e=this;this.onLoading();var t={};null!=this._paginated&&(t["pageSettings.paginated"]=this.paginated);var o=new QueryLoadingDataEventArgs(t);return this.onQueryLoadingData(o),this._innerService.load(o.data).then(function(t){e._updateExecutionInfo(t),e._updateIsLoadCompleted(!0)})},e.prototype._updateExecutionInfo=function(e){null!=e&&(this._executionDateTime=this._getExecutionDateTime(e),this._expiredDateTime=this._getExpiredDateTime(e),this._updatePageSettings(e.pageSettings),this._features=e.features,this._updateDocumentStatus(e.status))},e.prototype._updateDocumentStatus=function(e){e&&(this._errors=e.errorList,this._initialPosition=e.initialPosition,this._updatePageCount(this._getPageCount(e)),this._expiredDateTime=this._getExpiredDateTime(e),this._hasOutlines=this._checkHasOutlines(e),this._updateIsLoadCompleted(this._checkIsLoadCompleted(e)))},e.prototype._getExecutionDateTime=function(e){return e.loadedDateTime},e.prototype._getExpiredDateTime=function(e){return e.expiredDateTime},e.prototype._getPageCount=function(e){return e.pageCount},e.prototype._updatePageCount=function(e){this._pageCount!==e&&(this._pageCount=e,this.onPageCountChanged())},e.prototype.getStatus=function(){var e=this;return this._innerService.getStatus().then(function(t){e._updateDocumentStatus(t)})},e.prototype._createDocumentService=function(t){throw e._abstractMethodException},e.prototype.onPageCountChanged=function(e){this.pageCountChanged.raise(this,e||new wjcCore.EventArgs)},e.prototype.print=function(t){var o=this;if(e._isMobile()){var n=this.getRenderToFilterUrl({format:"pdf"});window.open(n)}else{var r=new wjcCore.PrintDocument({title:"Document"});this.renderToFilter({format:"html"}).then(function(e){r.append(e.responseText),r._getDocument().close(),window.setTimeout(function(){o._removeScript(r),o._rotate(r,t),r.print()},100)})}},e.prototype._removeScript=function(e){for(var t=e._getDocument().querySelectorAll("script"),o=0;o<t.length;o++){var n=t.item(o);n.parentElement.removeChild(n)}},e.prototype._rotate=function(e,t){if(t&&t.length)for(var o=e._getDocument().querySelectorAll("svg"),n=0;n<o.length;n++){var r=t[n];if(r){for(var i=o[n],a=document.createElementNS("http://www.w3.org/2000/svg","g");i.hasChildNodes();)a.appendChild(i.firstChild);i.appendChild(a);var s={width:new _Unit(i.width.baseVal.value),height:new _Unit(i.height.baseVal.value)},c=_getRotatedSize(s,r),u=i.parentNode;u.style.width=c.width.valueInPixel+"px",u.style.height=c.height.valueInPixel+"px",i.setAttribute("width",c.width.valueInPixel.toString()+"px"),i.setAttribute("height",c.height.valueInPixel.toString()+"px"),_transformSvg(o[n],s.width.valueInPixel,s.height.valueInPixel,1,r)}}},e.prototype.renderToFilter=function(e){return this._innerService.renderToFilter(e)},e.prototype.getRenderToFilterUrl=function(e){return this._innerService.getRenderToFilterUrl(e)},e.prototype.search=function(e){return this._innerService.search(e)},e._abstractMethodException="It is an abstract method, please implement it.",e._isMobileEnvironment=null,e._isIOSEnvironment=null,e}();exports._DocumentSource=_DocumentSource,exports._statusJsonReviver=_statusJsonReviver;var _DocumentService=function(){function e(e){this._url="",this._url=e.serviceUrl||"",this._documentPath=e.filePath}return Object.defineProperty(e.prototype,"serviceUrl",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filePath",{get:function(){return this._documentPath},enumerable:!0,configurable:!0}),e.prototype.getStatus=function(){throw _DocumentSource._abstractMethodException},e.prototype.setPageSettings=function(e){throw _DocumentSource._abstractMethodException},e.prototype.getBookmark=function(e){throw _DocumentSource._abstractMethodException},e.prototype.executeCustomAction=function(e){throw _DocumentSource._abstractMethodException},e.prototype.load=function(e){throw _DocumentSource._abstractMethodException},e.prototype.dispose=function(){throw _DocumentSource._abstractMethodException},e.prototype.getOutlines=function(){throw _DocumentSource._abstractMethodException},e.prototype.renderToFilter=function(e){throw _DocumentSource._abstractMethodException},e.prototype.search=function(e){throw _DocumentSource._abstractMethodException},e.prototype.getRenderToFilterUrl=function(e){throw _DocumentSource._abstractMethodException},e.prototype.getSupportedExportDescriptions=function(){throw _DocumentSource._abstractMethodException},e.prototype.getFeatures=function(){throw _DocumentSource._abstractMethodException},e}();exports._DocumentService=_DocumentService,exports._pageSettingsJsonReviver=_pageSettingsJsonReviver,exports._strEndsWith=_strEndsWith,exports._appendQueryString=_appendQueryString,exports._joinUrl=_joinUrl,exports._joinStringUrl=_joinStringUrl,exports._prepareStringUrl=_prepareStringUrl,exports._httpRequest=_httpRequest,exports._objToParams=_objToParams,exports._disableCache=_disableCache;var _UnitType;!function(e){e[e.Document=0]="Document",e[e.Inch=1]="Inch",e[e.Mm=2]="Mm",e[e.Pica=3]="Pica",e[e.Point=4]="Point",e[e.Twip=5]="Twip",e[e.InHs=6]="InHs",e[e.Display=7]="Display",e[e.Cm=8]="Cm",e[e.Dip=9]="Dip"}(_UnitType=exports._UnitType||(exports._UnitType={}));var _Unit=function(){function e(t,o){if(void 0===o&&(o=_UnitType.Dip),e._initUnitTypeDic(),wjcCore.isObject(t)){var n=t;t=n.value,o=n.units}else if(wjcCore.isString(t)){var r=parseFloat(t);isNaN(r)||(o=e._unitTypeDic[t.substr(r.toString().length)],t=r)}this._value=t,this._units=o,this._valueInPixel=e.convertValue(t,o,_UnitType.Dip)}return e._initUnitTypeDic=function(){if(!e._unitTypeDic){e._unitTypeDic={};for(var t in e._unitTypes)e._unitTypeDic[e._unitTypeDic[t]=e._unitTypes[t]]=t}},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"units",{get:function(){return this._units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueInPixel",{get:function(){return this._valueInPixel},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return e.toString(this)},e.toString=function(t){return null==t.value?"":t.value+e._unitTypeDic[t.units]},e.convertValue=function(t,o,n){if(o===n)return t;var r;switch(o){case _UnitType.Document:r=t/e._DocumentUnitsPerInch;break;case _UnitType.Inch:r=t;break;case _UnitType.Mm:r=t/e._MmPerInch;break;case _UnitType.Pica:r=t/e._PicaPerInch;break;case _UnitType.Point:r=t/e._PointsPerInch;break;case _UnitType.Twip:r=t/e._TwipsPerInch;break;case _UnitType.InHs:r=t/100;break;case _UnitType.Display:r=t/e._DisplayPerInch;break;case _UnitType.Cm:r=t/e._CmPerInch;break;case _UnitType.Dip:r=t/e._DipPerInch;break;default:throw"Invalid from _UnitType: "+o}switch(n){case _UnitType.Document:return r*e._DocumentUnitsPerInch;case _UnitType.Inch:return r;case _UnitType.Mm:return r*e._MmPerInch;case _UnitType.Pica:return r*e._PicaPerInch;case _UnitType.Point:return r*e._PointsPerInch;case _UnitType.Twip:return r*e._TwipsPerInch;case _UnitType.InHs:return 100*r;case _UnitType.Display:return r*e._DisplayPerInch;case _UnitType.Cm:return r*e._CmPerInch;case _UnitType.Dip:return r*e._DipPerInch;default:throw"Invalid to _UnitType: "+n}},e._MmPerInch=25.4,e._DocumentUnitsPerInch=300,e._PointsPerInch=72,e._TwipsPerInch=1440,e._PicaPerInch=6,e._CmPerInch=e._MmPerInch/10,e._DisplayPerInch=75,e._DipPerInch=96,e._unitTypes={doc:_UnitType.Document,in:_UnitType.Inch,mm:_UnitType.Mm,pc:_UnitType.Pica,pt:_UnitType.Point,tw:_UnitType.Twip,inhs:_UnitType.InHs,dsp:_UnitType.Display,cm:_UnitType.Cm,dip:_UnitType.Dip,px:_UnitType.Dip},e}();exports._Unit=_Unit;var _Promise=function(){function e(){this._callbacks=[]}return e.prototype.then=function(e,t){return this._callbacks.push({onFulfilled:e,onRejected:t}),this},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.resolve=function(e){var t=this;setTimeout(function(){try{t.onFulfilled(e)}catch(e){t.onRejected(e)}},0)},e.prototype.reject=function(e){var t=this;setTimeout(function(){t.onRejected(e)},0)},e.prototype.onFulfilled=function(e){for(var t;t=this._callbacks.shift();)if(t.onFulfilled){var o=t.onFulfilled(e);void 0!==o&&(e=o)}},e.prototype.onRejected=function(e){for(var t;t=this._callbacks.shift();)if(t.onRejected){var o=t.onRejected(e);return void this.onFulfilled(o)}throw e},e}();exports._Promise=_Promise;var _CompositedPromise=function(e){function t(t){var o=e.call(this)||this;return o._promises=t,o._init(),o}return __extends(t,e),t.prototype._init=function(){var e=this;if(this._promises&&this._promises.length){var t=this._promises.length,o=0,n=[],r=!1;this._promises.some(function(i){return i.then(function(i){r||(n.push(i),++o>=t&&e.resolve(n))}).catch(function(t){r=!0,e.reject(t)}),r})}else this.reject("No promises in current composited promise.")},t}(_Promise);exports._CompositedPromise=_CompositedPromise;var _PaperKind;!function(e){e[e.Custom=0]="Custom",e[e.Letter=1]="Letter",e[e.LetterSmall=2]="LetterSmall",e[e.Tabloid=3]="Tabloid",e[e.Ledger=4]="Ledger",e[e.Legal=5]="Legal",e[e.Statement=6]="Statement",e[e.Executive=7]="Executive",e[e.A3=8]="A3",e[e.A4=9]="A4",e[e.A4Small=10]="A4Small",e[e.A5=11]="A5",e[e.B4=12]="B4",e[e.B5=13]="B5",e[e.Folio=14]="Folio",e[e.Quarto=15]="Quarto",e[e.Standard10x14=16]="Standard10x14",e[e.Standard11x17=17]="Standard11x17",e[e.Note=18]="Note",e[e.Number9Envelope=19]="Number9Envelope",e[e.Number10Envelope=20]="Number10Envelope",e[e.Number11Envelope=21]="Number11Envelope",e[e.Number12Envelope=22]="Number12Envelope",e[e.Number14Envelope=23]="Number14Envelope",e[e.CSheet=24]="CSheet",e[e.DSheet=25]="DSheet",e[e.ESheet=26]="ESheet",e[e.DLEnvelope=27]="DLEnvelope",e[e.C5Envelope=28]="C5Envelope",e[e.C3Envelope=29]="C3Envelope",e[e.C4Envelope=30]="C4Envelope",e[e.C6Envelope=31]="C6Envelope",e[e.C65Envelope=32]="C65Envelope",e[e.B4Envelope=33]="B4Envelope",e[e.B5Envelope=34]="B5Envelope",e[e.B6Envelope=35]="B6Envelope",e[e.ItalyEnvelope=36]="ItalyEnvelope",e[e.MonarchEnvelope=37]="MonarchEnvelope",e[e.PersonalEnvelope=38]="PersonalEnvelope",e[e.USStandardFanfold=39]="USStandardFanfold",e[e.GermanStandardFanfold=40]="GermanStandardFanfold",e[e.GermanLegalFanfold=41]="GermanLegalFanfold",e[e.IsoB4=42]="IsoB4",e[e.JapanesePostcard=43]="JapanesePostcard",e[e.Standard9x11=44]="Standard9x11",e[e.Standard10x11=45]="Standard10x11",e[e.Standard15x11=46]="Standard15x11",e[e.InviteEnvelope=47]="InviteEnvelope",e[e.LetterExtra=50]="LetterExtra",e[e.LegalExtra=51]="LegalExtra",e[e.TabloidExtra=52]="TabloidExtra",e[e.A4Extra=53]="A4Extra",e[e.LetterTransverse=54]="LetterTransverse",e[e.A4Transverse=55]="A4Transverse",e[e.LetterExtraTransverse=56]="LetterExtraTransverse",e[e.APlus=57]="APlus",e[e.BPlus=58]="BPlus",e[e.LetterPlus=59]="LetterPlus",e[e.A4Plus=60]="A4Plus",e[e.A5Transverse=61]="A5Transverse",e[e.B5Transverse=62]="B5Transverse",e[e.A3Extra=63]="A3Extra",e[e.A5Extra=64]="A5Extra",e[e.B5Extra=65]="B5Extra",e[e.A2=66]="A2",e[e.A3Transverse=67]="A3Transverse",e[e.A3ExtraTransverse=68]="A3ExtraTransverse",e[e.JapaneseDoublePostcard=69]="JapaneseDoublePostcard",e[e.A6=70]="A6",e[e.JapaneseEnvelopeKakuNumber2=71]="JapaneseEnvelopeKakuNumber2",e[e.JapaneseEnvelopeKakuNumber3=72]="JapaneseEnvelopeKakuNumber3",e[e.JapaneseEnvelopeChouNumber3=73]="JapaneseEnvelopeChouNumber3",e[e.JapaneseEnvelopeChouNumber4=74]="JapaneseEnvelopeChouNumber4",e[e.LetterRotated=75]="LetterRotated",e[e.A3Rotated=76]="A3Rotated",e[e.A4Rotated=77]="A4Rotated",e[e.A5Rotated=78]="A5Rotated",e[e.B4JisRotated=79]="B4JisRotated",e[e.B5JisRotated=80]="B5JisRotated",e[e.JapanesePostcardRotated=81]="JapanesePostcardRotated",e[e.JapaneseDoublePostcardRotated=82]="JapaneseDoublePostcardRotated",e[e.A6Rotated=83]="A6Rotated",e[e.JapaneseEnvelopeKakuNumber2Rotated=84]="JapaneseEnvelopeKakuNumber2Rotated",e[e.JapaneseEnvelopeKakuNumber3Rotated=85]="JapaneseEnvelopeKakuNumber3Rotated",e[e.JapaneseEnvelopeChouNumber3Rotated=86]="JapaneseEnvelopeChouNumber3Rotated",e[e.JapaneseEnvelopeChouNumber4Rotated=87]="JapaneseEnvelopeChouNumber4Rotated",e[e.B6Jis=88]="B6Jis",e[e.B6JisRotated=89]="B6JisRotated",e[e.Standard12x11=90]="Standard12x11",e[e.JapaneseEnvelopeYouNumber4=91]="JapaneseEnvelopeYouNumber4",e[e.JapaneseEnvelopeYouNumber4Rotated=92]="JapaneseEnvelopeYouNumber4Rotated",e[e.Prc16K=93]="Prc16K",e[e.Prc32K=94]="Prc32K",e[e.Prc32KBig=95]="Prc32KBig",e[e.PrcEnvelopeNumber1=96]="PrcEnvelopeNumber1",e[e.PrcEnvelopeNumber2=97]="PrcEnvelopeNumber2",e[e.PrcEnvelopeNumber3=98]="PrcEnvelopeNumber3",e[e.PrcEnvelopeNumber4=99]="PrcEnvelopeNumber4",e[e.PrcEnvelopeNumber5=100]="PrcEnvelopeNumber5",e[e.PrcEnvelopeNumber6=101]="PrcEnvelopeNumber6",e[e.PrcEnvelopeNumber7=102]="PrcEnvelopeNumber7",e[e.PrcEnvelopeNumber8=103]="PrcEnvelopeNumber8",e[e.PrcEnvelopeNumber9=104]="PrcEnvelopeNumber9",e[e.PrcEnvelopeNumber10=105]="PrcEnvelopeNumber10",e[e.Prc16KRotated=106]="Prc16KRotated",e[e.Prc32KRotated=107]="Prc32KRotated",e[e.Prc32KBigRotated=108]="Prc32KBigRotated",e[e.PrcEnvelopeNumber1Rotated=109]="PrcEnvelopeNumber1Rotated",e[e.PrcEnvelopeNumber2Rotated=110]="PrcEnvelopeNumber2Rotated",e[e.PrcEnvelopeNumber3Rotated=111]="PrcEnvelopeNumber3Rotated",e[e.PrcEnvelopeNumber4Rotated=112]="PrcEnvelopeNumber4Rotated",e[e.PrcEnvelopeNumber5Rotated=113]="PrcEnvelopeNumber5Rotated",e[e.PrcEnvelopeNumber6Rotated=114]="PrcEnvelopeNumber6Rotated",e[e.PrcEnvelopeNumber7Rotated=115]="PrcEnvelopeNumber7Rotated",e[e.PrcEnvelopeNumber8Rotated=116]="PrcEnvelopeNumber8Rotated",e[e.PrcEnvelopeNumber9Rotated=117]="PrcEnvelopeNumber9Rotated",e[e.PrcEnvelopeNumber10Rotated=118]="PrcEnvelopeNumber10Rotated"}(_PaperKind=exports._PaperKind||(exports._PaperKind={}));var QueryLoadingDataEventArgs=function(e){function t(t){var o=e.call(this)||this;return o._data=t||{},o}return __extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t}(wjcCore.EventArgs);exports.QueryLoadingDataEventArgs=QueryLoadingDataEventArgs;var _Report=function(e){function t(t){var o=e.call(this,t)||this;return o._hasParameters=!1,o._status=_ExecutionStatus.notFound,o.statusChanged=new wjcCore.Event,o}return __extends(t,e),t.getReportNames=function(e,t){return _ReportService.getReportNames(e,t)},t.getReports=function(e,t,o){return wjcCore.isBoolean(o)&&(o={recursive:o}),_ReportService.getReports(e,t,o)},Object.defineProperty(t.prototype,"reportName",{get:function(){return this._innerService?this._innerService.reportName:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasParameters",{get:function(){return this._hasParameters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),t.prototype.load=function(){return e.prototype.load.call(this)},t.prototype._updateStatus=function(e){this._status!==e&&(this._status=e,this.onStatusChanged())},t.prototype.cancel=function(){var e=this;return this._innerService.cancel().then(function(t){return e._updateDocumentStatus(t)})},t.prototype.onStatusChanged=function(e){this.statusChanged.raise(this,e||new wjcCore.EventArgs)},t.prototype.dispose=function(){return e.prototype.dispose.call(this)},t.prototype.setParameters=function(e){var t=this;return this._innerService.setParameters(e).then(function(e){return void(t._parameters=e)})},t.prototype.getParameters=function(){var e=this;if(this._parameters&&this._parameters.length){var t=new _Promise;return t.resolve(this._parameters),t}return this._innerService.getParameters().then(function(t){return void(e._parameters=t)})},t.prototype._getIsDisposed=function(){return e.prototype._getIsDisposed.call(this)||this._innerService.isCleared},t.prototype._updateExecutionInfo=function(t){null==t||this.isDisposed||(this._hasParameters=!!t.hasParameters,e.prototype._updateExecutionInfo.call(this,t))},t.prototype._updateDocumentStatus=function(t){this._updateStatus(t.status),e.prototype._updateDocumentStatus.call(this,t)},t.prototype._checkIsLoadCompleted=function(e){return e.status===_ExecutionStatus.completed||e.status===_ExecutionStatus.stopped},t.prototype._createDocumentService=function(e){return new _ReportService(e)},Object.defineProperty(t.prototype,"_innerService",{get:function(){return this.service},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this;return this._innerService.render().then(function(t){return e._updateDocumentStatus(t)})},t.prototype.executeCustomAction=function(e){var t=this;return this._innerService.executeCustomAction(e).then(function(e){return t._updateDocumentStatus(e)})},t}(_DocumentSource);exports._Report=_Report;var _ReportService=function(e){function t(t){var o=e.call(this,t)||this;return o._reportName=t.reportName,o}return __extends(t,e),Object.defineProperty(t.prototype,"isCleared",{get:function(){return!this._instanceId&&this._status==_ExecutionStatus.cleared},enumerable:!0,configurable:!0}),t.getReportNames=function(e,o){return t.getReports(e,o).then(function(e){if(!e)return null;var t=[];return e.items.forEach(function(e){e.type===CatalogItemType.Report&&t.push(e.name)}),t})},t.getReports=function(e,t,o){var n=new _Promise;return _httpRequest(_joinUrl(e,t),{data:o,success:function(e){n.resolve(JSON.parse(e.responseText))},error:function(e){return n.reject(e)}}),n},Object.defineProperty(t.prototype,"reportName",{get:function(){return this._reportName},enumerable:!0,configurable:!0}),t.prototype.getBookmark=function(e){var o=new _Promise;return this._checkReportInstanceController(o)?(_httpRequest(this._getReportInstancesUrl(t._bookmarkAction,e),{success:function(e){o.resolve(JSON.parse(e.responseText))}}),o):o},t.prototype.executeCustomAction=function(e){var o={};return o[t._customActionParam]=e,this.render(o)},t.prototype.getStatus=function(){var e=new _Promise;return _httpRequest(this._statusLocation,{success:function(t){e.resolve(JSON.parse(t.responseText,_statusJsonReviver))}}),e},t.prototype.getDocumentStatus=function(){return this._getReportCache()},t.prototype._getReportCache=function(){var e=new _Promise;return this._checkReportInstanceController(e)?(_httpRequest(this._getReportInstancesUrl(),{success:function(t){e.resolve(_parseReportExecutionInfo(t.responseText))}}),e):e},t.prototype.getParameters=function(){var e=new _Promise;return this._checkReportInstanceController(e)?(_httpRequest(this._getReportInstancesUrl(t._parametersAction),{success:function(t){e.resolve(JSON.parse(t.responseText))}}),e):e},t.prototype._getUrlMainPart=function(){return _joinUrl(this.serviceUrl,this.filePath,this.reportName)},t.prototype._getReportUrl=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return _joinUrl(this._getUrlMainPart(),t._reportCommand,e)},t.prototype._getReportInstancesUrl=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return _joinUrl(this._getUrlMainPart(),t._instancesCommand,this._instanceId,e)},t.prototype._checkReportController=function(e){return!(null==this.serviceUrl||!this.filePath||!(".flxr"!==this.filePath.slice(-5).toLowerCase()&&".xml"!==this.filePath.slice(-4).toLowerCase()||this.reportName))||(e&&e.reject(t._invalidReportControllerError),!1)},t.prototype._checkReportInstanceController=function(e){return!(!this._checkReportController(e)||!this._instanceId)||(e&&e.reject(t._invalidReportCacheControllerError),!1)},t.prototype._getError=function(e){var t=e.responseText;try{t&&(t=JSON.parse(t))}finally{return t}},t.prototype.render=function(e){var o=this,n=new _Promise;return this._checkReportInstanceController(n)?(_httpRequest(this._getReportInstancesUrl(t._renderAction),{method:"POST",data:e,success:function(e){202===e.status?n.resolve({status:_ExecutionStatus.rendering}):n.resolve(_parseReportExecutionInfo(e.responseText))},error:function(e){n.reject(o._getError(e))}}),n.then(function(e){o._status=e.status})):n},t.prototype.load=function(e){var t=this,o=new _Promise;return this._checkReportController(o)?(_httpRequest(this._getReportInstancesUrl(),{method:"POST",data:e,success:function(e){o.resolve(_parseReportExecutionInfo(e.responseText))},error:function(e){o.reject(t._getError(e))}}),o.then(function(e){t._instanceId=e.id,t._status=_ExecutionStatus.loaded,t._outlinesLocation=e.outlinesLocation,t._statusLocation=e.statusLocation,t._pageSettingsLocation=e.pageSettingsLocation,t._featuresLocation=e.featuresLocation,t._parametersLocation=e.parametersLocation})):o},t.prototype.cancel=function(){var e=this,o=new _Promise;return this._checkReportInstanceController(o)?this._status!==_ExecutionStatus.rendering?(o.reject("Cannot execute cancel when the report is not rendering."),o):(_httpRequest(this._getReportInstancesUrl(t._cancelAction),{method:"POST",success:function(e){o.resolve(_parseReportExecutionInfo(e.responseText))}}),o.then(function(t){return void(e._status=t.status)}),o):o},t.prototype.dispose=function(){var e=this,t=new _Promise;return this._checkReportInstanceController()?(_httpRequest(this._getReportInstancesUrl(),{method:"DELETE",success:function(o){e._status=_ExecutionStatus.cleared,e._instanceId="",t.resolve()}}),t):t},t.prototype.getOutlines=function(){var e=new _Promise;return this._checkReportInstanceController(e)?(_httpRequest(this._getReportInstancesUrl(t._outlinesAction),{success:function(t){e.resolve(JSON.parse(t.responseText))}}),e):e},t.prototype.renderToFilter=function(e){var t=this,o=new _Promise;return this._checkReportInstanceController(o)?(_httpRequest(this.getRenderToFilterUrl(e),{cache:!0,success:function(e){o.resolve(e)},error:function(e){o.reject(t._getError(e))}}),o):o},t.prototype.getRenderToFilterUrl=function(e){if(!this._checkReportInstanceController())return null;var o=this._getReportInstancesUrl(t._exportAction);return o=_disableCache(o),_appendQueryString(o,e)},t.prototype.search=function(e){var o=new _Promise;return this._checkReportInstanceController(o)?(_httpRequest(this._getReportInstancesUrl(t._searchAction),{success:function(e){o.resolve(JSON.parse(e.responseText))},data:e}),o):o},t.prototype.setPageSettings=function(e){var o=this,n=new _Promise;return this._checkReportInstanceController(n)?(_httpRequest(this._getReportInstancesUrl(t._pageSettingsAction),{method:"PUT",data:e,success:function(e){n.resolve(JSON.parse(e.responseText,_pageSettingsJsonReviver))},error:function(e){n.reject(o._getError(e))}}),n):n},t.prototype.setParameters=function(e){var o=this,n=new _Promise;return this._checkReportInstanceController(n)?(_httpRequest(this._getReportInstancesUrl(t._parametersAction),{method:"PATCH",data:e,success:function(e){n.resolve(JSON.parse(e.responseText))},error:function(e){n.reject(o._getError(e))}}),n):n},t.prototype.getSupportedExportDescriptions=function(){var e=new _Promise;return this._checkReportInstanceController(e)?(_httpRequest(this._getReportInstancesUrl(t._supportedFormatsAction),{success:function(t){e.resolve(JSON.parse(t.responseText))}}),e):e},t.prototype.getFeatures=function(){var e=new _Promise;return this._checkReportInstanceController(e)?(_httpRequest(this._featuresLocation,{success:function(t){e.resolve(JSON.parse(t.responseText))}}),e):e},t._reportCommand="$report",t._instancesCommand="$instances",t._customActionParam="actionString",t._renderAction="render",t._searchAction="search",t._cancelAction="stop",t._outlinesAction="outlines",t._exportAction="export",t._parametersAction="parameters",t._bookmarkAction="bookmarks",t._pageSettingsAction="pagesettings",t._supportedFormatsAction="supportedformats",t._invalidReportControllerError="Cannot call the service without service url, document path or report name.",t._invalidReportCacheControllerError="Cannot call the service when service url is not set or the report is not loaded.",t}(_DocumentService);exports._ReportService=_ReportService,exports._parseReportExecutionInfo=_parseReportExecutionInfo;var _ExecutionStatus=function(){function e(){}return e.loaded="Loaded",e.rendering="Rendering",e.completed="Completed",e.stopped="Stopped",e.cleared="Cleared",e.notFound="NotFound",e}();exports._ExecutionStatus=_ExecutionStatus;var _ParameterType;!function(e){e[e.Boolean=0]="Boolean",e[e.DateTime=1]="DateTime",e[e.Time=2]="Time",e[e.Date=3]="Date",e[e.Integer=4]="Integer",e[e.Float=5]="Float",e[e.String=6]="String"}(_ParameterType=exports._ParameterType||(exports._ParameterType={}));var CatalogItemType;!function(e){e[e.Folder=0]="Folder",e[e.File=1]="File",e[e.Report=2]="Report"}(CatalogItemType=exports.CatalogItemType||(exports.CatalogItemType={}));var _PdfDocumentSource=function(e){function t(t){var o=e.call(this,t)||this;return o._status=_ExecutionStatus.notFound,o}return __extends(t,e),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_innerService",{get:function(){return this.service},enumerable:!0,configurable:!0}),t.prototype._createDocumentService=function(e){return new _PdfDocumentService(e)},t.prototype.load=function(){return e.prototype.load.call(this)},t.prototype._updateStatus=function(e){this._status!==e&&(this._status=e)},t.prototype.getStatus=function(){var e=this,t=new QueryLoadingDataEventArgs;return this.onQueryLoadingData(t),this._innerService.getStatus(t.data).then(function(t){return e._updateDocumentStatus(t)})},t.prototype.renderToFilter=function(e){var t=new QueryLoadingDataEventArgs;return this.onQueryLoadingData(t),this._innerService.renderToFilter(e,t.data)},t.prototype._updateDocumentStatus=function(t){null!=t&&(this._updateStatus(t.status),e.prototype._updateDocumentStatus.call(this,t))},t}(_DocumentSource);exports._PdfDocumentSource=_PdfDocumentSource;var _PdfDocumentService=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype._getPdfUrl=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return _joinUrl(this.serviceUrl,this.filePath,t._pdfCommand,e)},t.prototype._getPdfStatus=function(e){var t=this,o=new _Promise;return this._checkPdfController(o)?(_httpRequest(this._getPdfUrl(),{data:e,success:function(e){o.resolve(_parseExecutionInfo(e.responseText))}}),o.then(function(e){t._status=_ExecutionStatus.loaded,t._statusLocation=e.statusLocation,t._featuresLocation=e.featuresLocation})):o},t.prototype._checkPdfController=function(e){return!(null==this.serviceUrl||!this.filePath)||(e&&e.reject(t._invalidPdfControllerError),!1)},t.prototype.dispose=function(){var e=new _Promise;return e.resolve(),e},t.prototype.load=function(e){return this._getPdfStatus(e)},t.prototype.getStatus=function(e){var t=new _Promise;return _httpRequest(this._statusLocation,{data:e,success:function(e){t.resolve(JSON.parse(e.responseText))}}),t},t.prototype.renderToFilter=function(e,t){var o=new _Promise;return this._checkPdfController(o)?(_httpRequest(this.getRenderToFilterUrl(e),{data:t,cache:!0,success:function(e){o.resolve(e)}}),o):o},t.prototype.getRenderToFilterUrl=function(e){if(!this._checkPdfController())return null;var o=this._getPdfUrl(t._exportAction);return o=_disableCache(o),_appendQueryString(o,e)},t.prototype.getSupportedExportDescriptions=function(){var e=new _Promise;return this._checkPdfController(e)?(_httpRequest(this._getPdfUrl(t._supportedFormatsAction),{success:function(t){e.resolve(JSON.parse(t.responseText))}}),e):e},t.prototype.getFeatures=function(){var e=new _Promise;return this._checkPdfController(e)?(_httpRequest(this._featuresLocation,{success:function(t){e.resolve(JSON.parse(t.responseText))}}),e):e},t.prototype.search=function(e){var o=new _Promise;return this._checkPdfController(o)?(_httpRequest(this._getPdfUrl(t._searchAction),{success:function(e){o.resolve(JSON.parse(e.responseText))},data:e}),o):o},t._pdfCommand="$pdf",t._exportAction="export",t._supportedFormatsAction="supportedformats",t._searchAction="search",t._invalidPdfControllerError="Cannot call the service when service url is not set or the pdf is not loaded.",t}(_DocumentService);exports._PdfDocumentService=_PdfDocumentService,exports._parseExecutionInfo=_parseExecutionInfo,wjcCore.culture.Viewer=window.wijmo.culture.Viewer||{cancel:"Cancel",ok:"OK",bottom:"Bottom:",top:"Top:",right:"Right:",left:"Left:",margins:"Margins(inches)",orientation:"Orientation:",paperKind:"Paper Kind:",pageSetup:"Page Setup",landscape:"Landscape",portrait:"Portrait",pageNumber:"Page Number",zoomFactor:"Zoom Factor",paginated:"Print Layout",print:"Print",search:"Search",matchCase:"Match case",wholeWord:"Match whole word only",searchResults:"Search Results",previousPage:"Previous Page",nextPage:"Next Page",firstPage:"First Page",lastPage:"Last Page",backwardHistory:"Backward",forwardHistory:"Forward",pageCount:"Page Count",selectTool:"Select Tool",moveTool:"Move Tool",continuousMode:"Continuous Page View",singleMode:"Single Page View",wholePage:"Fit Whole Page",pageWidth:"Fit Page Width",zoomOut:"Zoom Out",zoomIn:"Zoom In",rubberbandTool:"Zoom by Selection",magnifierTool:"Magnifier",rotatePage:"Rotate Page",rotateDocument:"Rotate Document",exports:"Export",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",hamburgerMenu:"Tools",showSearchBar:"Show Search Bar",viewMenu:"Layout Options",searchOptions:"Search Options",matchCaseMenuItem:"Match Case",wholeWordMenuItem:"Match Whole Word",thumbnails:"Page Thumbnails",outlines:"Document Map",loading:"Loading...",pdfExportName:"Adobe PDF",docxExportName:"Open XML Word",xlsxExportName:"Open XML Excel",docExportName:"Microsoft Word",xlsExportName:"Microsoft Excel",mhtmlExportName:"Web archive (MHTML)",htmlExportName:"HTML document",rtfExportName:"RTF document",metafileExportName:"Compressed metafiles",csvExportName:"CSV",tiffExportName:"Tiff images",bmpExportName:"BMP images",emfExportName:"Enhanced metafile",gifExportName:"GIF images",jpgExportName:"JPEG images",jpegExportName:"JPEG images",pngExportName:"PNG images",abstractMethodException:"It is an abstract method, please implement it.",cannotRenderPageNoViewPage:"Cannot render page without document source and view page.",cannotRenderPageNoDoc:"Cannot render page without document source and view page.",exportFormat:"Export format:",exportOptionTitle:"Export options",documentRestrictionsGroup:"Document restrictions",passwordSecurityGroup:"Password security",outputRangeGroup:"Output range",documentInfoGroup:"Document info",generalGroup:"General",docInfoTitle:"Title",docInfoAuthor:"Author",docInfoManager:"Manager",docInfoOperator:"Operator",docInfoCompany:"Company",docInfoSubject:"Subject",docInfoComment:"Comment",docInfoCreator:"Creator",docInfoProducer:"Producer",docInfoCreationTime:"Creation time",docInfoRevisionTime:"Revision time",docInfoKeywords:"Keywords",embedFonts:"Embed TrueType fonts",pdfACompatible:"PDF/A compatible (level 2B)",useCompression:"Use compression",useOutlines:"Generate outlines",allowCopyContent:"Allow content copying or extraction",allowEditAnnotations:"Allow annotations editing",allowEditContent:"Allow content editing",allowPrint:"Allow printing",ownerPassword:"Permissions (owner) password:",userPassword:"Document open (user) password:",encryptionType:"Encryption level:",paged:"Paged",showNavigator:"Show Navigator",navigatorPosition:"Navigator Position",singleFile:"Single File",tolerance:"Tolerance when detecting text bounds (points):",pictureLayer:"Use separate picture layer",metafileType:"Metafile Type:",monochrome:"Monochrome",resolution:"Resolution:",outputRange:"Page range:",outputRangeInverted:"Inverted",showZoomBar:"Zoom Bar",searchPrev:"Search Previous",searchNext:"Search Next",checkMark:"✓",exportOk:"Export...",cannotSearch:"Search requires a document source to be specified.",parameters:"Parameters",requiringParameters:"Please input parameters.",nullParameterError:"Value cannot be null.",invalidParameterError:"Invalid input.",parameterNoneItemsSelected:"(none)",parameterAllItemsSelected:"(all)",parameterSelectAllItemText:"(Select All)",selectParameterValue:"(select value)",apply:"Apply",errorOccured:"An error has occured."};var _SearchManager=function(){function e(){this._currentIndex=-1,this.currentChanged=new wjcCore.Event,this.searchCompleted=new wjcCore.Event}return e.prototype._onCurrentChanged=function(){this.currentChanged.raise(this,new wjcCore.EventArgs)},e.prototype._onSearchCompleted=function(){this.searchCompleted.raise(this,new wjcCore.EventArgs)},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){this._text!==e&&(this._text=e,this._needUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchCase",{get:function(){return this._matchCase},set:function(e){this._matchCase!==e&&(this._matchCase=e,this._needUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wholeWord",{get:function(){return this._wholeWord},set:function(e){this._wholeWord!==e&&(this._wholeWord=e,this._needUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchResults",{get:function(){return this._searchResults},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){var t=this;e!==this._currentIndex&&this._getSearchResults().then(function(o){t._currentIndex=e,t._onCurrentChanged()})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this._currentIndex<0?null:this._searchResults[this._currentIndex]},enumerable:!0,configurable:!0}),e.prototype._clearResults=function(){this._searchResults=null},e.prototype._getSearchResults=function(){var e=this,t=new _Promise;return this._searchResults?(t.resolve(this._searchResults),t):this.documentSource?null==this._text||0===this._text.length?t:(this._needUpdate=!1,this.documentSource.search({text:encodeURIComponent(this.text),matchCase:this.matchCase,wholeWord:this.wholeWord}).then(function(t){e._searchResults=t,e._onSearchCompleted()})):(t.reject(wjcCore.culture.Viewer.cannotSearch),t)},Object.defineProperty(e.prototype,"documentSource",{get:function(){return this._documentSource},set:function(e){this._documentSource=e,this._clearResults(),this._text=null,this._matchCase=!1,this._wholeWord=!1,this._currentIndex=-1},enumerable:!0,configurable:!0}),e.prototype.search=function(e){var t=this;this._needUpdate&&this._clearResults(),this._getSearchResults().then(function(o){var n=t._searchResults.length;e?(t._currentIndex--,t._currentIndex<0&&(t._currentIndex=n-1)):(t._currentIndex++,t._currentIndex>=n&&(t._currentIndex=0)),t._currentIndex=Math.max(Math.min(t._currentIndex,n-1),0),t._onCurrentChanged()})},e}();exports._SearchManager=_SearchManager,window.TouchEvent=window.TouchEvent||function(){},window.PointerEvent=window.PointerEvent||function(){},window.Touch=window.Touch||function(){};var _eventSeparator=",",_touchEventsMap={startName:"touchstart",moveName:"touchmove",endName:["touchend","touchcancel","touchleave"].join(_eventSeparator)},_pointerEventsMap={startName:["pointerdown","pointerenter"].join(_eventSeparator),moveName:"pointermove",endName:["pointerup","pointercancel","pointerleave"].join(_eventSeparator)};exports._getTouchEventMap=_getTouchEventMap;var _TouchDirection;!function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Up=2]="Up",e[e.Right=3]="Right",e[e.Down=4]="Down"}(_TouchDirection=exports._TouchDirection||(exports._TouchDirection={}));var _TouchInfo=function(){function e(e){this._systemTouchInfo=e,e instanceof Touch?this._id=e.identifier:this._id=e.pointerId,this._target=e.target,this._screenX=e.screenX,this._screenY=e.screenY,this._clientX=e.clientX,this._clientY=e.clientY}return e.getCenter=function(e,t){return new wjcCore.Point(e.x+(t.x-e.x)/2,e.y+(t.y-e.y)/2)},e.getCenterClient=function(t,o){return e.getCenter(new wjcCore.Point(t.clientX,t.clientY),new wjcCore.Point(o.clientX,o.clientY))},e.getCenterScreen=function(t,o){return e.getCenter(new wjcCore.Point(t.screenX,t.screenY),new wjcCore.Point(o.screenX,o.screenY))},e.getDistance=function(e,t){var o=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.sqrt(o*o+n*n)},e._getDirection=function(e,t){var o=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.abs(o)>=Math.abs(n)?o>0?_TouchDirection.Right:o<0?_TouchDirection.Left:_TouchDirection.None:n>0?_TouchDirection.Down:n<0?_TouchDirection.Up:_TouchDirection.None},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"systemTouchInfo",{get:function(){return this._systemTouchInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenX",{get:function(){return this._screenX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenY",{get:function(){return this._screenY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientX",{get:function(){return this._clientX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this._clientY},enumerable:!0,configurable:!0}),e}();exports._TouchInfo=_TouchInfo;var _SpeedReducer=function(){function e(){this._timeInterval=50,this._speedInterval=5}return Object.defineProperty(e.prototype,"timeInterval",{get:function(){return this._timeInterval},set:function(e){this._timeInterval=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speedInterval",{get:function(){return this._speedInterval},set:function(e){this._speedInterval=e},enumerable:!0,configurable:!0}),e.prototype.stop=function(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)},e.prototype.start=function(e,t,o){var n=this;if(this.stop(),o){var r=e>=0?1:-1,i=t>=0?1:-1,a=Math.abs(e*this._timeInterval),s=Math.abs(t*this._timeInterval),c=Math.max(a,s),u=Math.floor(c/this.speedInterval),l=Math.floor(a/u),p=Math.floor(s/u);this._timer=setInterval(function(){a-=l,s-=p,a=Math.max(0,a),s=Math.max(0,s),a&&s?o(a*r,s*i):n.stop()},this._timeInterval)}},e}();exports._SpeedReducer=_SpeedReducer;var _TouchEventType;!function(e){e[e.Start=0]="Start",e[e.Move=1]="Move",e[e.End=2]="End"}(_TouchEventType=exports._TouchEventType||(exports._TouchEventType={}));var _TouchEventArgs=function(e){function t(o){var n=e.call(this)||this;return o instanceof t?(n._systemEvent=o.systemEvent,n._type=o.type,n._touchInfos=o.touchInfos,n):(n._systemEvent=o,_TouchManager._registerTouchInfo(o),n._type=_TouchManager._isTouchStart(o.type)?_TouchEventType.Start:_TouchManager._isTouchEnd(o.type)?_TouchEventType.End:_TouchEventType.Move,n._touchInfos=_TouchManager._allTouchInfos?_TouchManager._allTouchInfos.slice():[],n)}return __extends(t,e),Object.defineProperty(t.prototype,"timeStamp",{get:function(){return this.systemEvent.timeStamp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touchInfos",{get:function(){return this._touchInfos},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"systemEvent",{get:function(){return this._systemEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this.systemEvent.target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTarget",{get:function(){return this.systemEvent.currentTarget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointersCount",{get:function(){return this.touchInfos.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancelBubble",{get:function(){return this._systemEvent.cancelBubble},set:function(e){this._systemEvent.cancelBubble=e},enumerable:!0,configurable:!0}),t.prototype.preventDefault=function(){this._systemEvent.preventDefault()},t}(wjcCore.EventArgs);exports._TouchEventArgs=_TouchEventArgs;var _TouchEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)},t}(wjcCore.Event);exports._TouchEvent=_TouchEvent;var _TouchTrigger=function(){function e(t){var o=this;this.touchMove=new _TouchEvent,this.touchStart=new _TouchEvent,this.touchEnd=new _TouchEvent;var n=wjcCore.getElement(t);this._element=n;var r=e.getTrigger(n);if(r){var i=this._onTouchEvent.bind(this);return r.touchMove.addHandler(i),r.touchStart.addHandler(i),r.touchEnd.addHandler(i),void(this._disposeAction=function(){r.touchMove.removeHandler(i),r.touchStart.removeHandler(i),r.touchEnd.removeHandler(i),o._disposeAction=null})}var a=_getTouchEventMap(),s=this._onSystemTouchEvent.bind(this);_addEvent(n,a.startName,s),_addEvent(n,a.moveName,s),_addEvent(n,a.endName,s),e.bindElement(n,this),this._disposeAction=function(){_removeEvent(n,a.startName,s),_removeEvent(n,a.moveName,s),_removeEvent(n,a.endName,s),e.unbindElement(n),o._disposeAction=null}}return e.bindElement=function(t,o){if(t[e._elementDataName])throw"Cannot bind multi _TouchTrigger on the same element.";t[e._elementDataName]=o},e.unbindElement=function(t){t[e._elementDataName]=null},e.getTrigger=function(t){return t[e._elementDataName]},e.prototype._onSystemTouchEvent=function(e){var t=this._createTouchEventArgs(e);t&&this._onTouchEvent(this,t)},e.prototype._createTouchEventArgs=function(e){return _TouchManager._isTouchEvent(e)?new _TouchEventArgs(e):null},e.prototype.dispose=function(){this._disposeAction&&this._disposeAction()},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype._onTouchEvent=function(e,t){switch(t.type){case _TouchEventType.Start:return void this.onTouchStart(t);case _TouchEventType.Move:return void this.onTouchMove(t);case _TouchEventType.End:this.onTouchEnd(t)}},e.prototype.onTouchEnd=function(e){this.touchEnd.raise(this,e)},e.prototype.onTouchStart=function(e){this.touchStart.raise(this,e)},e.prototype.onTouchMove=function(e){this.touchMove.raise(this,e)},e._elementDataName="__wjTouchTrigger",e}();exports._TouchTrigger=_TouchTrigger;var _PanEventArgs=function(e){function t(t,o,n){var r=e.call(this,t)||this;return r._panType=null==n?t.type:n,r._client=new wjcCore.Point(r.touchInfo.clientX,r.touchInfo.clientY),r._screen=new wjcCore.Point(r.touchInfo.screenX,r.touchInfo.screenY),o&&(r._clientDelta=new wjcCore.Point(r.client.x-o.client.x,r.client.y-o.client.y),r._screenDelta=new wjcCore.Point(r.screen.x-o.screen.x,r.screen.y-o.screen.y)),r}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._panType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientDelta",{get:function(){return this._clientDelta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screenDelta",{get:function(){return this._screenDelta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"client",{get:function(){return this._client},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this._screen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointersCount",{get:function(){return this.type==_TouchEventType.End?0:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touchInfo",{get:function(){return this.touchInfos[0]||{}},enumerable:!0,configurable:!0}),t}(_TouchEventArgs);exports._PanEventArgs=_PanEventArgs;var _PanEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)},t}(_TouchEvent);exports._PanEvent=_PanEvent;var _PanTrigger=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panMove=new _PanEvent,t.panStart=new _PanEvent,t.panEnd=new _PanEvent,t}return __extends(t,e),t.prototype.onPanEnd=function(e){this.panEnd.raise(this,e)},t.prototype.onPanStart=function(e){this.panStart.raise(this,e)},t.prototype.onPanMove=function(e){this.panMove.raise(this,e)},t.prototype._prepareMove=function(e){var t=this;this._prePanEventArgs=e,this._panEvents.queue(function(){t.onPanMove(e)})},t.prototype._prepareStart=function(e){var o=this;this._prePanEventArgs=e,this._panEvents.queue(function(){o.onPanStart(e)}),this._clearPanStartTimer(),this._panStartTimer=setTimeout(function(){o._panEvents&&o._panEvents.start(),o._clearPanStartTimer()},t._threhold)},t.prototype._prepareEnd=function(e){var t=this;this._prePanEventArgs=null,this._panEvents.queue(function(){var o=e instanceof _PanEventArgs?e:new _PanEventArgs(e,null,_TouchEventType.End);t.onPanEnd(o),t._stopPan()})},t.prototype._clearPanStartTimer=function(){null!=this._panStartTimer&&(clearTimeout(this._panStartTimer),this._panStartTimer=null)},t.prototype._tryStopPan=function(e){this._panEvents&&this._panEvents.isStarted?this._prepareEnd(e):this._stopPan()},t.prototype._stopPan=function(){this._clearPanStartTimer(),this._panEvents=null,this._prePanEventArgs=null},t.prototype._processPan=function(e){var t=this._createPanEventArgs(e);if(t)switch(t.type){case _TouchEventType.Start:return void this._prepareStart(t);case _TouchEventType.Move:return void this._prepareMove(t);case _TouchEventType.End:return void this._prepareEnd(t)}else this._tryStopPan(e)},t.prototype.onTouchStart=function(t){e.prototype.onTouchStart.call(this,t),this._processPan(t)},t.prototype.onTouchMove=function(t){e.prototype.onTouchMove.call(this,t),this._processPan(t)},t.prototype.onTouchEnd=function(t){e.prototype.onTouchEnd.call(this,t);var o=this._createPanEventArgs(t);o?this._prepareEnd(o):this._tryStopPan(t)},t.prototype._createPanEventArgs=function(e){if(e.type==_TouchEventType.End&&0!=e.pointersCount||e.type!=_TouchEventType.End&&1!=e.pointersCount)return null;var t=new _PanEventArgs(e,this._prePanEventArgs);if(t.type!=_TouchEventType.Start){if(!this._panEvents)return null}else this._panEvents=new _ActionQueue;return t},t._threhold=10,t}(_TouchTrigger);exports._PanTrigger=_PanTrigger;var _SwipeEventArgs=function(e){function t(t,o,n,r){var i=e.call(this,n)||this;i._duration=r,i._startTouchInfo=t,i._endTouchInfo=o;var a=_pointMove(!1,new wjcCore.Point(i.endTouchInfo.clientX,i.endTouchInfo.clientY),new wjcCore.Point(i.startTouchInfo.clientX,i.startTouchInfo.clientY));return i._speed=new wjcCore.Point(_SwipeTrigger.getSpeed(a.x,i.duration),_SwipeTrigger.getSpeed(a.y,i.duration)),i._direction=_TouchInfo._getDirection(i.startTouchInfo,i.endTouchInfo),i}return __extends(t,e),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startTouchInfo",{get:function(){return this._startTouchInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endTouchInfo",{get:function(){return this._endTouchInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointersCount",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},enumerable:!0,configurable:!0}),t}(_PanEventArgs);exports._SwipeEventArgs=_SwipeEventArgs;var _SwipeEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)},t}(_PanEvent);exports._SwipeEvent=_SwipeEvent;var _SwipeTrigger=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.swipe=new _SwipeEvent,t}return __extends(t,e),t.getSpeed=function(e,t){return e/t},t.prototype.onPanStart=function(t){e.prototype.onPanStart.call(this,t),this._panStartEventArgs=t},t.prototype.onPanMove=function(t){e.prototype.onPanMove.call(this,t),this._prePanMoveEventArgs=t},t.prototype.onPanEnd=function(t){e.prototype.onPanEnd.call(this,t);var o=this._createSwipeEventArgs(t);o&&this.onSwipe(o),this._panStartEventArgs=null,this._prePanMoveEventArgs=null},t.prototype.onSwipe=function(e){this.swipe.raise(this,e)},t.prototype._createSwipeEventArgs=function(e){if(!this._panStartEventArgs||!this._prePanMoveEventArgs)return null;var o=e.timeStamp-this._panStartEventArgs.timeStamp;return o>t.maxDuration?null:_TouchInfo.getDistance(this._panStartEventArgs.touchInfo,this._prePanMoveEventArgs.touchInfo)<t.minDistance?null:new _SwipeEventArgs(this._panStartEventArgs.touchInfo,this._prePanMoveEventArgs.touchInfo,e,o)},t.minDistance=50,t.maxDuration=300,t}(_PanTrigger);exports._SwipeTrigger=_SwipeTrigger;var _PinchEventArgs=function(e){function t(t,o,n){var r=e.call(this,t)||this;return r._zoom=1,r._pinchType=o,r._pre=n||{},r.type==_TouchEventType.End?r:(r._pinchDistance=_TouchInfo.getDistance(r.touchInfos[0],r.touchInfos[1]),r._centerClient=_TouchInfo.getCenterClient(r.touchInfos[0],r.touchInfos[1]),r._centerScreen=_TouchInfo.getCenterScreen(r.touchInfos[0],r.touchInfos[1]),r.type==_TouchEventType.Start?r:(r._zoom=r.pinchDistance/r.prePinchDistance,r._centerClientDelta=new wjcCore.Point(r.centerClient.x-r.preCenterClient.x,r.centerClient.y-r.preCenterClient.y),r._centerScreenDelta=new wjcCore.Point(r.centerScreen.x-r.preCenterScreen.x,r.centerScreen.y-r.preCenterScreen.y),r))}return __extends(t,e),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointersCount",{get:function(){return this.type==_TouchEventType.End?0:2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prePinchDistance",{get:function(){return this._pre.pinchDistance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pinchDistance",{get:function(){return this._pinchDistance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerScreenDelta",{get:function(){return this._centerScreenDelta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerClientDelta",{get:function(){return this._centerClientDelta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerClient",{get:function(){return this._centerClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preCenterClient",{get:function(){return this._pre.centerClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerScreen",{get:function(){return this._centerScreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preCenterScreen",{get:function(){return this._pre.centerScreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._pinchType},enumerable:!0,configurable:!0}),t}(_TouchEventArgs);exports._PinchEventArgs=_PinchEventArgs;var _PinchEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)},t}(_TouchEvent);exports._PinchEvent=_PinchEvent;var _PinchTrigger=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pinch=new _PinchEvent,t}return __extends(t,e),t.prototype.onPinch=function(e){this.pinch.raise(this,e)},t.prototype.onTouchStart=function(e){this._process(e)},t.prototype.onTouchend=function(e){this._process(e)},t.prototype.onTouchMove=function(e){this._process(e)},t.prototype._onPinching=function(e){var t=new _PinchEventArgs(e,this._preEventArgs?_TouchEventType.Move:_TouchEventType.Start,this._preEventArgs);this.onPinch(t),this._preEventArgs=t},t.prototype._onPinchEnd=function(e){if(this._preEventArgs){var t=new _PinchEventArgs(e,_TouchEventType.End,this._preEventArgs);this.onPinch(t),this._preEventArgs=null}},t.prototype._process=function(e){if(2==e.pointersCount)switch(e.type){case _TouchEventType.Start:case _TouchEventType.Move:return void this._onPinching(e);case _TouchEventType.End:return void this._onPinchEnd(e)}else this._onPinchEnd(e)},t}(_TouchTrigger);exports._PinchTrigger=_PinchTrigger;var _TouchManager=function(){function e(e,t){void 0===t&&(t=!0);var o=this;this.touchMove=new _TouchEvent,this.touchStart=new _TouchEvent,this.touchEnd=new _TouchEvent,this.panMove=new _PanEvent,this.panStart=new _PanEvent,this.panEnd=new _PanEvent,this.swipe=new _SwipeEvent,this.pinch=new _PinchEvent,this._trigger=new _SwipeTrigger(e),this._trigger.touchStart.addHandler(function(e,t){return o.onTouchStart(t)}),this._trigger.touchMove.addHandler(function(e,t){return o.onTouchMove(t)}),this._trigger.touchEnd.addHandler(function(e,t){return o.onTouchEnd(t)}),this._trigger.panStart.addHandler(function(e,t){return o.onPanStart(t)}),this._trigger.panMove.addHandler(function(e,t){return o.onPanMove(t)}),this._trigger.panEnd.addHandler(function(e,t){return o.onPanEnd(t)}),this._trigger.swipe.addHandler(function(e,t){return o.onSwipe(t)}),this._pinchTrigger=new _PinchTrigger(e),this._pinchTrigger.pinch.addHandler(function(e,t){return o.onPinch(t)}),this.removeDefaultTouch=t}return e._isTouchEvent=function(t){return t instanceof TouchEvent||(t.pointerType||"").toLowerCase()===e._touchPointerName},e._isTouchStart=function(t){return e._eventTypeContains(t,_getTouchEventMap().startName)},e._isTouchEnd=function(t){return e._eventTypeContains(t,_getTouchEventMap().endName)},e._isTouchMove=function(t){return e._eventTypeContains(t,_getTouchEventMap().moveName)},e._eventTypeContains=function(e,t){var o=t.split(",");e=e.toLowerCase();for(var n=0,r=o.length;n<r;n++){var i=o[n].trim().toLowerCase();if(e.indexOf(i)>-1)return!0}return!1},e._registerTouchInfo=function(t){if(e._isTouchEvent(t))if(t instanceof TouchEvent){e._allTouchInfos=[];for(var o=0,n=t.touches.length;o<n;o++)e._allTouchInfos.push(new _TouchInfo(t.touches.item(o)))}else if(t instanceof PointerEvent){if(e._allTouchInfos=e._allTouchInfos||[],e._isTouchEnd(t.type)){for(var r=0,n=e._allTouchInfos.length;r<n;r++)if(e._allTouchInfos[r].id==t.pointerId)return void e._allTouchInfos.splice(r,1);return}for(var r=0,n=e._allTouchInfos.length;r<n;r++)if(e._allTouchInfos[r].id==t.pointerId)return void(e._allTouchInfos[r]=new _TouchInfo(t));e._allTouchInfos.push(new _TouchInfo(t))}},e.prototype.onPinch=function(e){this.pinch.raise(this,e)},e.prototype.onSwipe=function(e){this.swipe.raise(this,e)},e.prototype.onTouchEnd=function(e){this.touchEnd.raise(this,e)},e.prototype.onTouchStart=function(e){this.touchStart.raise(this,e)},e.prototype.onTouchMove=function(e){this.touchMove.raise(this,e)},e.prototype.onPanEnd=function(e){this.panEnd.raise(this,e)},e.prototype.onPanStart=function(e){this.panStart.raise(this,e)},e.prototype.onPanMove=function(e){this.panMove.raise(this,e)},Object.defineProperty(e.prototype,"removeDefaultTouch",{get:function(){return this._removeDefaultTouch},set:function(e){this._removeDefaultTouch=e;var t=this.hostElement.style;e?(t.touchAction="none",t.msTouchAction="none"):(t.touchAction=this._defaultTouchAction,t.msTouchAction=this._defaultMsTouchAction)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._pinchTrigger.hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentElement",{get:function(){return this.hostElement.children.length?this.hostElement.children[0]:null},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._pinchTrigger&&this._pinchTrigger.dispose(),this._trigger&&this._trigger.dispose(),this.removeDefaultTouch&&(this.removeDefaultTouch=!1)},e._touchPointerName="touch",e._allTouchInfos=[],e}();exports._TouchManager=_TouchManager;var _PageSetupEditor=function(e){function t(t){var o=e.call(this,t)||this;o._uiUpdating=!1;wjcCore.assert(null!=wjcInput.ComboBox,"Missing dependency: _PageSetupEditor requires wijmo.input.");var n;return n=o.getTemplate(),o.applyTemplate("wj-control wj-content",n,{_divPaperKind:"div-paper-kind",_divOrientation:"div-page-orientation",_divMarginsLeft:"div-margins-left",_divMarginsRight:"div-margins-right",_divMarginsTop:"div-margins-top",_divMarginsBottom:"div-margins-bottom",_gPaperKind:"g-paperkind",_gOrientation:"g-orientation",_gMargins:"g-margins",_gLeft:"g-left",_gRight:"g-right",_gTop:"g-top",_gBottom:"g-bottom"}),o._numMarginsLeft=new wjcInput.InputNumber(o._divMarginsLeft),o._numMarginsLeft.valueChanged.addHandler(o._updateValue,o),o._numMarginsRight=new wjcInput.InputNumber(o._divMarginsRight),o._numMarginsRight.valueChanged.addHandler(o._updateValue,o),o._numMarginsTop=new wjcInput.InputNumber(o._divMarginsTop),o._numMarginsTop.valueChanged.addHandler(o._updateValue,o),o._numMarginsBottom=new wjcInput.InputNumber(o._divMarginsBottom),o._numMarginsBottom.valueChanged.addHandler(o._updateValue,o),o._cmbPaperKind=new wjcInput.ComboBox(o._divPaperKind,{itemsSource:_enumToArray(_PaperKind),displayMemberPath:"text",selectedValuePath:"value",isEditable:!1}),o._cmbPaperKind.selectedIndexChanged.addHandler(o._updateValue,o),o._cmbOrientation=new wjcInput.ComboBox(o._divOrientation,{itemsSource:[wjcCore.culture.Viewer.portrait,wjcCore.culture.Viewer.landscape],isEditable:!1}),o._cmbOrientation.selectedIndexChanged.addHandler(o._updateValue,o),o._globalize(),o}return __extends(t,e),Object.defineProperty(t.prototype,"pageSettings",{get:function(){return this._pageSettings},set:function(e){var t=_clonePageSettings(e);this._pageSettings=t,this._updateUI(),this._cmbPaperKind.focus()},enumerable:!0,configurable:!0}),t.prototype._globalize=function(){var e=wjcCore.culture.Viewer;this._gPaperKind.textContent=e.paperKind,this._gOrientation.textContent=e.orientation,this._gMargins.textContent=e.margins,this._gLeft.textContent=e.left,this._gRight.textContent=e.right,this._gTop.textContent=e.top,this._gBottom.textContent=e.bottom;var t=this._cmbOrientation.selectedIndex;this._cmbOrientation.itemsSource=[wjcCore.culture.Viewer.portrait,wjcCore.culture.Viewer.landscape],this._cmbOrientation.selectedIndex=t},t.prototype._updateValue=function(){if(!this._uiUpdating){var e=this.pageSettings;e&&(e.bottomMargin=new _Unit(this._numMarginsBottom.value,_UnitType.Inch),e.leftMargin=new _Unit(this._numMarginsLeft.value,_UnitType.Inch),e.rightMargin=new _Unit(this._numMarginsRight.value,_UnitType.Inch),e.topMargin=new _Unit(this._numMarginsTop.value,_UnitType.Inch),e.paperSize=this._cmbPaperKind.selectedValue,_setLandscape(e,this._cmbOrientation.text===wjcCore.culture.Viewer.landscape),this._updateUI())}},t.prototype._updateUI=function(){this._uiUpdating=!0;var e=this.pageSettings,t=function(e,t){e.value=_Unit.convertValue(t.value,t.units,_UnitType.Inch)};e&&(this._cmbPaperKind.selectedValue=e.paperSize,this._cmbOrientation.text=e.landscape?wjcCore.culture.Viewer.landscape:wjcCore.culture.Viewer.portrait,t(this._numMarginsLeft,e.leftMargin),t(this._numMarginsRight,e.rightMargin),t(this._numMarginsTop,e.topMargin),t(this._numMarginsBottom,e.bottomMargin)),this._uiUpdating=!1},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&this._globalize()},t.controlTemplate='<div><div style="padding:12px;"><table style="table-layout:fixed"><tr><td wj-part="g-paperkind"></td><td><div wj-part="div-paper-kind"></div></td></tr><tr><td wj-part="g-orientation"></td><td><div wj-part="div-page-orientation"></div></td></tr></table><fieldset style="margin-top: 12px"><legend wj-part="g-margins"></legend><table style="table-layout:fixed"><tr><td wj-part="g-left"></td><td><div wj-part="div-margins-left"></div></td></tr><tr><td wj-part="g-right"></td><td><div wj-part="div-margins-right"></div></td></tr><tr><td wj-part="g-top"></td><td><div wj-part="div-margins-top"></div></td></tr><tr><td wj-part="g-bottom"></td><td><div wj-part="div-margins-bottom"></div></td></tr></table></fieldset></div></div>',t}(wjcCore.Control);exports._PageSetupEditor=_PageSetupEditor;var _ExportOptionEditor=function(e){function t(t){var o=e.call(this,t)||this;return o._options={},o._optionLabels=null,o._groupTitleField=null,wjcCore.addClass(t,"wj-export-editor"),o}return __extends(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exportDescription",{get:function(){return this._exportDescription},set:function(e){this._exportDescription=e,this._options={},e&&(this._options.format=this.exportDescription.format,this._render())},enumerable:!0,configurable:!0}),t.prototype._skipOption=function(e){return t._skippedOptions.indexOf(e)>=0},t.prototype._render=function(){if(_removeChildren(this.hostElement),this.exportDescription){document.createElement("table");for(var e=this.exportDescription.optionDescriptions,o={},n=0;n<e.length;n++){var r=e[n];this._skipOption(r.name)||(r.group?(o[r.group]||(o[r.group]=[]),o[r.group].push(r)):(o[t._generalGroupName]||(o[t._generalGroupName]=[]),r.group=t._generalGroupName,o[t._generalGroupName].push(r)))}for(var i in o)this.hostElement.appendChild(this._generateGroup(o[i]));this._updateEditors()}},t.prototype._generateEditor=function(e){var o;if(wjcCore.isArray(e.allowedValues))o=this._generateComboEditor(e);else switch(e.type){case"bool":o=this._generateBoolEditor(e);break;case"int":case"float":o=this._generateNumberEditor(e);break;case"unit":e.defaultValue=new _Unit(e.defaultValue);case"string":default:o=this._generateStringEditor(e)}return o.setAttribute(t._optionIdAttr,e.name),o},t.prototype._generateComboEditor=function(e){for(var t,o=this,n=[],r=document.createElement("div"),i=0;i<e.allowedValues.length;i++)n.push(e.allowedValues[i]);return t=new wjcInput.ComboBox(r),t.isEditable=!1,t.itemsSource=n,t.selectedValue=e.defaultValue,t.selectedIndexChanged.addHandler(function(t){o._setOptionValue(e.name,t.selectedValue.toString())}),r},t.prototype._generateBoolEditor=function(e){var t,o=this;if(e.nullable){t=document.createElement("div");var n=new wjcInput.ComboBox(t),r=[];n.isEditable=!1,n.displayMemberPath="name",n.selectedValuePath="value",r.push({name:"None",value:null}),r.push({name:"True",value:!0}),r.push({name:"False",value:!1}),n.itemsSource=r,n.selectedValue=e.defaultValue,n.selectedIndexChanged.addHandler(function(t){o._setOptionValue(e.name,t.selectedValue),o._updateEditors(e.name)})}else{(t=document.createElement("input")).type="checkbox";var i=wjcCore.changeType(e.defaultValue,wjcCore.DataType.Boolean,null);t.checked=i,_addEvent(t,"click",function(){o._setOptionValue(e.name,t.checked),o._updateEditors(e.name)})}return t},t.prototype._generateNumberEditor=function(e){var t,o,n=this,r="int"===e.type;return t=document.createElement("div"),o=new wjcInput.InputNumber(t),o.format=r?"n0":"n2",o.isRequired=!e.nullable,o.value=e.defaultValue,o.valueChanged.addHandler(function(t){n._setOptionValue(e.name,t.value)}),t},t.prototype._generateStringEditor=function(e){var t,o=this;return t=document.createElement("input"),e.name.match(/password/i)?t.type="password":t.type="text",t.value=e.defaultValue,_addEvent(t,"change,keyup,paste,input",function(){o._setOptionValue(e.name,t.value)}),t},t.prototype._generateGroup=function(e){var o=document.createElement("fieldset"),n=document.createElement("legend"),r=e[0].group;wjcCore.addClass(o,"wj-exportformats-group"),n.innerHTML=this._groupTitle[r],n.setAttribute(t._optionNameAttr,r),o.appendChild(n);for(var i=document.createElement("table"),a=0;a<e.length;a++){var s=e[a],c=document.createElement("tr"),u=document.createElement("td"),l=document.createElement("td");u.innerHTML=this._getOptionLabel(s.name),u.setAttribute(t._optionNameAttr,s.name),l.appendChild(this._generateEditor(s)),c.appendChild(u),c.appendChild(l),i.appendChild(c)}return o.appendChild(i),o},t.prototype._updateEditors=function(e){if("pdfACompatible"!==e&&e){if("paged"===e||!e){var o=this.hostElement.querySelector("["+t._optionIdAttr+'="showNavigator"]');if(o){var n=wjcCore.changeType(this._getOptionValue("paged"),wjcCore.DataType.Boolean,null);n?(o.checked=this._previousShowNavigator,this._setOptionValue("showNavigator",this._previousShowNavigator)):(this._previousShowNavigator=o.checked,o.checked=!1,this._setOptionValue("showNavigator",!1)),o.disabled=!n}}}else{var r=this.hostElement.querySelector("["+t._optionIdAttr+'="embedFonts"]');if(r){var i=wjcCore.changeType(this._getOptionValue("pdfACompatible"),wjcCore.DataType.Boolean,null);i?(this._previousEmbedFonts=r.checked,r.checked=!0,this._setOptionValue("embedFonts",!0)):(r.checked=this._previousEmbedFonts,this._setOptionValue("embedFonts",this._previousEmbedFonts)),r.disabled=i}}},t.prototype._getOptionLabel=function(e){var t=this._optionLabelsText[e];return t||e[0].toUpperCase()+e.substring(1)},t.prototype._getOptionDescByName=function(e){var t=null;return this._exportDescription.optionDescriptions.some(function(o){return o.name===e&&(t=o,!0)}),t},t.prototype._getOptionValue=function(e){return void 0!==this._options[e]?this._options[e]:this._getOptionDescByName(e).defaultValue},t.prototype._setOptionValue=function(e,t){var o=this._getOptionDescByName(e),n=o.defaultValue;"unit"===o.type&&(n=o.defaultValue.toString()),t!==n?this._options[e]=t:void 0!==this._options[e]&&delete this._options[e]},Object.defineProperty(t.prototype,"_optionLabelsText",{get:function(){return this._optionLabels||(this._optionLabels={title:wjcCore.culture.Viewer.docInfoTitle,author:wjcCore.culture.Viewer.docInfoAuthor,manager:wjcCore.culture.Viewer.docInfoManager,operator:wjcCore.culture.Viewer.docInfoOperator,company:wjcCore.culture.Viewer.docInfoCompany,subject:wjcCore.culture.Viewer.docInfoSubject,comment:wjcCore.culture.Viewer.docInfoComment,creator:wjcCore.culture.Viewer.docInfoCreator,producer:wjcCore.culture.Viewer.docInfoProducer,creationTime:wjcCore.culture.Viewer.docInfoCreationTime,revisionTime:wjcCore.culture.Viewer.docInfoRevisionTime,keywords:wjcCore.culture.Viewer.docInfoKeywords,embedFonts:wjcCore.culture.Viewer.embedFonts,pdfACompatible:wjcCore.culture.Viewer.pdfACompatible,useCompression:wjcCore.culture.Viewer.useCompression,useOutlines:wjcCore.culture.Viewer.useOutlines,allowCopyContent:wjcCore.culture.Viewer.allowCopyContent,allowEditAnnotations:wjcCore.culture.Viewer.allowEditAnnotations,allowEditContent:wjcCore.culture.Viewer.allowEditContent,allowPrint:wjcCore.culture.Viewer.allowPrint,ownerPassword:wjcCore.culture.Viewer.ownerPassword,userPassword:wjcCore.culture.Viewer.userPassword,encryptionType:wjcCore.culture.Viewer.encryptionType,paged:wjcCore.culture.Viewer.paged,showNavigator:wjcCore.culture.Viewer.showNavigator,navigatorPosition:wjcCore.culture.Viewer.navigatorPosition,singleFile:wjcCore.culture.Viewer.singleFile,tolerance:wjcCore.culture.Viewer.tolerance,pictureLayer:wjcCore.culture.Viewer.pictureLayer,metafileType:wjcCore.culture.Viewer.metafileType,monochrome:wjcCore.culture.Viewer.monochrome,resolution:wjcCore.culture.Viewer.resolution,outputRange:wjcCore.culture.Viewer.outputRange,outputRangeInverted:wjcCore.culture.Viewer.outputRangeInverted}),this._optionLabels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_groupTitle",{get:function(){return this._groupTitleField||(this._groupTitleField={documentRestrictions:wjcCore.culture.Viewer.documentRestrictionsGroup,passwordSecurity:wjcCore.culture.Viewer.passwordSecurityGroup,outputRange:wjcCore.culture.Viewer.outputRangeGroup,documentInfo:wjcCore.culture.Viewer.documentInfoGroup,general:wjcCore.culture.Viewer.generalGroup}),this._groupTitleField},enumerable:!0,configurable:!0}),t.prototype._globalize=function(){for(var e=this.hostElement.querySelectorAll("["+t._optionNameAttr+"]"),o=0;o<e.length;o++){var n=e[o];n instanceof HTMLLegendElement?n.innerHTML=this._groupTitle[n.getAttribute(t._optionNameAttr)]:n.innerHTML=this._getOptionLabel(n.getAttribute(t._optionNameAttr))}},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&(this._optionLabels=null,this._groupTitleField=null,this._globalize())},t._optionIdAttr="option-id",t._optionNameAttr="option-name",t._skippedOptions=["shapesWord2007Compatible","sheetName","navigatorPositions"],t._generalGroupName="general",t}(wjcCore.Control);exports._ExportOptionEditor=_ExportOptionEditor;var _Toolbar=function(e){function t(t){var o=e.call(this,t)||this;o.svgButtonClicked=new wjcCore.Event;var n;return n=o.getTemplate(),o.applyTemplate("wj-toolbar",n,{_toolbarWrapper:"toolbar-wrapper",_toolbarContainer:"toolbar-container",_toolbarLeft:"toolbar-left",_toolbarRight:"toolbar-right"}),_addEvent(o._toolbarLeft,"mouseover",function(){o._scrollLeft()}),_addEvent(o._toolbarLeft,"mouseout",function(){o._clearToolbarMoveTimer()}),_addEvent(o._toolbarRight,"mouseover",function(){o._scrollRight()}),_addEvent(o._toolbarRight,"mouseout",function(){o._clearToolbarMoveTimer()}),o}return __extends(t,e),t.prototype.applyTemplate=function(e,t,o){var n=this.hostElement;if(wjcCore.addClass(n,e),n.appendChild(_toDOMs(t)),o)for(var r in o){var i=o[r];if(this[r]=n.querySelector('[wj-part="'+i+'"]'),null==this[r]&&n.getAttribute("wj-part")==i&&(this[r]=t),null==this[r])throw'Missing template part: "'+i+'"'}return n},t.prototype._clearToolbarMoveTimer=function(){null!=this._toolbarMoveTimer&&(clearTimeout(this._toolbarMoveTimer),this._toolbarMoveTimer=null)},t.prototype._scrollRight=function(){var e=this,o=this._toolbarRight.getBoundingClientRect().width,n=this._toolbarContainer.getBoundingClientRect().width-this._toolbarWrapper.getBoundingClientRect().width,r=this._toolbarWrapper.offsetLeft-o-t._moveStep;this._checkMoveButtonEnabled(),r<n||(this._toolbarWrapper.style.left=r+"px",this._toolbarMoveTimer=setTimeout(function(){return e._scrollRight()},t._moveInterval))},t.prototype._scrollLeft=function(){var e=this,o=this._toolbarLeft.getBoundingClientRect().width,n=this._toolbarWrapper.offsetLeft-o+t._moveStep;this._checkMoveButtonEnabled(),n>0||(this._toolbarWrapper.style.left=n+"px",this._toolbarMoveTimer=setTimeout(function(){return e._scrollLeft()},t._moveInterval))},t.prototype._checkMoveButtonEnabled=function(){var e=this._toolbarLeft.getBoundingClientRect().width,o=this._toolbarWrapper.offsetLeft-e+t._moveStep,n=o<=0,r=wjcCore.hasClass(this._toolbarLeft,t._enabledCss);n?r||wjcCore.addClass(this._toolbarLeft,t._enabledCss):r&&wjcCore.removeClass(this._toolbarLeft,t._enabledCss);var i=this._toolbarRight.getBoundingClientRect().width,a=this._toolbarContainer.getBoundingClientRect().width-this._toolbarWrapper.getBoundingClientRect().width,s=(o=this._toolbarWrapper.offsetLeft-i-t._moveStep)>=a,c=wjcCore.hasClass(this._toolbarRight,t._enabledCss);s?c||wjcCore.addClass(this._toolbarRight,t._enabledCss):c&&wjcCore.removeClass(this._toolbarRight,t._enabledCss)},t.prototype._showToolbarMoveButton=function(e){var t=e?"visible":"hidden";this._toolbarLeft.style.visibility=t,this._toolbarRight.style.visibility=t,this._checkMoveButtonEnabled()},t.prototype._globalize=function(){},t.prototype.resetWidth=function(){var e=this._toolbarLeft.getBoundingClientRect().width,t=this._toolbarRight.getBoundingClientRect().width,o=this.hostElement.getBoundingClientRect().width;this._toolbarContainer.style.width="1500px",this._toolbarWrapper.style.width="auto";var n=this._toolbarWrapper.getBoundingClientRect().width+2;this._toolbarWrapper.style.width=n+"px",this._toolbarContainer.style.width=o-e-t+"px";var r=e+t+n>o;this._showToolbarMoveButton(r),r||(this._toolbarWrapper.style.left="0px")},t.prototype.addSeparator=function(){var e=document.createElement("span");return e.className="wj-separator",this._toolbarWrapper.appendChild(e),e},t.prototype.onSvgButtonClicked=function(e){this.svgButtonClicked.raise(this,e)},t.prototype.addCustomItem=function(e,t){wjcCore.isString(e)&&(e=_toDOM(e)),null!=t&&e.setAttribute(exports._commandTagAttr,t.toString()),this._toolbarWrapper.appendChild(e)},t.prototype.addSvgButton=function(e,t,o,n){var r=this,i=_createSvgBtn(t);return i.title=e,i.setAttribute(exports._commandTagAttr,o.toString()),this._toolbarWrapper.appendChild(i),_addEvent(i,"click,keydown",function(e){var t=e||window.event;!("keydown"===t.type&&t.keyCode===wjcCore.Key.Enter||"click"===t.type)||_isDisabledImageButton(i)||!n&&_isCheckedImageButton(i)||r.onSvgButtonClicked({commandTag:o})}),i},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&this._globalize()},t._moveStep=2,t._moveInterval=5,t._enabledCss="enabled",t.controlTemplate='<div class="wj-toolbar-move left" wj-part="toolbar-left"><span class="wj-glyph-left"></span></div><div class="wj-toolbarcontainer" wj-part="toolbar-container"><div class="wj-toolbarwrapper wj-btn-group" wj-part="toolbar-wrapper"></div></div><div class="wj-toolbar-move right" wj-part="toolbar-right"><span class="wj-glyph-right"></span></div>',t}(wjcCore.Control);exports._Toolbar=_Toolbar;var _ViewerToolbarBase=function(e){function t(t,o){var n=e.call(this,t)||this;n._viewer=o,n._initToolbarItems();var r=function(){return n.isDisabled=!n._viewer._getDocumentSource()};return n._viewer._documentSourceChanged.addHandler(r),r(),n._viewer._viewerActionStatusChanged.addHandler(function(e,t){var o=t.action,r=n.hostElement.querySelector('[command-tag="'+o.actionType.toString()+'"]');_checkImageButton(r,o.checked),_disableImageButton(r,o.disabled),_showImageButton(r,o.shown),_checkSeparatorShown(n._toolbarWrapper)}),n}return __extends(t,e),t.prototype._initToolbarItems=function(){throw wjcCore.culture.Viewer.abstractMethodException},t.prototype.onSvgButtonClicked=function(t){e.prototype.onSvgButtonClicked.call(this,t),this._viewer._executeAction(parseInt(t.commandTag))},Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!0,configurable:!0}),t._initToolbarZoomValue=function(e,t){var o,n,r,i,a=wjcCore.Control.getControl(e),s=document.createElement("div"),c=ViewerBase._defaultZoomValues;s.className="wj-input-zoom",a.addCustomItem(s,_ViewerActionType.ZoomValue),(o=new wjcInput.ComboBox(s)).deferUpdate(function(){for(r=0;r<c.length;r++)for(i=r+1;i<c.length;i++)c[r].value>c[i].value&&(n=c[r],c[r]=c[i],c[i]=n);o.itemsSource=c,o.isEditable=!0,o.displayMemberPath="name",o.selectedValuePath="value",o.selectedValue=1}),o.selectedIndexChanged.addHandler(function(){if(o.isDroppedDown){var e=o.selectedValue;if(null==e){var n=o.text.replace(",","");e=parseFloat(n),isNaN(e)&&(e=100),e*=.01}t.zoomFactor=e}}),_addEvent(s,"keypress",function(e){var n,r=e||window.event,i=o.text;r.keyCode===wjcCore.Key.Enter&&(i.lastIndexOf("%")===i.length-1&&(i=i.substring(0,o.text.length-1)),i=i.replace(",",""),n=parseFloat(i),isNaN(n)?o.text=wjcCore.Globalize.format(t.zoomFactor,"p0"):t.zoomFactor=.01*n)}),_addEvent(s.querySelector(".wj-form-control"),"blur",function(e){o.text=wjcCore.Globalize.format(t.zoomFactor,"p0")}),t.zoomFactorChanged.addHandler(function(){o.isDroppedDown=!1,o.text=wjcCore.Globalize.format(t.zoomFactor,"p0")})},t._initToolbarPageNumberInput=function(e,t){var o,n=wjcCore.Control.getControl(e),r=document.createElement("div"),i=document.createElement("span"),a=function(){var e=t._getDocumentSource();e&&null!=e.pageCount&&(o.value=t.pageIndex+1)},s=function(){var e=t._getDocumentSource();e&&null!=e.pageCount&&(i.innerHTML=e.pageCount.toString(),o.max=e.pageCount,o.min=Math.min(e.pageCount,1),a())},c=function(){var e=t._getDocumentSource();e&&(s(),_addWjHandler(t._documentEventKey,e.pageCountChanged,s),_addWjHandler(t._documentEventKey,e.loadCompleted,s))};r.className="wj-pagenumber",n.addCustomItem(r,_ViewerActionType.PageNumber),(o=new wjcInput.InputNumber(r)).format="n0",_addEvent(r,"keyup",function(e){(e||window.event).keyCode===wjcCore.Key.Enter&&t.moveToPage(o.value-1)}),_addEvent(o.inputElement,"blur",function(e){t.moveToPage(o.value-1)}),n.addCustomItem('<span class="slash">/</span>'),i.className="wj-pagecount",n.addCustomItem(i,_ViewerActionType.PageCountLabel),t.pageIndexChanged.addHandler(a),t._getDocumentSource()&&c(),t._documentSourceChanged.addHandler(c)},t}(_Toolbar);exports._ViewerToolbarBase=_ViewerToolbarBase;var _ViewerToolbar=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),t.prototype._globalize=function(){var e=wjcCore.culture.Viewer;this._gPaginated.title=e.paginated,this._gPrint.title=e.print,this._gExports.title=e.exports,this._gPortrait.title=e.portrait,this._gLandscape.title=e.landscape,this._gPageSetup.title=e.pageSetup,this._gFirstPage.title=e.firstPage,this._gPreviousPage.title=e.previousPage,this._gNextPage.title=e.nextPage,this._gLastPage.title=e.lastPage,this._gBackwardHistory.title=e.backwardHistory,this._gForwardHistory.title=e.forwardHistory,this._gSelectTool.title=e.selectTool,this._gMoveTool.title=e.moveTool,this._gContinuousMode.title=e.continuousMode,this._gSingleMode.title=e.singleMode,this._gWholePage.title=e.wholePage,this._gPageWidth.title=e.pageWidth,this._gZoomOut.title=e.zoomOut,this._gZoomIn.title=e.zoomIn,this._gRubberbandTool.title=e.rubberbandTool,this._gMagnifierTool.title=e.magnifierTool,this._gRotateDocument.title=e.rotateDocument,this._gRotatePage.title=e.rotatePage,this._gFullScreen.title=e.fullScreen},t.prototype._initToolbarItems=function(){this._gPaginated=this.addSvgButton(wjcCore.culture.Viewer.paginated,exports.icons.paginated,_ViewerActionType.TogglePaginated,!0),this._gPrint=this.addSvgButton(wjcCore.culture.Viewer.print,exports.icons.print,_ViewerActionType.Print),this._gExports=this.addSvgButton(wjcCore.culture.Viewer.exports,exports.icons.exports,_ViewerActionType.ShowExportsPanel),this.addSeparator(),this._gPortrait=this.addSvgButton(wjcCore.culture.Viewer.portrait,exports.icons.portrait,_ViewerActionType.Portrait),this._gLandscape=this.addSvgButton(wjcCore.culture.Viewer.landscape,exports.icons.landscape,_ViewerActionType.Landscape),this._gPageSetup=this.addSvgButton(wjcCore.culture.Viewer.pageSetup,exports.icons.pageSetup,_ViewerActionType.ShowPageSetupDialog),this.addSeparator(),this._gFirstPage=this.addSvgButton(wjcCore.culture.Viewer.firstPage,exports.icons.firstPage,_ViewerActionType.FirstPage),this._gPreviousPage=this.addSvgButton(wjcCore.culture.Viewer.previousPage,exports.icons.previousPage,_ViewerActionType.PrePage),this._gNextPage=this.addSvgButton(wjcCore.culture.Viewer.nextPage,exports.icons.nextPage,_ViewerActionType.NextPage),this._gLastPage=this.addSvgButton(wjcCore.culture.Viewer.lastPage,exports.icons.lastPage,_ViewerActionType.LastPage),_ViewerToolbarBase._initToolbarPageNumberInput(this.hostElement,this.viewer),this.addSeparator(),this._gBackwardHistory=this.addSvgButton(wjcCore.culture.Viewer.backwardHistory,exports.icons.backwardHistory,_ViewerActionType.Backward),this._gForwardHistory=this.addSvgButton(wjcCore.culture.Viewer.forwardHistory,exports.icons.forwardHistory,_ViewerActionType.Forward),this.addSeparator(),this._gSelectTool=this.addSvgButton(wjcCore.culture.Viewer.selectTool,exports.icons.selectTool,_ViewerActionType.SelectTool),this._gMoveTool=this.addSvgButton(wjcCore.culture.Viewer.moveTool,exports.icons.moveTool,_ViewerActionType.MoveTool),this._gContinuousMode=this.addSvgButton(wjcCore.culture.Viewer.continuousMode,exports.icons.continuousView,_ViewerActionType.Continuous),this._gSingleMode=this.addSvgButton(wjcCore.culture.Viewer.singleMode,exports.icons.singleView,_ViewerActionType.Single),this.addSeparator(),this._gWholePage=this.addSvgButton(wjcCore.culture.Viewer.wholePage,exports.icons.fitWholePage,_ViewerActionType.FitWholePage),this._gPageWidth=this.addSvgButton(wjcCore.culture.Viewer.pageWidth,exports.icons.fitPageWidth,_ViewerActionType.FitPageWidth),this._gZoomOut=this.addSvgButton(wjcCore.culture.Viewer.zoomOut,exports.icons.zoomOut,_ViewerActionType.ZoomOut),this._gZoomIn=this.addSvgButton(wjcCore.culture.Viewer.zoomIn,exports.icons.zoomIn,_ViewerActionType.ZoomIn),this._gRubberbandTool=this.addSvgButton(wjcCore.culture.Viewer.rubberbandTool,exports.icons.rubberbandTool,_ViewerActionType.RubberbandTool),this._gMagnifierTool=this.addSvgButton(wjcCore.culture.Viewer.magnifierTool,exports.icons.magnifierTool,_ViewerActionType.MagnifierTool),this._gRotateDocument=this.addSvgButton(wjcCore.culture.Viewer.rotateDocument,exports.icons.rotateDocument,_ViewerActionType.RotateDocument),this._gRotatePage=this.addSvgButton(wjcCore.culture.Viewer.rotatePage,exports.icons.rotatePage,_ViewerActionType.RotatePage),_ViewerToolbarBase._initToolbarZoomValue(this.hostElement,this.viewer),this._gFullScreen=this.addSvgButton(wjcCore.culture.Viewer.fullScreen,exports.icons.fullScreen,_ViewerActionType.ToggleFullScreen,!0)},t}(_ViewerToolbarBase);exports._ViewerToolbar=_ViewerToolbar;var _ViewerMiniToolbar=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),t.prototype._initToolbarItems=function(){this._gPrint=this.addSvgButton(wjcCore.culture.Viewer.print,exports.icons.print,_ViewerActionType.Print),this.addSeparator(),this._gPreviousPage=this.addSvgButton(wjcCore.culture.Viewer.previousPage,exports.icons.previousPage,_ViewerActionType.PrePage),this._gNextPage=this.addSvgButton(wjcCore.culture.Viewer.nextPage,exports.icons.nextPage,_ViewerActionType.NextPage),_ViewerToolbarBase._initToolbarPageNumberInput(this.hostElement,this.viewer),this.addSeparator(),this._gZoomOut=this.addSvgButton(wjcCore.culture.Viewer.zoomOut,exports.icons.zoomOut,_ViewerActionType.ZoomOut),this._gZoomIn=this.addSvgButton(wjcCore.culture.Viewer.zoomIn,exports.icons.zoomIn,_ViewerActionType.ZoomIn),this._gExitFullScreen=this.addSvgButton(wjcCore.culture.Viewer.exitFullScreen,exports.icons.exitFullScreen,_ViewerActionType.ToggleFullScreen,!0)},t.prototype._globalize=function(){var e=wjcCore.culture.Viewer;this._gPrint.title=e.print,this._gPreviousPage.title=e.previousPage,this._gNextPage.title=e.nextPage,this._gZoomOut.title=e.zoomOut,this._gZoomIn.title=e.zoomIn,this._gExitFullScreen.title=e.exitFullScreen},t}(_ViewerToolbarBase);exports._ViewerMiniToolbar=_ViewerMiniToolbar;var _ViewerMobileToolbarBase=function(e){function t(t,o){var n=e.call(this,t,o)||this;return wjcCore.addClass(n.hostElement,"mobile"),n}return __extends(t,e),t}(_ViewerToolbarBase);exports._ViewerMobileToolbarBase=_ViewerMobileToolbarBase;var _ViewerMobileToolbar=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),t.prototype._initToolbarItems=function(){this._gShowHamburgerMenu=this.addSvgButton(wjcCore.culture.Viewer.hamburgerMenu,exports.icons.hamburgerMenu,_ViewerActionType.ShowHamburgerMenu),this.viewer._initHamburgerMenu(this._gShowHamburgerMenu),this._gPrevPage=this.addSvgButton(wjcCore.culture.Viewer.previousPage,exports.icons.previousPage,_ViewerActionType.PrePage),this._gNextPage=this.addSvgButton(wjcCore.culture.Viewer.nextPage,exports.icons.nextPage,_ViewerActionType.NextPage),_ViewerToolbarBase._initToolbarPageNumberInput(this.hostElement,this.viewer),this._gShowViewMenu=this.addSvgButton(wjcCore.culture.Viewer.viewMenu,exports.icons.viewMenu,_ViewerActionType.ShowViewMenu),this.viewer._initViewMenu(this._gShowViewMenu),this._gShowSearchBar=this.addSvgButton(wjcCore.culture.Viewer.showSearchBar,exports.icons.search,_ViewerActionType.ShowSearchBar,!0),this._gFullScreen=this.addSvgButton(wjcCore.culture.Viewer.fullScreen,exports.icons.fullScreen,_ViewerActionType.ToggleFullScreen,!0)},t.prototype._globalize=function(){var e=wjcCore.culture.Viewer;this._gShowHamburgerMenu.title=e.hamburgerMenu,this._gPrevPage.title=e.previousPage,this._gNextPage.title=e.nextPage,this._gShowViewMenu.title=e.viewMenu,this._gShowSearchBar.title=e.showSearchBar,this._gFullScreen.title=e.fullScreen},t}(_ViewerMobileToolbarBase);exports._ViewerMobileToolbar=_ViewerMobileToolbar;var _ViewerZoomBar=function(e){function t(t,o){var n=e.call(this,t,o)||this;return wjcCore.addClass(n.hostElement,"wj-zoombar"),n}return __extends(t,e),t.prototype._initToolbarItems=function(){this._gZoomOut=this.addSvgButton(wjcCore.culture.Viewer.zoomOut,exports.icons.zoomOut,_ViewerActionType.ZoomOut),_ViewerToolbarBase._initToolbarZoomValue(this.hostElement,this.viewer),this._gZoomIn=this.addSvgButton(wjcCore.culture.Viewer.zoomIn,exports.icons.zoomIn,_ViewerActionType.ZoomIn)},t.prototype._globalize=function(){var e=wjcCore.culture.Viewer;this._gZoomOut.title=e.zoomOut,this._gZoomIn.title=e.zoomIn},t}(_ViewerMobileToolbarBase);exports._ViewerZoomBar=_ViewerZoomBar;var _SearchBar=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),t.prototype._initToolbarItems=function(){this._gSearchOptions=this.addSvgButton(wjcCore.culture.Viewer.searchOptions,exports.icons.searchOptions,_ViewerActionType.ShowSearchOptions),this.viewer._initSearchOptionsMenu(this._gSearchOptions),this._initSearchInput(),this._initSearchBtnGroups()},t.prototype._initSearchInput=function(){var e=this,t=_toDOM('<div class="wj-searchcontainer"><input class="wj-searchbox" wj-part="search-box" type="text"/><div class="wj-btn-group"><button class="wj-btn wj-btn-search">'+_createSvgBtn(exports.icons.search).innerHTML+"</button></div></div>"),o=t.querySelector('input[type="text"]'),n=t.querySelector(".wj-btn-search");_addEvent(o,"input",function(){e.viewer._searchManager.text=o.value}),_addEvent(n,"click",function(){e.viewer._searchManager.search()}),this.addCustomItem(t)},t.prototype._initSearchBtnGroups=function(){var e=_toDOM('<div class="wj-searchbtn-groups wj-btn-group wj-toolbarwrapper"></div>');this._gSearchPrev=this.addSvgButton(wjcCore.culture.Viewer.searchPrev,exports.icons.searchLeft,_ViewerActionType.SearchPrev),this._gSearchNext=this.addSvgButton(wjcCore.culture.Viewer.searchNext,exports.icons.searchRight,_ViewerActionType.SearchNext),e.appendChild(this._gSearchPrev),e.appendChild(this._gSearchNext),this.addCustomItem(e)},t.prototype._globalize=function(){var e=wjcCore.culture.Viewer;this._gSearchOptions.title=e.searchOptions,this._gSearchPrev.title=e.searchPrev,this._gSearchNext.title=e.searchNext},t}(_ViewerMobileToolbarBase);exports._SearchBar=_SearchBar;var _RotateAngle;!function(e){e[e.NoRotate=0]="NoRotate",e[e.Rotation90=1]="Rotation90",e[e.Rotation180=2]="Rotation180",e[e.Rotation270=3]="Rotation270"}(_RotateAngle=exports._RotateAngle||(exports._RotateAngle={}));var _Page=function(){function e(e,t,o){this._content=null,this._rotateAngle=_RotateAngle.NoRotate,this.linkClicked=new wjcCore.Event,this._documentSource=e,this._index=t,this._size=o}return Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotateAngle",{get:function(){return this._rotateAngle},set:function(e){this._rotateAngle=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),e.prototype.getContent=function(){var e=this,t=new _Promise,o=this._documentSource;return o?this._content?(t.resolve(this._content),t):(o.renderToFilter({format:"html",paged:o.paginated,outputRange:(this.index+1).toString()}).then(function(n){if(e._documentSource===o){var r,i,a=document.createElement("div");a.innerHTML=e._addGlobalUniqueId(n.responseText);var s,c=a.querySelector("section");for(c&&c.style&&(s={width:new _Unit(c.style.width),height:new _Unit(c.style.height)}),r=a.querySelector("svg"),i=document.createElementNS("http://www.w3.org/2000/svg","g");r.hasChildNodes();)i.appendChild(r.firstChild);r.appendChild(i),e._size=s,e._content=r,e._replaceActionLinks(r),t.resolve(e._content)}}),t):(t.reject(wjcCore.culture.Viewer.cannotRenderPageNoDoc),t)},e.prototype._onLinkClicked=function(e){this.linkClicked.raise(this,e)},e.prototype._replaceActionLinks=function(t){for(var o=this,n=t.querySelectorAll("a"),r=0;r<n.length;r++){var i=n.item(r),a=i.href?i.href.baseVal:"";if(a.indexOf("navigate")>0){var s=e._bookmarkReg.exec(a);s&&(s[1]&&s[1].length>0?(i.href.baseVal=e._invalidHref,i.setAttribute(e._bookmarkAttr,s[1]),_addEvent(i,"click",function(){o._onLinkClicked(new _LinkClickedEventArgs(this))})):i.removeAttribute("xlink:href"))}else e._customActionReg.test(a)&&(i.href.baseVal=e._invalidHref,i.setAttribute(e._customActionAttr,a.substr(3)),_addEvent(i,"click",function(){o._onLinkClicked(new _LinkClickedEventArgs(this))}))}},e.prototype._addGlobalUniqueId=function(t){var o=(new Date).getTime().toString();return t=t.replace(e._idReg,"$1$2"+o+"$3$4"),t=t.replace(e._idReferReg,"$1$2"+o+"$3$4")},e._bookmarkReg=/javascript\:navigate\(['|"](.*)['|"]\)/,e._bookmarkAttr="bookmark",e._customActionReg=/^CA\:/,e._customActionAttr="customAction",e._idReg=/(\<[^\>]+)(id=['|"])(\w+)(['|"])/g,e._idReferReg=/(\<[^\>]+)(url\(#)(\w+)(\))/g,e._invalidHref="javascript:void(0)",e}();exports._Page=_Page;var _CompositePageView=function(e){function t(t){var o=e.call(this,t)||this;o._viewMode=ViewMode.Single,o.pageIndexChanged=new wjcCore.Event,o.zoomFactorChanged=new wjcCore.Event,o.zoomModeChanged=new wjcCore.Event,o.positionChanged=new wjcCore.Event,o.rotateAngleChanged=new wjcCore.Event;var n;return n=o.getTemplate(),o.applyTemplate("wj-viewpanel-container",n,{_singlePageView:"single-pageview",_continuousPageView:"continuous-pageview"}),o._initPageView(),o}return __extends(t,e),t.prototype.applyTemplate=function(e,t,o){var n=this.hostElement;if(wjcCore.addClass(n,e),n.appendChild(_toDOMs(t)),o)for(var r in o){var i=o[r];if(this[r]=n.querySelector('[wj-part="'+i+'"]'),null==this[r]&&n.getAttribute("wj-part")==i&&(this[r]=t),null==this[r])throw'Missing template part: "'+i+'"'}return n},Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._activePageView.pageIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pages",{get:function(){return this._activePageView.pages},set:function(e){this._activePageView.pages=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomMode",{get:function(){return this._activePageView.zoomMode},set:function(e){this._activePageView.zoomMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return this._activePageView.zoomFactor},set:function(e){this._activePageView.zoomFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panMode",{get:function(){return this._activePageView.panMode},set:function(e){this._activePageView.panMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewMode",{get:function(){return this._viewMode},set:function(e){this._viewMode!==e&&(this._viewMode=e,this._updateActivePageView())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this._activePageView.scrollTop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this._activePageView.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_activePageViewElement",{get:function(){return this.viewMode===ViewMode.Single?this._singlePageView:this._continuousPageView},enumerable:!0,configurable:!0}),t.prototype.onPageIndexChanged=function(){this.pageIndexChanged.raise(this)},t.prototype.onZoomFactorChanged=function(e,t){this.zoomFactorChanged.raise(this,{oldValue:e,newValue:t})},t.prototype.onZoomModeChanged=function(e,t){this.zoomModeChanged.raise(this,{oldValue:e,newValue:t})},t.prototype.onPositionChanged=function(){this.positionChanged.raise(this)},t.prototype.onRotateAngleChanged=function(){this.rotateAngleChanged.raise(this)},t.prototype._updateActivePageView=function(){var e=this._activePageView.pageIndex,t=this._activePageView.pages,o=this._activePageView.zoomFactor,n=this._activePageView.zoomMode,r=this._activePageView.panMode;this._removePageViewHandlers(this._activePageView),this._activePageView=wjcCore.Control.getControl(this._activePageViewElement),this._addPageViewHandlers(this._activePageView),this._activePageView.pages||(this._activePageView.pages=t),this._activePageView.invalidate(),this._activePageView.moveToPage(e),this._activePageView.zoomFactor=o,this._activePageView.zoomMode=n,this._activePageView.panMode=r,this._updatePageViewsVisible()},t.prototype._initPageView=function(){this._activePageView=new _SinglePageView(this._singlePageView),this._addPageViewHandlers(this._activePageView),new _ContinuousPageView(this._continuousPageView),this._updatePageViewsVisible()},t.prototype._addPageViewHandlers=function(e){var t=this;this._activePageView.pageIndexChanged.addHandler(function(){t.onPageIndexChanged()}),this._activePageView.zoomFactorChanged.addHandler(function(e,o){t.onZoomFactorChanged(o.oldValue,o.newValue)}),this._activePageView.zoomModeChanged.addHandler(function(e,o){t.onZoomModeChanged(o.oldValue,o.newValue)}),this._activePageView.positionChanged.addHandler(function(){t.onPositionChanged()}),this._activePageView.rotateAngleChanged.addHandler(function(){t.onRotateAngleChanged()})},t.prototype._removePageViewHandlers=function(e){e.pageIndexChanged.removeHandler(this.onPageIndexChanged,this),e.zoomFactorChanged.removeHandler(this.onZoomFactorChanged,this),e.zoomModeChanged.removeHandler(this.onZoomModeChanged,this),e.positionChanged.removeHandler(this.onPositionChanged,this),e.rotateAngleChanged.removeHandler(this.onRotateAngleChanged,this)},t.prototype._updatePageViewsVisible=function(){this.viewMode===ViewMode.Single?(wjcCore.removeClass(this._singlePageView,exports._hiddenCss),wjcCore.hasClass(this._continuousPageView,exports._hiddenCss)||wjcCore.addClass(this._continuousPageView,exports._hiddenCss)):(wjcCore.removeClass(this._continuousPageView,exports._hiddenCss),wjcCore.hasClass(this._singlePageView,exports._hiddenCss)||wjcCore.addClass(this._singlePageView,exports._hiddenCss))},t.prototype.moveToPage=function(e){return this._activePageView.moveToPage(e)},t.prototype.moveToPosition=function(e){return this._activePageView.moveToPosition(e)},t.prototype.rotatePageTo=function(e,t){this._activePageView.rotatePageTo(e,t)},t.prototype.hitTest=function(e,t){return this._activePageView.hitTest(e,t)},t.prototype.resetPages=function(){wjcCore.Control.getControl(this._singlePageView).resetPages(),wjcCore.Control.getControl(this._continuousPageView).resetPages()},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),wjcCore.Control.getControl(this._activePageViewElement).invalidate(),this._activePageView.refresh()},t.prototype.isPageContentLoaded=function(e){return this._activePageView.isPageContentLoaded(e)},t.controlTemplate='<div class="wj-pageview" wj-part="single-pageview"></div><div class="wj-pageview" wj-part="continuous-pageview"></div>',t}(wjcCore.Control);exports._CompositePageView=_CompositePageView;var _PageViewBase=function(e){function t(t){var o=e.call(this,t)||this;o._autoHeightCalculated=!1,o._startX=null,o._startY=null,o._panMode=!1,o._pageIndex=-1,o._zoomFactor=1,o._zoomMode=ZoomMode.Custom,o._zoomModeUpdating=!1,o.pageIndexChanged=new wjcCore.Event,o.zoomFactorChanged=new wjcCore.Event,o.zoomModeChanged=new wjcCore.Event,o.positionChanged=new wjcCore.Event,o.rotateAngleChanged=new wjcCore.Event;var n;return n=o.getTemplate(),o.applyTemplate("wj-pageview",n,o._getTemplateParts()),o._fBorderBoxMode="border-box"===getComputedStyle(t).boxSizing,o._init(),o}return __extends(t,e),t.prototype._getTemplateParts=function(){return{_pagesWrapper:"pages-wrapper"}},t.prototype._getPagesContainer=function(){return this.hostElement},t.prototype._init=function(){this._bindEvents()},t.prototype.dispose=function(){this._touchManager&&this._touchManager.dispose(),e.prototype.dispose.call(this)},t.prototype._bindTouchEvents=function(e){var t=this;e.touchStart.addHandler(function(){t.hostElement.focus()}),e.panMove.addHandler(function(t,o){e.hostElement.scrollTop-=o.clientDelta.y,e.hostElement.scrollLeft-=o.clientDelta.x}),e.pinch.addHandler(this._zoomByPinch,this)},t.prototype._initTouchEvents=function(){var e=this._pagesWrapper.parentElement,t=new _TouchManager(e);this._touchManager=t,this._bindTouchEvents(t)},Object.defineProperty(t.prototype,"_borderBoxMode",{get:function(){return this._fBorderBoxMode},enumerable:!0,configurable:!0}),t.prototype._zoomByPinch=function(e,t){if(t.preventDefault(),t.type==_TouchEventType.Move){var o=wjcCore.getElementRect(e.contentElement),n=getComputedStyle(e.contentElement),r=parseInt(n.marginTop),i=parseInt(n.marginLeft),a=_pointMove(!1,t.preCenterClient,o.left-i,o.top-r);this._zoom(e.hostElement,t.zoom,a,t.centerClientDelta)}},t.prototype._getFixedPosition=function(e){return new wjcCore.Point(t._pageMargin,t._pageMargin+this._getAbovePageCount(e.y)*t._pageMargin)},t.prototype._getAbovePageCount=function(e){return 0},t.prototype._zoom=function(e,t,o,n){var r=_pointMove(!1,o,e.scrollLeft,e.scrollTop),i=this._getFixedPosition(o),a=this.zoomFactor;this.zoomFactor=this.zoomFactor*t;var s=this.zoomFactor/a,c=_pointMove(!1,new wjcCore.Point((o.x-i.x)*s+i.x,(o.y-i.y)*s+i.y),_pointMove(!0,r,n));e.scrollTop=Math.round(c.y),e.scrollLeft=Math.round(c.x)},Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pages",{get:function(){return this._pages},set:function(e){this._pages=e,this._reserveViewPage()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.hostElement.scrollTop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this.hostElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return this._zoomFactor},set:function(e){if(e=Math.max(.05,Math.min(10,e)),this._zoomFactor!=e){var t=this._zoomFactor;this._zoomFactor=e,this._updatePageViewTransform(),this._zoomModeUpdating||(this.zoomMode=ZoomMode.Custom),this._onZoomFactorChanged(t,e)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomMode",{get:function(){return this._zoomMode},set:function(e){if(this._zoomMode!=e){this._zoomModeUpdating=!0;var t=this._zoomMode;this._calcZoomModeZoom(e),this._zoomMode=e,this._onZoomModeChanged(t,e),this._zoomModeUpdating=!1}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panMode",{get:function(){return this._panMode},set:function(e){this._panMode!=e&&(this._panMode=e)},enumerable:!0,configurable:!0}),t.prototype._bindEvents=function(){var e=this;_addEvent(document,"mousemove",function(t){null!==e._startX&&null!==e._startY&&e._panning(t)}),_addEvent(document,"mouseup",function(t){e._stopPanning()}),this._initTouchEvents()},t.prototype._startPanning=function(e){this._startX=e.screenX,this._startY=e.screenY},t.prototype._panning=function(e){var t=this._getPagesContainer();t.scrollLeft+=this._startX-e.screenX,t.scrollTop+=this._startY-e.screenY,this._startX=e.screenX,this._startY=e.screenY},t.prototype._stopPanning=function(){this._startX=null,this._startY=null},t.prototype._onPageIndexChanged=function(){this.pageIndexChanged.raise(this)},t.prototype._onZoomFactorChanged=function(e,t){this.zoomFactorChanged.raise(this,{oldValue:e,newValue:t})},t.prototype._onZoomModeChanged=function(e,t){this.zoomModeChanged.raise(this,{oldValue:e,newValue:t})},t.prototype._onPositionChanged=function(){this.positionChanged.raise(this)},t.prototype._onRotateAngleChanged=function(){this.rotateAngleChanged.raise(this)},t.prototype._onPageLoaded=function(e){},t.prototype._renderViewPage=function(e,t){var o,n=this,r=new _Promise;if(t=t<0?0:t,!e)return r.reject(wjcCore.culture.Viewer.cannotRenderPageNoViewPage),r;if(_removeChildren(e),this._pages[t].content){var i=this._pages[t].content;return e.appendChild(i),this._setPageTransform(e,t),r.resolve(t),r}return o=document.createElement("div"),o.className="wj-loading",o.style.height=e.style.height,o.style.lineHeight=e.style.height,o.innerHTML=wjcCore.culture.Viewer.loading,e.appendChild(o),this._pages[t].getContent().then(function(o){var i=o;_removeChildren(e),e.appendChild(i),n._setPageTransform(e,t),n._onPageLoaded(t),r.resolve(t)}).catch(function(e){o.innerHTML=_getErrorMessage(e)}),r},t.prototype._reserveViewPage=function(){throw wjcCore.culture.Viewer.abstractMethodException},t.prototype._getViewPortHeight=function(){var e=this._pagesWrapper.currentStyle||window.getComputedStyle(this._pagesWrapper);return this.hostElement.offsetHeight-parseFloat(e.marginBottom)-parseFloat(e.marginTop)},t.prototype._getViewPortWidth=function(){var e=this._pagesWrapper.currentStyle||window.getComputedStyle(this._pagesWrapper);return this.hostElement.offsetWidth-parseFloat(e.marginLeft)-parseFloat(e.marginRight)},t.prototype._setPageTransform=function(e,t){var o;if(e){var n=this._getPageSize(t),r=this._pages[t].rotateAngle;e.style.height=n.height.valueInPixel*this._zoomFactor+"px",e.style.width=n.width.valueInPixel*this._zoomFactor+"px",(o=e.querySelector("g"))&&(o.parentNode.setAttribute("height",n.height.valueInPixel*this._zoomFactor+"px"),o.parentNode.setAttribute("width",n.width.valueInPixel*this._zoomFactor+"px"),_transformSvg(o.parentNode,this._pages[t].size.width.valueInPixel,this._pages[t].size.height.valueInPixel,this._zoomFactor,r))}},t.prototype._addViewPage=function(){var e=this,t=document.createElement("div");return t.className="wj-view-page",_addEvent(t,"mousedown",function(t){e._panMode&&e._startPanning(t)}),_addEvent(t,"dragstart",function(t){e._panMode&&t.preventDefault()}),this._pagesWrapper.appendChild(t),t},t.prototype._getPageSize=function(e){if(e<0||e>=this._pages.length)return null;var t=this._pages[e];return _getRotatedSize(t.size,t.rotateAngle)},t.prototype._render=function(e){throw wjcCore.culture.Viewer.abstractMethodException},t.prototype._moveToPagePosition=function(e){throw wjcCore.culture.Viewer.abstractMethodException},t.prototype._updatePageViewTransform=function(){throw wjcCore.culture.Viewer.abstractMethodException},t.prototype._updatePageIndex=function(e){this.pages&&(e=this.resolvePageIndex(e),this._pageIndex!==e&&(this._pageIndex=e,this._onPageIndexChanged()))},t.prototype.moveToPage=function(e){return this.moveToPosition({pageIndex:e})},t.prototype.resolvePageIndex=function(e){return Math.min((this.pages||[]).length-1,Math.max(e,0))},t.prototype.moveToPosition=function(e){var t=this,o=e.pageIndex||0,n=new _Promise;return!this.pages||o<0?(n.resolve(o),n):(o=this.resolvePageIndex(o),e.pageIndex=o,o!==this._pageIndex?(this._updatePageIndex(o),n=this._render(o)):n.resolve(o),n.then(function(){t._moveToPagePosition(e)}),n.then(function(e){return o}).then(function(){t._calcZoomModeZoom(),t._onPositionChanged()}))},t.prototype._calcZoomModeZoom=function(e){switch(this._zoomModeUpdating=!0,e=null==e?this.zoomMode:e){case ZoomMode.PageWidth:this._zoomToViewWidth();break;case ZoomMode.WholePage:this._zoomToView()}this._zoomModeUpdating=!1},t.prototype._zoomToView=function(){var e=this._getViewPortHeight(),t=this._getViewPortWidth(),o=this._getPageSize(this.pageIndex);o&&(this.zoomFactor=Math.min(e/o.height.valueInPixel,t/o.width.valueInPixel))},t.prototype._zoomToViewWidth=function(){throw wjcCore.culture.Viewer.abstractMethodException},t.prototype._getTransformedPoint=function(e,t,o){t/=this.zoomFactor,o/=this.zoomFactor;var n=this.pages[e],r=n.size;switch(n.rotateAngle){case _RotateAngle.Rotation90:i=t;t=r.height.valueInPixel-o,o=i;break;case _RotateAngle.Rotation180:t=r.height.valueInPixel-t,o=r.width.valueInPixel-o;break;case _RotateAngle.Rotation270:var i=t;t=o,o=r.width.valueInPixel-i}return new wjcCore.Point(o,t)},t.prototype._hitTestPagePosition=function(e){if(!e||e.pageIndex<0)return null;var o=e.y,n=e.x,r=e.pageIndex;o-=t._pageMargin+t._pageBorderWidth,n-=t._pageMargin+t._pageBorderWidth;var i=this._getTransformedPoint(e.pageIndex,o,n);o=i.y,n=i.x;var a=_pixelToTwip(o),s=_pixelToTwip(n),c=this.pages[r].size;return{pageIndex:r,x:s,y:a,hitWorkingArea:o>=0&&o<=c.height.valueInPixel&&n>=0&&n<=c.width.valueInPixel}},t.prototype.rotatePageTo=function(e,t){this._pages[e].rotateAngle=t,this._updatePageViewTransform(),this._onRotateAngleChanged()},t.prototype.hitTest=function(e,t){if(this._pointInViewPanelClientArea(e,t)){var o=this._panelViewPntToPageView(e,t);return this._hitTestPagePosition(o)}return null},t.prototype.resetPages=function(){this._pageIndex=-1,this._pages=null,_removeChildren(this._pagesWrapper),this._addViewPage(),this.invalidate()},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._autoHeightCalculated=!1,!this.pages||0==this.pages.length||this.pageIndex<0||this.pageIndex>=this.pages.length||(this._render(this.pageIndex),this._calcZoomModeZoom())},t.prototype.isPageContentLoaded=function(e){var t=this.pages;return!!t&&e>=0&&e<t.length&&!!t[e].content},t.prototype._hitTestPageIndex=function(e){throw wjcCore.culture.Viewer.abstractMethodException},t.prototype._pointInViewPanelClientArea=function(e,t){throw wjcCore.culture.Viewer.abstractMethodException},t.prototype._panelViewPntToPageView=function(e,t){throw wjcCore.culture.Viewer.abstractMethodException},t._pageMargin=30,t._pageBorderWidth=1,t.controlTemplate='<div class="wj-pages-wrapper" wj-part="pages-wrapper"></div>',t}(wjcCore.Control);exports._PageViewBase=_PageViewBase;var _Scroller=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.getScrollbarWidth=function(e){var o,n;return t._scrollbarWidth&&!e||((o=document.createElement("div")).style.width="50px",o.style.height="50px",o.style.overflow="auto",document.body.appendChild(o),(n=document.createElement("div")).style.height="60px",o.appendChild(n),t._scrollbarWidth=o.offsetWidth-o.clientWidth,document.body.removeChild(o)),t._scrollbarWidth},t._scrollbarWidth=null,t}(wjcCore.Control);exports._Scroller=_Scroller;var _VScroller=function(e){function t(t){var o=e.call(this,t)||this;o._height=100,o._max=100,o._desiredValue=0,o.valueChanged=new wjcCore.Event;var n;return n=o.getTemplate(),o.applyTemplate(null,n,{_wrapper:"wrapper"}),o.hostElement.style.width=_Scroller.getScrollbarWidth()+1+"px",_addEvent(o.hostElement,"scroll",function(){o.onValueChanged()}),o}return __extends(t,e),t.prototype.onValueChanged=function(){this._desiredValue!=this.value&&this.valueChanged.raise(this)},t.prototype.preventScrollEvent=function(){this._desiredValue=this.hostElement.scrollTop},Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){e!==this._height&&(this._height=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.hostElement.scrollTop},set:function(e){this.hostElement.scrollTop=e,this.preventScrollEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t);var o=this._height+"px";this.hostElement.style.height!==o&&(this.hostElement.style.height=o);var n=this._max+this.hostElement.clientHeight+"px";this._wrapper.style.height!==n&&(this._wrapper.style.height=n),this.preventScrollEvent()},t.controlTemplate='<div class="wj-vscroller-wrapper" wj-part="wrapper"></div>',t}(_Scroller);exports._VScroller=_VScroller;var _SinglePageView=function(e){function t(t){var o=e.call(this,t)||this;return o._innerNavigating=!1,o._virtualScrollMode=!0,wjcCore.addClass(t,"wj-pageview-single"),o}return __extends(t,e),t.prototype._init=function(){e.prototype._init.call(this),this._initScroller(),this._initEvents()},t.prototype._initScroller=function(){var e=this;new _VScroller(this._vscroller).valueChanged.addHandler(function(){setTimeout(function(){return e._doScrollerValueChanged()})})},t.prototype._initEvents=function(){var e=this;_addEvent(this._pagesContainer,"wheel",function(t){e._doContainerWheel(t)}),_addEvent(this._pagesContainer,"scroll",function(t){e._doContainerScroll()}),_addEvent(this._pagesContainer,"keydown",function(t){e._doContainerKeyDown()}),_addEvent(this._pagesContainer,"click",function(t){e._pagesContainer.focus()})},t.prototype._bindTouchEvents=function(t){var o=this;e.prototype._bindTouchEvents.call(this,t),t.swipe.addHandler(function(e,t){switch(t.direction){case _TouchDirection.Down:var n=o.resolvePageIndex(o.pageIndex-1);n!=o.pageIndex&&o.moveToPage(n);break;case _TouchDirection.Up:var r=o.resolvePageIndex(o.pageIndex+1);r!=o.pageIndex&&o.moveToPage(r)}})},t.prototype._getTemplateParts=function(){return{_pagesWrapper:"pages-wrapper",_pagesContainer:"pages-container",_vscroller:"vscroller"}},t.prototype.applyTemplate=function(e,t,o){var n=this.hostElement;if(wjcCore.addClass(n,e),n.appendChild(_toDOMs(t)),o)for(var r in o){var i=o[r];if(this[r]=n.querySelector('[wj-part="'+i+'"]'),null==this[r]&&n.getAttribute("wj-part")==i&&(this[r]=t),null==this[r])throw'Missing template part: "'+i+'"'}return n},Object.defineProperty(t.prototype,"virtualScrollMode",{get:function(){return this._virtualScrollMode},set:function(e){this._virtualScrollMode!==e&&(this._virtualScrollMode=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isScrollerVisible",{get:function(){return this._virtualScrollMode&&this.pages&&this.pages.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_scroller",{get:function(){return wjcCore.Control.getControl(this._vscroller)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_hasPageVScrollBar",{get:function(){return _hasScrollbar(this._pagesContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_hasPageHScrollBar",{get:function(){return _hasScrollbar(this._pagesContainer,!0)},enumerable:!0,configurable:!0}),t.prototype._getPagesContainer=function(){return this._pagesContainer},t.prototype._getPageHeightWithoutZoom=function(e){var t=this._pagesContainer.clientHeight,o=this._getPageSize(e).height.valueInPixel+2*_PageViewBase._pageMargin;return Math.max(o,t)},t.prototype._updateScroller=function(){if(this._isScrollerVisible){var e=this._scroller;e.height=this._pagesContainer.clientHeight;for(var t=0,o=0;o<this.pages.length;o++)t+=this._getPageHeightWithoutZoom(o);e.max=t,this._updateScrollerValue()}},t.prototype._updateScrollerValue=function(){if(this._isScrollerVisible){var e=this.pageIndex;if(!(e<0)){var t=0;this._pagesContainer.scrollTop>0&&(t=this._pagesContainer.scrollTop/(this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight));for(var o=this._scroller,n=this.pages.length,r=0,i=0;i<e;i++)r+=this._getPageHeightWithoutZoom(i);r+=this._getPageHeightWithoutZoom(e)*t,e>=n-1&&!this._hasPageVScrollBar&&(r=o.max),o.value=r}}},t.prototype._doScrollerValueChanged=function(){if(this._isScrollerVisible){for(var e=this._scroller,t=this.pages.length,o=e.value,n=0,r=1;n<t;n++){var i=this._getPageHeightWithoutZoom(n);if(!(o>i)){r=o/i;break}o-=i}n>=t&&(n=t-1),this._innerMoveToPage(n,r)}},t.prototype._doContainerWheel=function(e){if(this._isScrollerVisible&&0!=e.deltaY){var t=e.deltaY<0;if(this._hasPageVScrollBar)if(t){if(this._pagesContainer.scrollTop>0)return}else if(this._pagesContainer.scrollTop<this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight)return;t?this._innerMoveToPreviousPageAtBottom(e):this._innerMoveToNextPageAtTop(e)}},t.prototype._doContainerScroll=function(){this._isScrollerVisible&&this._pagesContainer.scrollTop!=this._desiredPageScrollTop&&(this._updateScrollerValue(),this._onPositionChanged())},t.prototype._doContainerKeyDown=function(){if(this._isScrollerVisible){var e=event;if(this._hasPageVScrollBar)switch(e.keyCode){case wjcCore.Key.PageDown:this._pagesContainer.scrollTop>=this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight&&this._innerMoveToNextPageAtTop(e);break;case wjcCore.Key.PageUp:0==this._pagesContainer.scrollTop&&this._innerMoveToPreviousPageAtBottom(e)}else switch(e.keyCode){case wjcCore.Key.Down:case wjcCore.Key.PageDown:this._innerMoveToNextPageAtTop(e);break;case wjcCore.Key.Up:case wjcCore.Key.PageUp:this._innerMoveToPreviousPageAtBottom(e)}}},t.prototype._preventContainerScroll=function(){this._desiredPageScrollTop=this._pagesContainer.scrollTop},t.prototype._innerMoveToPreviousPageAtBottom=function(e){this.pageIndex>0&&(e&&e.preventDefault(),this._innerMoveToPage(this.pageIndex-1,1),this._updateScrollerValue())},t.prototype._innerMoveToNextPageAtTop=function(e){this.pageIndex<this.pages.length-1&&(e&&e.preventDefault(),this._innerMoveToPage(this.pageIndex+1,0),this._updateScrollerValue())},t.prototype._innerMoveToPage=function(e,t){var o=this;this._innerNavigating=!0;var n={pageIndex:e};this.moveToPosition(n).then(function(e){o._innerMoveToPagePosition(t),o._innerNavigating=!1})},t.prototype._innerMoveToPagePosition=function(e){if(this._hasPageVScrollBar){var t=(this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight)*e;this._pagesContainer.scrollTop=t,this._preventContainerScroll()}},t.prototype.moveToPosition=function(t){var o=e.prototype.moveToPosition.call(this,t);return this._innerNavigating||this._updateScrollerValue(),o},t.prototype._moveToPagePosition=function(e){var t=e.pageBounds||{x:0,y:0,width:0,height:0},o=e.pageBounds?_PageViewBase._pageMargin:0,n=this.pages[this.pageIndex],r=_getTransformedPosition(t,n.size,n.rotateAngle,this.zoomFactor);this._pagesContainer.scrollTop=r.y+o,this._pagesContainer.scrollLeft=r.x+o},t.prototype._hitTestPageIndex=function(e){return this.pageIndex},t.prototype._pointInViewPanelClientArea=function(e,t){return e>=0&&t>=0&&e<this._pagesContainer.clientWidth&&t<this._pagesContainer.clientHeight},t.prototype._panelViewPntToPageView=function(e,t){if(this.pageIndex<0)return null;var o=this._pagesContainer.scrollTop+t,n=0;if(this._pagesContainer.scrollLeft>0)n=this._pagesContainer.scrollLeft+e;else{var r=this._pagesContainer.getBoundingClientRect();n=e-(this._pagesWrapper.getBoundingClientRect().left-r.left)+_PageViewBase._pageMargin}return{x:n,y:o,pageIndex:this.pageIndex}},t.prototype._render=function(e){return this._renderViewPage(this._pagesWrapper.querySelector(".wj-view-page"),e)},t.prototype._guessPageIndex=function(){return this.pageIndex},t.prototype._reserveViewPage=function(){_removeChildren(this._pagesWrapper),this._addViewPage(),this.invalidate()},t.prototype._updatePageViewTransform=function(){var e;e=this._pagesWrapper.querySelector(".wj-view-page"),this._setPageTransform(e,this.pageIndex)},t.prototype._onPageLoaded=function(t){e.prototype._onPageLoaded.call(this,t),this._updateScroller()},t.prototype._onZoomFactorChanged=function(t,o){e.prototype._onZoomFactorChanged.call(this,t,o),this._updateScroller()},t.prototype._zoomToViewWidth=function(){var e,t;e=this._getViewPortHeight(),t=this._getViewPortWidth();var o=this._getPageSize(this.pageIndex);if(o){var n=o.height.valueInPixel,r=o.width.valueInPixel;t/r>e/n&&(t-=_Scroller.getScrollbarWidth()),this.zoomFactor=t/r}},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._isScrollerVisible?wjcCore.addClass(this.hostElement,"virtual"):wjcCore.removeClass(this.hostElement,"virtual"),this._updateScroller()},t.controlTemplate='<div class="wj-pageview-pagescontainer" wj-part="pages-container" tabindex="0">   <div class="wj-pages-wrapper" wj-part="pages-wrapper"></div></div><div class="wj-pageview-vscroller" wj-part="vscroller" tabindex="-1"></div> ',t}(_PageViewBase);exports._SinglePageView=_SinglePageView;var _ContinuousPageView=function(e){function t(t){var o=e.call(this,t)||this;return wjcCore.addClass(t,"wj-pageview-continuous"),o}return __extends(t,e),t.prototype._init=function(){var t=this;e.prototype._init.call(this),_addEvent(this.hostElement,"click",function(e){t.hostElement.focus()}),_addEvent(this.hostElement,"scroll",function(){t._onPositionChanged(),clearTimeout(t._scrollingTimer),t._scrollingTimer=setTimeout(function(){t._ensurePageIndexPosition()},200)}),this.zoomFactorChanged.addHandler(function(){clearTimeout(t._zoomFactorTimer),t._zoomFactorTimer=setTimeout(function(){t._ensurePageIndexPosition()},200)})},t.prototype.dispose=function(){clearTimeout(this._scrollingTimer),clearTimeout(this._zoomFactorTimer),this._disposeBodyStopSwipe&&this._disposeBodyStopSwipe(),e.prototype.dispose.call(this)},t.prototype._stopSwip=function(){this._swipeSpeedReducer&&this._swipeSpeedReducer.stop()},t.prototype._bindTouchEvents=function(t){var o=this;e.prototype._bindTouchEvents.call(this,t),t.touchStart.addHandler(this._stopSwip,this),t.swipe.addHandler(function(e,n){o._swipeSpeedReducer||(o._swipeSpeedReducer=new _SpeedReducer),o._swipeSpeedReducer.start(n.speed.x,n.speed.y,function(e,n){var r=t.hostElement.scrollLeft,i=t.hostElement.scrollTop;t.hostElement.scrollLeft-=e,t.hostElement.scrollTop-=n,r==t.hostElement.scrollLeft&&i==t.hostElement.scrollTop&&o._stopSwip()})});var n=new _TouchManager(document.body,!1),r=this._stopSwip.bind(this);_addEvent(document.body,"mousedown",r,!0),n.touchStart.addHandler(r),this._disposeBodyStopSwipe=function(){o._stopSwip(),_removeEvent(document.body,"mousedown",r),n.touchStart.removeHandler(r),n.dispose(),o._disposeBodyStopSwipe=null}},t.prototype._getAbovePageCount=function(e){return this._hitTestPageIndex(e)},t.prototype.refresh=function(t){this._stopSwip(),e.prototype.refresh.call(this,t)},t.prototype._hitTestPageIndex=function(e){if(!this.pages)return this.pageIndex;for(var t=0,o=0;t<this.pages.length;t++)if(o+=this._getPageSize(t).height.valueInPixel*this.zoomFactor+_PageViewBase._pageMargin,e<o){if(o-e<1)continue;break}return Math.min(t,this.pages.length-1)},t.prototype._guessPageIndex=function(){return this.pages&&this.hostElement.scrollHeight-this.hostElement.clientHeight<=this.hostElement.scrollTop?this.pages.length-1:this._hitTestPageIndex(this.hostElement.scrollTop)},t.prototype._render=function(e){var o=this.pages.length,n=e-t._preFetchPageCount,r=e+t._preFetchPageCount,i=[];n=n<0?0:n,r=r>o-1?o-1:r;for(var a=n;a<=r;a++)i.push(this._renderViewPage(this._pagesWrapper.querySelectorAll(".wj-view-page").item(a),a));return new _CompositedPromise(i)},t.prototype._moveToPagePosition=function(e){this._stopSwip();for(var t=0,o=0,n=!e.pageBounds,r=e.pageBounds||{x:0,y:0,width:0,height:0},i=n?0:_PageViewBase._pageMargin,a=this.pages[this.pageIndex],s=0;s<e.pageIndex;s++)t+=this._getPageSize(s).height.valueInPixel*this.zoomFactor+_PageViewBase._pageMargin,this._borderBoxMode||(t+=2*_PageViewBase._pageBorderWidth);var c=_getTransformedPosition(r,a.size,n?_RotateAngle.NoRotate:a.rotateAngle,this.zoomFactor);t+=c.y+i,o+=c.x+i,o+=this._getPageViewOffsetLeft(e.pageIndex),this.hostElement.scrollTop=t,this.hostElement.scrollLeft=o},t.prototype._pointInViewPanelClientArea=function(e,t){return e>=0&&t>=0&&e<this.hostElement.clientWidth&&t<this.hostElement.clientHeight},t.prototype._panelViewPntToPageView=function(e,t){var o=this.hostElement.scrollTop+t,n=0;if(this.hostElement.scrollLeft>0)n=this.hostElement.scrollLeft+e;else{var r=this.hostElement.getBoundingClientRect();n=e-(this._pagesWrapper.getBoundingClientRect().left-r.left)+_PageViewBase._pageMargin}var i=this._hitTestPageIndex(o);if(i<0)return null;n-=this._getPageViewOffsetLeft(i);for(var a=0;a<i;a++)o-=this._getPageSize(a).height.valueInPixel*this.zoomFactor+_PageViewBase._pageMargin,this._borderBoxMode||(o-=2*_PageViewBase._pageBorderWidth);return{x:n,y:o,pageIndex:i}},t.prototype._reserveViewPage=function(){_removeChildren(this._pagesWrapper);for(var e=0;e<(this.pages||[]).length;e++){var t=this._addViewPage(),o=this._getPageSize(e);t.style.height=o.height.valueInPixel*this.zoomFactor+"px",t.style.width=o.width.valueInPixel*this.zoomFactor+"px"}},t.prototype._updatePageViewTransform=function(){var e;e=this._pagesWrapper.querySelectorAll(".wj-view-page");for(var t=0;t<e.length;t++)this._setPageTransform(e.item(t),t)},t.prototype._zoomToViewWidth=function(){if(0!=this.pages.length){var e,t;e=this._getViewPortHeight(),t=this._getViewPortWidth();for(var o=0,n=0,r=0;r<this.pages.length;r++){var i=this._getPageSize(r);i.width.valueInPixel>o&&(o=i.width.valueInPixel),n+=i.height.valueInPixel}t/o>e/n&&(t-=_Scroller.getScrollbarWidth()),this.zoomFactor=t/o}},t.prototype._ensurePageIndexPosition=function(){var e=this._guessPageIndex();this.pageIndex!==e&&(this._render(e),this._updatePageIndex(e))},t.prototype._getPageViewOffsetLeft=function(e){var t=this._pagesWrapper.querySelectorAll(".wj-view-page").item(e);return t?t.offsetLeft-this._pagesWrapper.offsetLeft:0},t._preFetchPageCount=3,t}(_PageViewBase);exports._ContinuousPageView=_ContinuousPageView;var _SideTabs=function(e){function t(t){var o=e.call(this,t)||this;o._idCounter=0,o._tabPages=[],o._tabPageDic={},o.tabPageActived=new wjcCore.Event,o.tabPageVisibilityChanged=new wjcCore.Event,o.expanded=new wjcCore.Event,o.collapsed=new wjcCore.Event;var n=o.getTemplate();return o.applyTemplate("wj-control",n,{_headersContainer:"wj-headers",_contentsContainer:"wj-contents"}),o}return __extends(t,e),t.prototype.applyTemplate=function(e,t,o){var n=this.hostElement;if(wjcCore.addClass(n,e),n.appendChild(_toDOMs(t)),o)for(var r in o){var i=o[r];if(this[r]=n.querySelector('[wj-part="'+i+'"]'),null==this[r]&&n.getAttribute("wj-part")==i&&(this[r]=t),null==this[r])throw'Missing template part: "'+i+'"'}return n},Object.defineProperty(t.prototype,"tabPages",{get:function(){return this._tabPages},enumerable:!0,configurable:!0}),t.prototype.getTabPage=function(e){return this._tabPageDic[e]},t.prototype.getFirstShownTabPage=function(e){var t;return this._tabPages.some(function(o){return!o.isHidden&&o!==e&&(t=o,!0)}),t},Object.defineProperty(t.prototype,"visibleTabPagesCount",{get:function(){var e=0;return this._tabPages.forEach(function(t){t.isHidden||e++}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activedTabPage",{get:function(){var e;return this._tabPages.some(function(t){return!!t.isActived&&(e=t,!0)}),e},enumerable:!0,configurable:!0}),t.prototype.removePage=function(e){var t;if(t="string"==typeof e?this.getTabPage(e):e){var o=t.id,n=this._tabPages.indexOf(t);if(!(n<0)){if(this._tabPages.splice(n,1),this._tabPageDic[o]=void 0,!this.isCollapsed&&t.isActived){var r=this.getFirstShownTabPage();r?this.active(r):this.collapse()}this._headersContainer.removeChild(t.header),this._contentsContainer.removeChild(t.outContent)}}},t.prototype.addPage=function(e,t,o){var n=this,r=this._getNewTabPageId(),i=document.createElement("li"),a=_toDOM('<div class="wj-tabpane"><div class="wj-tabtitle-wrapper"><h3 class="wj-tabtitle">'+e+'</h3><span class="wj-close">×</span></div><div class="wj-tabcontent-wrapper"><div class="wj-tabcontent-inner"></div></div></div>'),s=_createSvgBtn(t);i.appendChild(s),o=null==o?this._tabPages.length:o,(o=Math.min(Math.max(o,0),this._tabPages.length))>=this._tabPages.length?(this._headersContainer.appendChild(i),this._contentsContainer.appendChild(a)):(this._headersContainer.insertBefore(i,this._tabPages[o].header),this._contentsContainer.insertBefore(a,this._tabPages[o].outContent)),_addEvent(a.querySelector(".wj-close"),"click",function(){n.collapse()}),_addEvent(i.querySelector("a"),"click,keydown",function(e){var t=n.getTabPage(r);t&&("keydown"===e.type&&e.keyCode===wjcCore.Key.Enter||"click"===e.type)&&n.active(t)});var c=new _TabPage(a,i,r);return o>=this._tabPages.length?this._tabPages.push(c):this._tabPages.splice(o,0,c),this._tabPageDic[r]=c,this.isCollapsed||this.activedTabPage||this.active(c),c},Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return wjcCore.hasClass(this.hostElement,t._collapsedCss)},enumerable:!0,configurable:!0}),t.prototype.hide=function(e){var t="string"==typeof e?this.getTabPage(e):e;t&&(wjcCore.hasClass(t.header,exports._hiddenCss)||(wjcCore.addClass(t.header,exports._hiddenCss),this.onTabPageVisibilityChanged(t),this.deactive(t)))},t.prototype.show=function(e){var t="string"==typeof e?this.getTabPage(e):e;t&&wjcCore.hasClass(t.header,exports._hiddenCss)&&(wjcCore.removeClass(t.header,exports._hiddenCss),this.onTabPageVisibilityChanged(t),this.isCollapsed||this.activedTabPage||this.active(t))},t.prototype.deactive=function(e){var o="string"==typeof e?this.getTabPage(e):e;if(o&&o.isActived){wjcCore.removeClass(o.outContent,t._activedCss),_checkImageButton(o.header.querySelector("a"),!1);var n=this.getFirstShownTabPage(o);n?this.active(n):this.collapse()}},t.prototype.active=function(e){var o="string"==typeof e?this.getTabPage(e):e;o&&(this.expand(),o.isActived||(this._clearActiveStyles(),this.show(o),wjcCore.addClass(o.outContent,t._activedCss),_checkImageButton(o.header.querySelector("a"),!0),this.onTabPageActived()))},t.prototype.enable=function(e,t){void 0===t&&(t=!0);var o="string"==typeof e?this.getTabPage(e):e;o&&o.enable(t)},t.prototype.enableAll=function(e){void 0===e&&(e=!0),this._tabPages.forEach(function(t){t.enable(e)})},t.prototype.onTabPageActived=function(){this.tabPageActived.raise(this,new wjcCore.EventArgs)},t.prototype.onTabPageVisibilityChanged=function(e){this.tabPageVisibilityChanged.raise(this,{tabPage:e})},t.prototype.onExpanded=function(){this.expanded.raise(this,new wjcCore.EventArgs)},t.prototype.onCollapsed=function(){this.collapsed.raise(this,new wjcCore.EventArgs)},t.prototype.collapse=function(){this.isCollapsed||(this._clearActiveStyles(),wjcCore.addClass(this.hostElement,t._collapsedCss),this.onCollapsed())},t.prototype.expand=function(){if(this.isCollapsed){if(wjcCore.removeClass(this.hostElement,t._collapsedCss),!this.activedTabPage){var e=this.getFirstShownTabPage();e&&this.active(e)}this.onExpanded()}},t.prototype.toggle=function(){this.isCollapsed?this.expand():this.collapse()},t.prototype._clearActiveStyles=function(){this._tabPages.forEach(function(e){wjcCore.removeClass(e.outContent,t._activedCss),_checkImageButton(e.header.querySelector("a"),!1)})},t.prototype._getNewTabPageId=function(){for(;this._tabPageDic[(this._idCounter++).toString()];);return this._idCounter.toString()},t._activedCss="active",t._collapsedCss="collapsed",t.controlTemplate='<ul class="wj-nav wj-btn-group" wj-part="wj-headers"></ul><div class="wj-tabcontent" wj-part="wj-contents"></div>',t}(wjcCore.Control);exports._SideTabs=_SideTabs;var _TabPage=function(){function e(e,t,o){this._header=t,this._outContent=e,this._content=e.querySelector(".wj-tabcontent-inner"),this._id=o}return Object.defineProperty(e.prototype,"isActived",{get:function(){return wjcCore.hasClass(this.outContent,_SideTabs._activedCss)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return wjcCore.hasClass(this.header,exports._hiddenCss)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this._header},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outContent",{get:function(){return this._outContent},enumerable:!0,configurable:!0}),e.prototype.enable=function(e){void 0===e&&(e=!0),wjcCore.enable(this._header,e),wjcCore.enable(this._content,e)},e.prototype.format=function(e){e(this)},e}();exports._TabPage=_TabPage;var _ViewerMenuBase=function(e){function t(t,o,n){var r=e.call(this,document.createElement("div"),n)||this;return r.owner=o,r.hostElement.style.display="none",r.owner.appendChild(r.hostElement),r.showDropDownButton=!1,r.itemClicked.addHandler(r._onItemClicked,r),r.formatItem.addHandler(r._formatItem,r),r._viewer=t,r.displayMemberPath="title",r.selectedValuePath="commandTag",r._bindMenuItems(),r._viewer._viewerActionStatusChanged.addHandler(function(e,t){var o=r.dropDown.querySelector("["+exports._commandTagAttr+'="'+t.action.actionType.toString()+'"]');r._updateActionStatusCore(o,t.action)}),r}return __extends(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!0,configurable:!0}),t.prototype._bindMenuItems=function(){this.itemsSource=this._initItems()},t.prototype._initItems=function(){throw wjcCore.culture.Viewer.abstractMethodException},t.prototype._internalFormatItem=function(e,t){if(e&&void 0!==e.commandTag){if(_removeChildren(t),e.icon){var o=document.createElement("span");o.appendChild(_createSvgBtn(e.icon)),t.insertBefore(o,t.firstChild)}t.setAttribute(exports._commandTagAttr,e.commandTag.toString()),this._updateActionStatus(t,e.commandTag)}},t.prototype._formatItem=function(e,t){this._internalFormatItem(this.itemsSource[t.index],t.item)},t.prototype._onItemClicked=function(e){this._viewer._executeAction(parseInt(e.selectedItem.commandTag))},t.prototype._updateActionStatus=function(e,t){this._updateActionStatusCore(e,{actionType:t,checked:this._viewer._actionIsChecked(t),disabled:this._viewer._actionIsDisabled(t),shown:this._viewer._actionIsShown(t)})},t.prototype._updateActionStatusCore=function(e,t){_checkImageButton(e,t.checked),_disableImageButton(e,t.disabled),_showImageButton(e,t.shown)},t.prototype._updateItemsStatus=function(){for(var e=this.dropDown.querySelectorAll("["+exports._commandTagAttr+"]"),t=0;t<e.length;t++){var o=e[t],n=o.getAttribute(exports._commandTagAttr);null!=n&&this._updateActionStatus(o,parseInt(n))}_checkSeparatorShown(this.dropDown)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&this._bindMenuItems(),this.isDroppedDown&&this.showMenu()},t.prototype.showMenu=function(e){this.selectedIndex=-1,wjcCore.showPopup(this.dropDown,this.owner,e,!1,!1),this.dropDown.style.color=this._viewer.hostElement.style.color,wjcCore.addClass(this.dropDown,"wj-btn-group-vertical"),wjcCore.addClass(this.dropDown,"wj-viewer-menu"),this._updateItemsStatus(),this.dropDown.focus()},t}(wjcInput.Menu);exports._ViewerMenuBase=_ViewerMenuBase;var _HamburgerMenu=function(e){function t(t,o,n){return e.call(this,t,o,n)||this}return __extends(t,e),t.prototype._initItems=function(){var e=[];return e.push({title:wjcCore.culture.Viewer.thumbnails,icon:exports.icons.thumbnails,commandTag:_ViewerActionType.ShowThumbnails}),e.push({title:wjcCore.culture.Viewer.outlines,icon:exports.icons.outlines,commandTag:_ViewerActionType.ShowOutlines}),e.push({title:wjcCore.culture.Viewer.exports,icon:exports.icons.exports,commandTag:_ViewerActionType.ShowExportsPanel}),e.push({title:ViewerBase._seperatorHtml}),e.push({title:wjcCore.culture.Viewer.portrait,icon:exports.icons.portrait,commandTag:_ViewerActionType.Portrait}),e.push({title:wjcCore.culture.Viewer.landscape,icon:exports.icons.landscape,commandTag:_ViewerActionType.Landscape}),e.push({title:wjcCore.culture.Viewer.pageSetup,icon:exports.icons.pageSetup,commandTag:_ViewerActionType.ShowPageSetupPanel}),e.push({title:ViewerBase._seperatorHtml}),e.push({title:wjcCore.culture.Viewer.showZoomBar,icon:exports.icons.showZoomBar,commandTag:_ViewerActionType.ShowZoomBar}),e.push({title:ViewerBase._seperatorHtml}),e.push({title:wjcCore.culture.Viewer.paginated,icon:exports.icons.paginated,commandTag:_ViewerActionType.TogglePaginated}),e.push({title:wjcCore.culture.Viewer.print,icon:exports.icons.print,commandTag:_ViewerActionType.Print}),e.push({title:ViewerBase._seperatorHtml}),e.push({title:wjcCore.culture.Viewer.backwardHistory,icon:exports.icons.backwardHistory,commandTag:_ViewerActionType.Backward}),e.push({title:wjcCore.culture.Viewer.forwardHistory,icon:exports.icons.forwardHistory,commandTag:_ViewerActionType.Forward}),e},t}(_ViewerMenuBase);exports._HamburgerMenu=_HamburgerMenu;var _ViewMenu=function(e){function t(t,o,n){return e.call(this,t,o,n)||this}return __extends(t,e),t.prototype._initItems=function(){var e=[];return e.push({title:wjcCore.culture.Viewer.singleMode,icon:exports.icons.singleView,commandTag:_ViewerActionType.Single}),e.push({title:wjcCore.culture.Viewer.continuousMode,icon:exports.icons.continuousView,commandTag:_ViewerActionType.Continuous}),e.push({title:ViewerBase._seperatorHtml}),e.push({title:wjcCore.culture.Viewer.wholePage,icon:exports.icons.fitWholePage,commandTag:_ViewerActionType.FitWholePage}),e.push({title:wjcCore.culture.Viewer.pageWidth,icon:exports.icons.fitPageWidth,commandTag:_ViewerActionType.FitPageWidth}),e},t}(_ViewerMenuBase);exports._ViewMenu=_ViewMenu;var _SearchOptionsMenu=function(e){function t(t,o,n){return e.call(this,t,o,n)||this}return __extends(t,e),t.prototype._initItems=function(){var e=[];return e.push({title:wjcCore.culture.Viewer.wholeWordMenuItem,commandTag:_ViewerActionType.SearchMatchWholeWord}),e.push({title:wjcCore.culture.Viewer.matchCaseMenuItem,commandTag:_ViewerActionType.SearchMatchCase}),e},t.prototype._internalFormatItem=function(t,o){if(e.prototype._internalFormatItem.call(this,t,o),t&&void 0!==t.commandTag){var n=document.createElement("span");n.innerHTML=wjcCore.culture.Viewer.checkMark,wjcCore.addClass(n,"checkIcon"),o.insertBefore(n,o.firstChild)}},t.prototype._updateActionStatus=function(t,o){e.prototype._updateActionStatus.call(this,t,o),this.viewer._actionIsChecked(o)&&wjcCore.addClass(t,"checked")},t}(_ViewerMenuBase);exports._SearchOptionsMenu=_SearchOptionsMenu;var MouseMode;!function(e){e[e.SelectTool=0]="SelectTool",e[e.MoveTool=1]="MoveTool",e[e.RubberbandTool=2]="RubberbandTool",e[e.MagnifierTool=3]="MagnifierTool"}(MouseMode=exports.MouseMode||(exports.MouseMode={}));var ViewMode;!function(e){e[e.Single=0]="Single",e[e.Continuous=1]="Continuous"}(ViewMode=exports.ViewMode||(exports.ViewMode={}));var ZoomMode;!function(e){e[e.Custom=0]="Custom",e[e.PageWidth=1]="PageWidth",e[e.WholePage=2]="WholePage"}(ZoomMode=exports.ZoomMode||(exports.ZoomMode={}));var _LinkClickedEventArgs=function(e){function t(t){var o=e.call(this)||this;return o._a=t,o}return __extends(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._a},enumerable:!0,configurable:!0}),t}(wjcCore.EventArgs);exports._LinkClickedEventArgs=_LinkClickedEventArgs;var _HistoryManager=function(){function e(){this._items=[{}],this._position=0,this.statusChanged=new wjcCore.Event}return e.prototype._onStatusChanged=function(){this.statusChanged.raise(this,new wjcCore.EventArgs)},Object.defineProperty(e.prototype,"current",{get:function(){return this._items[this._position]},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._items=[{}],this._position=0,this._onStatusChanged()},e.prototype.add=function(){this._items.splice(++this._position),this._items.push({}),this._onStatusChanged()},e.prototype.forward=function(){if(!this.canForward())return null;var e=this._items[++this._position];return this._onStatusChanged(),e},e.prototype.backward=function(){if(!this.canBackward())return null;var e=this._items[--this._position];return this._onStatusChanged(),e},e.prototype.canForward=function(){return this._position<this._items.length-1},e.prototype.canBackward=function(){return this._position>0},e}();exports._HistoryManager=_HistoryManager;var ViewerBase=function(e){function t(t,o){var n=e.call(this,t,o,!0)||this;return n._pages=[],n._pageIndex=0,n._mouseMode=MouseMode.SelectTool,n._viewMode=ViewMode.Single,n._needBind=!1,n._historyManager=new _HistoryManager,n._fullScreen=!1,n._miniToolbarPinnedTimer=null,n._autoHeightCalculated=!1,n._searchManager=new _SearchManager,n._thresholdWidth=767,n._historyMoving=!1,n._documentSourceChanged=new wjcCore.Event,n.pageIndexChanged=new wjcCore.Event,n.viewModeChanged=new wjcCore.Event,n.selectMouseModeChanged=new wjcCore.Event,n.mouseModeChanged=new wjcCore.Event,n.fullScreenChanged=new wjcCore.Event,n.zoomFactorChanged=new wjcCore.Event,n.queryLoadingData=new wjcCore.Event,n._viewerActionStatusChanged=new wjcCore.Event,n._documentEventKey=(new Date).getTime().toString(),n._init(o),n}return __extends(t,e),Object.defineProperty(t.prototype,"serviceUrl",{get:function(){return this._serviceUrl},set:function(e){e!=this._serviceUrl&&(this._serviceUrl=e,this._needBindDocumentSource(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filePath",{get:function(){return this._filePath},set:function(e){e!=this._filePath&&(this._filePath=e,this._needBindDocumentSource(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thresholdWidth",{get:function(){return this._thresholdWidth},set:function(e){e!=this._thresholdWidth&&(this._thresholdWidth=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_innerPaginated",{get:function(){return this._documentSource&&!this._needBind?this._documentSource.paginated:this._paginated},set:function(e){this._documentSource&&!this._needBind?this._setPaginated(e):this._paginated=null==e?null:wjcCore.asBoolean(e),this._setViewerAction(_ViewerActionType.TogglePaginated,!0)},enumerable:!0,configurable:!0}),t.prototype.reload=function(){this._needBindDocumentSource(),this.invalidate()},t.prototype.refresh=function(o){if(void 0===o&&(o=!0),e.prototype.refresh.call(this,o),this._needBind&&(this._setDocumentSource(this._getSource()),this._needBind=!1),o){var n=wjcCore.Control.getControl(this._toolbar);n&&n.refresh();var r=wjcCore.Control.getControl(this._miniToolbar);r&&r.refresh();var i=wjcCore.Control.getControl(this._mobileToolbar);i&&i.refresh();var a=wjcCore.Control.getControl(this._zoomBar);a&&a.refresh();var s=wjcCore.Control.getControl(this._searchBar);s&&s.refresh(),this._hamburgerMenu&&this._hamburgerMenu.refresh(),this._viewMenu&&this._viewMenu.refresh(),this._searchOptionsMenu&&this._searchOptionsMenu.refresh(),t._exportItems=null,this._updateExportTab(!0),this._globalize(),this._updateLayout()}this._resetMiniToolbarPosition(),this._resetToolbarWidth(),this._resetViewPanelContainerWidth(),this._autoHeightCalculated=!1},t.prototype._updateLayout=function(){this._switchTemplate(this._isMobileTemplate())},t.prototype._switchTemplate=function(e){var t=this.hostElement.querySelector(".wj-viewer-outer"),o=wjcCore.Control.getControl(this._sidePanel),n=o.getTabPage(this._pageSetupPageId);e?(wjcCore.addClass(t,"mobile"),o.show(n)):(wjcCore.removeClass(t,"mobile"),o.hide(n))},t.prototype._getSource=function(){return this.filePath?new _DocumentSource({serviceUrl:this._serviceUrl,filePath:this._filePath}):null},t.prototype._needBindDocumentSource=function(){this._needBind=!0},t.prototype._supportsPageSettingActions=function(){return!1},t.prototype._isMobileTemplate=function(){return this.thresholdWidth>this.hostElement.getBoundingClientRect().width},t.prototype._init=function(e){var t=this;this._createChildren(),this._autoCalculateHeight(),this._resetToolbarWidth(),this._resetViewPanelContainerWidth(),this._bindEvents(),this._initTools(),this.deferUpdate(function(){t.initialize(e)})},t.prototype._initTools=function(){var e=this;this._rubberband=new _Rubberband(document.createElement("div"),this._viewpanelContainer,this._pageView),this._rubberband.applied.addHandler(function(t,o){var n=o.rect,r=e._pageView.hitTest(n.left,n.top),i=e._viewpanelContainer.getBoundingClientRect();n.width>n.height?e._pageView.zoomFactor*=i.width/n.width:e._pageView.zoomFactor*=i.height/n.height,e._pageView.moveToPosition(_getPositionByHitTestInfo(r))}),this._magnifier=new _Magnifier(document.createElement("div"),this._viewpanelContainer,this._pageView)},t.prototype._globalize=function(){var e=wjcCore.culture.Viewer;this._gSearchTitle.textContent=e.search,this._gMatchCase.innerHTML="&nbsp;&nbsp;&nbsp;"+e.matchCase,this._gWholeWord.innerHTML="&nbsp;&nbsp;&nbsp;"+e.wholeWord,this._gSearchResults.textContent=e.searchResults,this._gThumbnailsTitle.textContent=e.thumbnails,this._gOutlinesTitle.textContent=e.outlines,this._gPageSetupTitle.textContent=e.pageSetup,this._gPageSetupApplyBtn.textContent=e.ok,this._gExportsPageTitle.textContent=e.exports,this._gExportsPageApplyBtn.textContent=e.exportOk,this._gExportFormatTitle.textContent=e.exportFormat},t.prototype._autoCalculateHeight=function(){if(this._shouldAutoHeight()){var e=this._viewpanelContainer.style.height;this._viewpanelContainer.style.height="100%",this._viewerContainer.style.height=Math.max(this._viewpanelContainer.getBoundingClientRect().height,t._viewpanelContainerMinHeight)+"px",this._viewpanelContainer.style.height=e}},t.prototype._bindEvents=function(){var e=this;_addEvent(window,"unload",function(){e._documentSource&&e._documentSource.dispose()}),_addEvent(document,"mousemove",function(t){if(e.fullScreen&&e._miniToolbar){var o=e._checkMiniToolbarVisible(t);null!=e._miniToolbarPinnedTimer&&o?(clearTimeout(e._miniToolbarPinnedTimer),e._miniToolbarPinnedTimer=null,e._showMiniToolbar(o)):null==e._miniToolbarPinnedTimer&&e._showMiniToolbar(o)}}),_addEvent(document,"keydown",function(t){t.keyCode===wjcCore.Key.Escape&&(e.fullScreen=!1)}),this._historyManager.statusChanged.addHandler(this._onHistoryManagerStatusUpdated,this),this._onHistoryManagerStatusUpdated(),this._pageView.pageIndexChanged.addHandler(function(){e._addHistory(!1,!0),e._updatePageIndex(e._pageView.pageIndex)}),this._pageView.zoomFactorChanged.addHandler(function(t,o){e.zoomMode===ZoomMode.Custom&&e._addHistory(!1,!0,{zoomFactor:o.oldValue}),e.onZoomFactorChanged()}),this._pageView.zoomModeChanged.addHandler(function(t,o){e._addHistory(!1,!0,{zoomMode:o.oldValue}),e._updateZoomModeActions()}),this._pageView.positionChanged.addHandler(function(){setTimeout(function(){e._historyManager.current.position=e._getCurrentPosition()},t._historyTimeout)});var o=!1;this._searchManager.currentChanged.addHandler(function(){if(!o){var t=e._searchManager.current;t&&(o=!0,e._highlightPosition(t.pageIndex,t.boundsList),o=!1)}})},t.prototype._checkMiniToolbarVisible=function(e){var t=e.clientX,o=e.clientY,n=this._miniToolbar.getBoundingClientRect(),r=n.left-60,i=n.right+60,a=n.top-60,s=n.bottom+60;return t>=r&&t<=i&&o>=a&&o<=s},t.prototype._showMiniToolbar=function(e){var t,o=parseFloat(getComputedStyle(this._miniToolbar,"").opacity),n=this._miniToolbar;t=e?setInterval(function(){o>=.8?window.clearInterval(t):(o+=.01,n.style.opacity=o.toString())},1):setInterval(function(){o<0?window.clearInterval(t):(o-=.01,n.style.opacity=o.toString())},1)},t.prototype._goToBookmark=function(e){var t=this;this._documentSource&&""!==e&&this._documentSource.getBookmark(e).then(function(e){e&&t._scrollToPosition(e,!0)})},t.prototype._executeCustomAction=function(e){var t=this;if(this._documentSource&&""!==e){this._initialPosition={pageIndex:this._pageIndex,pageBounds:{x:0,y:0,width:0,height:0}},this._resetDocument(),this._showViewPanelMessage(),this._setDocumentRendering();var o=this._documentSource;this._documentSource.executeCustomAction(e).then(function(e){t._initialPosition=e||t._initialPosition,t._getStatusUtilCompleted(o)}).catch(function(e){t._showViewPanelErrorMessage(_getErrorMessage(e))})}},t.prototype._getStatusUtilCompleted=function(e){var t=this;!e||e.isLoadCompleted||e.isDisposed||e.getStatus().then(function(o){t._documentSource===e&&setTimeout(function(){return t._getStatusUtilCompleted(e)},100)})},t.prototype._initChildren=function(){this._initPageView(),this._initToolbar(),this._initSidePanel(),this._initSplitter(),this._initFooter(),this._initSearchBar(),this._initMiniToolbar()},t.prototype._initSearchBar=function(){new _SearchBar(this._searchBar,this),this._showSearchBar(!1)},t.prototype._showSearchBar=function(e){var t=this.hostElement.querySelector(".wj-viewer-outer");e?(wjcCore.removeClass(this._searchBar,exports._hiddenCss),wjcCore.addClass(t,"with-searchbar")):(wjcCore.addClass(this._searchBar,exports._hiddenCss),wjcCore.removeClass(t,"with-searchbar"))},t.prototype._initFooter=function(){var e=this;new _ViewerZoomBar(this._zoomBar,this),_addEvent(this._footer.querySelector(".wj-close"),"click",function(){e._showFooter(!1)})},t.prototype._showFooter=function(e){var t=this.hostElement.querySelector(".wj-viewer-outer");e?(wjcCore.removeClass(this._footer,exports._hiddenCss),wjcCore.addClass(t,"with-footer")):(wjcCore.addClass(this._footer,exports._hiddenCss),wjcCore.removeClass(t,"with-footer"))},t.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-viewer wj-control",e,{_viewpanelContainer:"viewpanel-container",_toolbar:"toolbar",_mobileToolbar:"mobile-toolbar",_miniToolbar:"mini-toolbar",_leftPanel:"viewer-left-panel",_sidePanel:"side-panel",_viewerContainer:"viewer-container",_splitter:"splitter",_footer:"viewer-footer",_zoomBar:"zoom-bar",_searchBar:"search-bar"}),this._initChildren()},t.prototype._initPageView=function(){new _CompositePageView(this._viewpanelContainer).viewMode=this.viewMode},Object.defineProperty(t.prototype,"_pageView",{get:function(){return wjcCore.Control.getControl(this._viewpanelContainer)},enumerable:!0,configurable:!0}),t.prototype._initSplitter=function(){var e=this;_addEvent(this._splitter,"click",function(){return e._toggleSplitter()})},t.prototype._toggleSplitter=function(e){var t=this._splitter.querySelector("span"),o=wjcCore.Control.getControl(this._sidePanel);if(!0===e){if(wjcCore.hasClass(t,"wj-glyph-right"))return}else if(!1===e){if(wjcCore.hasClass(t,"wj-glyph-left"))return}else e=wjcCore.hasClass(t,"wj-glyph-left");if(e)o.collapse(),t.className="wj-glyph-right";else{if(0===o.visibleTabPagesCount)return;t.className="wj-glyph-left",o.expand()}this._resetViewPanelContainerWidth()},t.prototype._resetMiniToolbarPosition=function(){if(this._miniToolbar){var e=this.hostElement.getBoundingClientRect().width,t=this._miniToolbar.getBoundingClientRect().width;this._miniToolbar.style.left=(e-t)/2+"px"}},t.prototype._resetToolbarWidth=function(){wjcCore.Control.getControl(this._toolbar).resetWidth()},t.prototype._resetViewPanelContainerWidth=function(){!this._isMobileTemplate()&&this.hostElement.getBoundingClientRect().width<=t._narrowWidthThreshold?wjcCore.addClass(this.hostElement,t._narrowCss):wjcCore.removeClass(this.hostElement,t._narrowCss);var e=this._splitter?this._splitter.getBoundingClientRect().width:0,o=this._leftPanel?this._leftPanel.getBoundingClientRect().width:0;this._viewpanelContainer.style.width=this._viewerContainer.getBoundingClientRect().width-e-o+"px",this._pageView.invalidate()},t.prototype._shouldAutoHeight=function(){return("100%"===this.hostElement.style.height||"auto"===this.hostElement.style.height)&&!this.fullScreen},t.prototype._initSidePanel=function(){var e=this,t=new _SideTabs(this._sidePanel);t.collapse(),t.collapsed.addHandler(function(){e._toggleSplitter(!0)}),t.expanded.addHandler(function(){e._toggleSplitter(!1);var t=e._splitter?e._splitter.getBoundingClientRect().width:0;e._sidePanel.getBoundingClientRect().width+t>e._viewerContainer.getBoundingClientRect().width&&wjcCore.addClass(e._sidePanel,"collapsed")}),t.tabPageVisibilityChanged.addHandler(function(o,n){(!n.tabPage.isHidden&&1==t.visibleTabPagesCount||n.tabPage.isHidden&&0==t.visibleTabPagesCount)&&e._resetViewPanelContainerWidth()}),this._initSidePanelThumbnails(),this._initSidePanelOutlines(),this._initSidePanelSearch(),this._initSidePanelExports(),this._initSidePanelPageSetup()},t.prototype._clearPreHightLights=function(){this._pages.forEach(function(e){var t;if(e.content){t=e.content.querySelectorAll(".highlight");for(var o=0;o<t.length;o++)t.item(o).parentNode.removeChild(t.item(o))}})},t.prototype._highlightPosition=function(e,t){var o,n=this,r=(this._pageIndex,this._pageView.scrollTop,this._pageView.scrollLeft,{pageIndex:e,pageBounds:t.length>0?t[0]:null});this._scrollToPosition(r,!0).then(function(e){n._clearPreHightLights(),n._pages[n.pageIndex].getContent().then(function(e){o=e.querySelector("g");for(var n=0;n<t.length;n++){var r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttributeNS(null,"x",_twipToPixel(t[n].x).toString()),r.setAttributeNS(null,"y",_twipToPixel(t[n].y).toString()),r.setAttributeNS(null,"height",_twipToPixel(t[n].height).toString()),r.setAttributeNS(null,"width",_twipToPixel(t[n].width).toString()),r.setAttributeNS(null,"class","highlight"),o.appendChild(r)}})})},t.prototype._scrollToPosition=function(e,t){return!0===t&&this._addHistory(!0,!1),e.pageIndex=e.pageIndex||0,this._pageView.moveToPosition(e)},t.prototype._initSidePanelSearch=function(){var e=this,t=wjcCore.Control.getControl(this._sidePanel),o=t.addPage(wjcCore.culture.Viewer.search,exports.icons.search);this._gSearchTitle=o.outContent.querySelector(".wj-tabtitle"),o.format(function(o){var n=_toDOMs('<div class="wj-searchcontainer"><input class="wj-searchbox" wj-part="search-box" type="text"/><div class="wj-btn-group"><button class="wj-btn wj-btn-searchpre">'+_createSvgBtn(exports.icons.searchPrevious).innerHTML+'</button><button class="wj-btn wj-btn-searchnext">'+_createSvgBtn(exports.icons.searchNext).innerHTML+'</button></div></div><div class="wj-searchoption"><label><span wj-part="g-matchCase">&nbsp;&nbsp;&nbsp;'+wjcCore.culture.Viewer.matchCase+'</span><input type="checkbox" wj-part="match-case" /></label></div><div class="wj-searchoption"><label><span wj-part="g-wholeWord">&nbsp;&nbsp;&nbsp;'+wjcCore.culture.Viewer.wholeWord+'</span><input type="checkbox" wj-part="whole-word" /></label></div><h3 wj-part="g-searchResults" class="wj-searchresult">'+wjcCore.culture.Viewer.searchResults+"</h3>");e._gMatchCase=n.querySelector('[wj-part="g-matchCase"]'),e._gWholeWord=n.querySelector('[wj-part="g-wholeWord"]'),e._gSearchResults=n.querySelector('[wj-part="g-searchResults"]'),o.outContent.querySelector(".wj-tabtitle-wrapper").appendChild(n);var r=o.outContent.querySelectorAll('input[type="checkbox"]')[0],i=o.outContent.querySelectorAll('input[type="checkbox"]')[1],a=o.outContent.querySelector('input[type="text"]'),s=o.outContent.querySelector(".wj-btn-searchpre"),c=o.outContent.querySelector(".wj-btn-searchnext");wjcCore.addClass(o.content.parentElement,"search-wrapper"),wjcCore.addClass(o.content,"wj-searchresultlist");var u=new wjcInput.ListBox(o.content),l=!1,p=!1;u.formatItem.addHandler(function(e,t){var o=t.item,n=t.data,r=document.createElement("div"),i=document.createElement("div");o.innerHTML="",i.innerHTML=n.nearText,i.className="wj-search-text",r.innerHTML="Page "+(n.pageIndex+1),r.className="wj-search-page",wjcCore.addClass(o,"wj-search-item"),o.setAttribute("tabIndex","-1"),o.appendChild(i),o.appendChild(r)}),u.selectedIndexChanged.addHandler(function(){return e._searchManager.currentIndex=u.selectedIndex}),e._searchManager.searchCompleted.addHandler(function(){l=!0,u.itemsSource=e._searchManager.searchResults,l=!1}),e._searchManager.currentChanged.addHandler(function(){l||p||e._searchManager.current&&(p=!0,u.selectedIndex=e._searchManager.currentIndex,p=!1)});var h=function(){u.itemsSource=null,r.checked=!1,i.checked=!1,a.value="",e._documentSource&&e._documentSource.features&&(!e._documentSource.paginated||e._documentSource.features.textSearchInPaginatedMode)?t.show(o):t.hide(o)};e._documentSourceChanged.addHandler(function(){e._documentSource&&_addWjHandler(e._documentEventKey,e._documentSource.loadCompleted,h),h()}),_addEvent(r,"click",function(){e._searchManager.matchCase=r.checked}),_addEvent(i,"click",function(){e._searchManager.wholeWord=i.checked}),_addEvent(a,"input",function(){e._searchManager.text=a.value}),_addEvent(a,"keyup",function(t){var o=t||window.event;o.keyCode===wjcCore.Key.Enter&&e._searchManager.search(o.shiftKey)}),_addEvent(c,"click",function(){return e._searchManager.search()}),_addEvent(s,"click",function(){return e._searchManager.search(!0)}),_addEvent(o.header,"keydown",function(t){var o,n=e._toolbar;t.keyCode===wjcCore.Key.Tab&&(o=n.querySelector("[tabIndex=0]")||n.querySelector('input:not([type="hidden"])')||n)&&o.focus&&(o.focus(),t.preventDefault())})})},t.prototype._initSidePanelOutlines=function(){var e=this,t=wjcCore.Control.getControl(this._sidePanel),o=t.addPage(wjcCore.culture.Viewer.outlines,exports.icons.outlines);this._gOutlinesTitle=o.outContent.querySelector(".wj-tabtitle"),this._outlinesPageId=o.id,o.format(function(o){wjcCore.addClass(o.content,"wj-outlines-tree");var n=new wjcGrid.FlexGrid(o.content);n.initialize({autoGenerateColumns:!1,columns:[{binding:"caption",width:"*"}],isReadOnly:!0,childItemsPath:"children",allowResizing:wjcGrid.AllowResizing.None,headersVisibility:wjcGrid.HeadersVisibility.None}),n.itemFormatter=function(e,t,o,n){var r;r=n.firstElementChild?n.firstElementChild.outerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;";var i=e.rows[t].dataItem;n.innerHTML=r+"<a>"+i.caption+"</a>"};var r=!0;n.selectionChanged.addHandler(function(o,n){if(!r){var i=n.panel.rows[n.row];if(i){var a=i.dataItem;if(a.position)e._scrollToPosition(a.position,!0);else if(a.target){if(!e._documentSource)return;e._documentSource.getBookmark(a.target).then(function(t){a.position=t,o.getSelectedState(n.row,n.col)!=wjcGrid.SelectedState.None&&e._scrollToPosition(t,!0)},function(e){})}e._isMobileTemplate()&&t.collapse()}}});var i=!1,a=function(){i||t.isCollapsed||!o.isActived||o.isHidden||(n.refresh(),i=!0)},s=function(){if(!e._documentSource)return n.itemsSource=null,void t.hide(o);var s=function(){if(!e._documentSource.hasOutlines)return n.itemsSource=null,void t.hide(o);e._documentSource.getOutlines().then(function(e){i=!1,n.itemsSource=e,t.show(o),a(),r=!1})};_addWjHandler(e._documentEventKey,e._documentSource.loadCompleted,s),s()};e._documentSourceChanged.addHandler(s),t.expanded.addHandler(a),t.tabPageActived.addHandler(a),s()})},t.prototype._initSidePanelThumbnails=function(){var e=this,o=wjcCore.Control.getControl(this._sidePanel),n=o.addPage(wjcCore.culture.Viewer.thumbnails,exports.icons.thumbnails);this._gThumbnailsTitle=n.outContent.querySelector(".wj-tabtitle"),this._thumbnailsPageId=n.id,n.format(function(n){wjcCore.addClass(n.content,"wj-thumbnaillist");var r=new wjcInput.ListBox(n.content),i=null,a=!1;r.formatItem.addHandler(function(o,n){var r=n.item,i=n.data;if(r.innerHTML="",e._pageView.pages){var a=document.createElement("div"),c=_toDOM('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml: space = "preserve" ></svg>'),u=document.createElementNS("http://www.w3.org/2000/svg","g"),l=document.createElementNS("http://www.w3.org/2000/svg","image"),p=document.createElement("div"),h=e._pageView.pages[n.index],d=h.size.height.valueInPixel*t._thumbnailWidth/h.size.width.valueInPixel;wjcCore.addClass(r,"wj-thumbnail-item"),l.setAttributeNS("http://www.w3.org/1999/xlink","href",i),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("width",t._thumbnailWidth.toString()),l.setAttribute("height",d.toString()),wjcCore.addClass(a,"wj-pagethumbnail"),a.setAttribute("tabIndex","-1"),u.appendChild(l),c.appendChild(u),a.appendChild(c),r.appendChild(a),s(c,h),p.className="page-index",p.innerHTML=(n.index+1).toString(),r.appendChild(p)}}),r.selectedIndexChanged.addHandler(function(){a||r.selectedIndex<0||r.selectedIndex==e._pageIndex||(e.moveToPage(r.selectedIndex),e._isMobileTemplate()&&o.collapse())}),e.pageIndexChanged.addHandler(function(){return r.selectedIndex=e._pageIndex});var s=function(e,o){var n=t._thumbnailWidth,r=o.size.height.valueInPixel*n/o.size.width.valueInPixel,i=e.parentNode;switch(_transformSvg(e,n,r,1,o.rotateAngle),o.rotateAngle){case _RotateAngle.Rotation90:case _RotateAngle.Rotation270:var a=r;r=n,n=a}i.style.width=n+"px",i.style.height=r+"px",e.setAttribute("width",n.toString()),e.setAttribute("height",r.toString())},c=function(){if(!e._documentSource||!e._documentSource.isLoadCompleted)return null;for(var t=[],o=0;o<e._documentSource.pageCount;o++)t.push(e._documentSource.getRenderToFilterUrl({format:"png",resolution:50,outputRange:o+1}));return t},u=function(){!o.isCollapsed&&n.isActived&&(i||(i=c()),n.isActived&&r.itemsSource!==i&&r.deferUpdate(function(){a=!0,r.itemsSource=i,r.selectedIndex=e._pageIndex,a=!1}))},l=function(){if(!e._documentSource||!e._documentSource.paginated)return o.hide(n),void(r.itemsSource=null);o.show(n),i=null,u()},p=function(){if(!e._documentSource)return o.hide(n),void(r.itemsSource=null);_addWjHandler(e._documentEventKey,e._documentSource.loadCompleted,l),_addWjHandler(e._documentEventKey,e._documentSource.pageCountChanged,l),_addWjHandler(e._documentEventKey,e._documentSource.pageSettingsChanged,l),l()};e._documentSourceChanged.addHandler(p),p(),o.expanded.addHandler(u),o.tabPageActived.addHandler(u),u(),e._pageView.rotateAngleChanged.addHandler(function(){for(var t=r.hostElement.querySelectorAll("svg"),o=0;o<t.length;o++)s(t.item(o),e._pageView.pages[o])})})},t.prototype._initSidePanelExports=function(){var e=this,t=wjcCore.Control.getControl(this._sidePanel),o=t.addPage(wjcCore.culture.Viewer.exports,exports.icons.exports);this._gExportsPageTitle=o.outContent.querySelector(".wj-tabtitle"),this._exportsPageId=o.id,o.format(function(o){var n=_toDOMs('<div class="wj-exportcontainer"><label wj-part="g-wj-exportformat">'+wjcCore.culture.Viewer.exportFormat+'</label><div class="wj-exportformats"></div></div>');o.outContent.querySelector(".wj-tabtitle-wrapper").appendChild(n),e._gExportFormatTitle=o.outContent.querySelector('[wj-part="g-wj-exportformat"]');var r=o.outContent.querySelector(".wj-exportformats");new wjcInput.ComboBox(r),wjcCore.addClass(o.content.parentElement,"wj-exportformats-wrapper");var i=document.createElement("div"),a=new _ExportOptionEditor(i);o.content.appendChild(i);var s=_toDOMs('<div class="wj-exportformats-footer"><a wj-part="btn-apply" href="javascript:void(0)" tabindex="-1" draggable="false">'+wjcCore.culture.Viewer.exportOk+"</a></div>");o.content.appendChild(s);var c=o.content.querySelector('[wj-part="btn-apply"]');e._gExportsPageApplyBtn=c,_addEvent(c,"click",function(){e._export(a.options),t.collapse()})});var n=!0;this._documentSourceChanged.addHandler(function(){n=!0,e._documentSource&&_addWjHandler(e._documentEventKey,e._documentSource.loadCompleted,function(){n&&e._ensureExportFormatsLoaded().then(function(){e._updateExportTab(),n=null==e._exportFormats})})}),t.tabPageActived.addHandler(function(){n&&t.activedTabPage.id===e._exportsPageId&&e._ensureExportFormatsLoaded().then(function(){e._updateExportTab(),n=null==e._exportFormats})})},t.prototype._ensureExportFormatsLoaded=function(){var e=this;if(!this._exportFormats&&this._documentSource&&!this._documentSource.isDisposed)return this._documentSource.getSupportedExportDescriptions().then(function(t){e._exportFormats=t,e._setViewerAction(_ViewerActionType.ShowExportsPanel)});var t=new _Promise;return t.resolve(),t},t.prototype._updateExportTab=function(e){var t=this;if(this._exportFormats){var o=wjcCore.Control.getControl(this._sidePanel).getTabPage(this._exportsPageId),n=wjcCore.Control.getControl(o.outContent.querySelector(".wj-exportformats")),r=wjcCore.Control.getControl(o.content.firstElementChild);if(e)r.refresh(),n.itemsSource&&n.itemsSource.forEach(function(e){e.name=t._exportItemDescriptions[e.format].name}),n.refresh();else{var i=[];this._exportFormats.forEach(function(e){var o=t._exportItemDescriptions[e.format];_DocumentSource._isIOS()&&!o.supportIOS||(e.name=o.name,i.push(e))}),n.selectedIndexChanged.addHandler(function(){r.exportDescription=n.selectedItem}),n.itemsSource=i,n.displayMemberPath="name",n.selectedValuePath="format",n.selectedIndex=-1}}},t.prototype._initSidePanelPageSetup=function(){var e=this,t=wjcCore.Control.getControl(this._sidePanel),o=t.addPage(wjcCore.culture.Viewer.pageSetup,exports.icons.pageSetup);this._gPageSetupTitle=o.outContent.querySelector(".wj-tabtitle"),this._pageSetupPageId=o.id,o.format(function(o){var n=document.createElement("div"),r=new _PageSetupEditor(n);o.content.appendChild(n),wjcCore.addClass(n,"wj-pagesetupcontainer");var i=_toDOMs('<div class="wj-pagesetup-footer"><a wj-part="btn-apply" href="javascript:void(0)" tabindex="-1" draggable="false">'+wjcCore.culture.Viewer.ok+"</a></div>");o.content.appendChild(i);var a=o.content.querySelector('[wj-part="btn-apply"]');e._gPageSetupApplyBtn=a,_addEvent(a,"click",function(){e._setPageSettings(r.pageSettings),t.collapse()});var s=function(){r.pageSettings=e._documentSource.pageSettings},c=function(){e._documentSource&&(_addWjHandler(e._documentEventKey,e._documentSource.pageSettingsChanged,s),s())};e._documentSourceChanged.addHandler(c),c()})},t.prototype._executeAction=function(e){if(!this._actionIsDisabled(e))switch(e){case _ViewerActionType.TogglePaginated:this._innerPaginated=!this._innerPaginated;break;case _ViewerActionType.Print:this._documentSource&&this._documentSource.print(this._pages.map(function(e){return e.rotateAngle}));break;case _ViewerActionType.ShowExportsPanel:wjcCore.Control.getControl(this._sidePanel).active(this._exportsPageId);break;case _ViewerActionType.Portrait:this._setPageLandscape(!1);break;case _ViewerActionType.Landscape:this._setPageLandscape(!0);break;case _ViewerActionType.ShowPageSetupDialog:this.showPageSetupDialog();break;case _ViewerActionType.FirstPage:this.moveToPage(0);break;case _ViewerActionType.LastPage:this._moveToLastPage();break;case _ViewerActionType.PrePage:this.moveToPage(this._pageIndex-1);break;case _ViewerActionType.NextPage:this.moveToPage(this._pageIndex+1);break;case _ViewerActionType.Backward:this._moveBackwardHistory();break;case _ViewerActionType.Forward:this._moveForwardHistory();break;case _ViewerActionType.SelectTool:this.mouseMode=MouseMode.SelectTool;break;case _ViewerActionType.MoveTool:this.mouseMode=MouseMode.MoveTool;break;case _ViewerActionType.Continuous:this._addHistory(!1,!0),this.viewMode=ViewMode.Continuous;break;case _ViewerActionType.Single:this._addHistory(!1,!0),this.viewMode=ViewMode.Single;break;case _ViewerActionType.FitPageWidth:this.zoomMode=ZoomMode.PageWidth;break;case _ViewerActionType.FitWholePage:this.zoomMode=ZoomMode.WholePage;break;case _ViewerActionType.ZoomOut:this._zoomBtnClicked(!1,t._defaultZoomValues);break;case _ViewerActionType.ZoomIn:this._zoomBtnClicked(!0,t._defaultZoomValues);break;case _ViewerActionType.ToggleFullScreen:this.fullScreen=!this.fullScreen;break;case _ViewerActionType.ShowHamburgerMenu:this._hamburgerMenu.showMenu();break;case _ViewerActionType.ShowViewMenu:this._viewMenu.showMenu();break;case _ViewerActionType.ShowSearchBar:this._showSearchBar(wjcCore.hasClass(this._searchBar,exports._hiddenCss)),this._setViewerAction(_ViewerActionType.ShowSearchBar);break;case _ViewerActionType.ShowThumbnails:wjcCore.Control.getControl(this._sidePanel).active(this._thumbnailsPageId);break;case _ViewerActionType.ShowOutlines:wjcCore.Control.getControl(this._sidePanel).active(this._outlinesPageId);break;case _ViewerActionType.ShowPageSetupPanel:wjcCore.Control.getControl(this._sidePanel).active(this._pageSetupPageId);break;case _ViewerActionType.ShowZoomBar:this._showFooter(!0);break;case _ViewerActionType.SearchPrev:this._searchManager.search(!0);break;case _ViewerActionType.SearchNext:this._searchManager.search();break;case _ViewerActionType.ShowSearchOptions:this._searchOptionsMenu.showMenu(!0);break;case _ViewerActionType.SearchMatchCase:this._searchManager.matchCase=!this._searchManager.matchCase;break;case _ViewerActionType.SearchMatchWholeWord:this._searchManager.wholeWord=!this._searchManager.wholeWord;break;case _ViewerActionType.RubberbandTool:this.mouseMode=MouseMode.RubberbandTool;break;case _ViewerActionType.MagnifierTool:this.mouseMode=MouseMode.MagnifierTool;break;case _ViewerActionType.RotateDocument:this._rotateDocument();break;case _ViewerActionType.RotatePage:this._rotatePage()}},t.prototype._initSearchOptionsMenu=function(e){this._searchOptionsMenu=new _SearchOptionsMenu(this,e)},t.prototype._initHamburgerMenu=function(e){this._hamburgerMenu=new _HamburgerMenu(this,e)},t.prototype._initViewMenu=function(e){this._viewMenu=new _ViewMenu(this,e)},t.prototype._initToolbar=function(){new _ViewerToolbar(this._toolbar,this),new _ViewerMobileToolbar(this._mobileToolbar,this)},t.prototype._clearExportFormats=function(){this._exportFormats=null},Object.defineProperty(t.prototype,"_exportItemDescriptions",{get:function(){return t._exportItems||(t._exportItems={pdf:{name:wjcCore.culture.Viewer.pdfExportName,supportIOS:!0},doc:{name:wjcCore.culture.Viewer.docExportName,supportIOS:!1},docx:{name:wjcCore.culture.Viewer.docxExportName,supportIOS:!1},rtf:{name:wjcCore.culture.Viewer.rtfExportName,supportIOS:!1},xlsx:{name:wjcCore.culture.Viewer.xlsxExportName,supportIOS:!0},xls:{name:wjcCore.culture.Viewer.xlsExportName,supportIOS:!0},mhtml:{name:wjcCore.culture.Viewer.mhtmlExportName,supportIOS:!0},html:{name:wjcCore.culture.Viewer.htmlExportName,supportIOS:!0},zip:{name:wjcCore.culture.Viewer.metafileExportName,supportIOS:!1},csv:{name:wjcCore.culture.Viewer.csvExportName,supportIOS:!0},tiff:{name:wjcCore.culture.Viewer.tiffExportName,supportIOS:!0},bmp:{name:wjcCore.culture.Viewer.bmpExportName,supportIOS:!1},emf:{name:wjcCore.culture.Viewer.emfExportName,supportIOS:!1},gif:{name:wjcCore.culture.Viewer.gifExportName,supportIOS:!1},jpeg:{name:wjcCore.culture.Viewer.jpegExportName,suportIOS:!1},jpg:{name:wjcCore.culture.Viewer.jpegExportName,supportIOS:!1},png:{name:wjcCore.culture.Viewer.pngExportName,supportIOS:!1}}),t._exportItems},enumerable:!0,configurable:!0}),t.prototype._actionIsChecked=function(e){switch(e){case _ViewerActionType.TogglePaginated:return!0===this._innerPaginated;case _ViewerActionType.Landscape:return!(!this._documentSource||!this._documentSource.pageSettings)&&this._documentSource.pageSettings.landscape;case _ViewerActionType.Portrait:return!(!this._documentSource||!this._documentSource.pageSettings)&&!this._documentSource.pageSettings.landscape;case _ViewerActionType.SelectTool:return this.mouseMode===MouseMode.SelectTool;case _ViewerActionType.MoveTool:return this.mouseMode===MouseMode.MoveTool;case _ViewerActionType.RubberbandTool:return this.mouseMode===MouseMode.RubberbandTool;case _ViewerActionType.MagnifierTool:return this.mouseMode===MouseMode.MagnifierTool;case _ViewerActionType.Continuous:return this.viewMode==ViewMode.Continuous;case _ViewerActionType.Single:return this.viewMode==ViewMode.Single;case _ViewerActionType.ToggleFullScreen:return this.fullScreen;case _ViewerActionType.FitPageWidth:return this.zoomMode==ZoomMode.PageWidth;case _ViewerActionType.FitWholePage:return this.zoomMode==ZoomMode.WholePage;case _ViewerActionType.SearchMatchCase:return this._searchManager.matchCase;case _ViewerActionType.SearchMatchWholeWord:return this._searchManager.wholeWord;case _ViewerActionType.ShowSearchBar:return!wjcCore.hasClass(this._searchBar,exports._hiddenCss)}return!1},t.prototype._isDocumentSourceLoaded=function(){return this._documentSource&&this._documentSource.isLoadCompleted},t.prototype._actionIsDisabled=function(e){if(!(this._isDocumentSourceLoaded()&&this._documentSource.pageCount>0))return!0;switch(e){case _ViewerActionType.TogglePaginated:return null==this._innerPaginated;case _ViewerActionType.ShowExportsPanel:return!this._exportFormats||0===this._exportFormats.length;case _ViewerActionType.Landscape:case _ViewerActionType.Portrait:case _ViewerActionType.ShowPageSetupDialog:case _ViewerActionType.ShowPageSetupPanel:return!this._documentSource||!this._documentSource.pageSettings||!this._documentSource.paginated;case _ViewerActionType.FirstPage:case _ViewerActionType.PrePage:return this._pageIndex<=0;case _ViewerActionType.LastPage:case _ViewerActionType.NextPage:return this._pageIndex>=this._documentSource.pageCount-1;case _ViewerActionType.Backward:return!this._historyManager.canBackward();case _ViewerActionType.Forward:return!this._historyManager.canForward();case _ViewerActionType.Continuous:case _ViewerActionType.Single:return!this._documentSource||!this._documentSource.paginated;case _ViewerActionType.ZoomOut:return this.zoomFactor<=t._defaultZoomValues[0].value;case _ViewerActionType.ZoomIn:var o=t._defaultZoomValues;return this.zoomFactor>=o[o.length-1].value}return!1},t.prototype._actionIsShown=function(e){var t=this._documentSource?this._documentSource.features:null;switch(e){case _ViewerActionType.TogglePaginated:return t&&t.paginated&&t.nonPaginated;case _ViewerActionType.Landscape:case _ViewerActionType.Portrait:case _ViewerActionType.ShowPageSetupDialog:case _ViewerActionType.ShowPageSetupPanel:return t?t.pageSettings:this._supportsPageSettingActions();case _ViewerActionType.SelectTool:case _ViewerActionType.MoveTool:return!_DocumentSource._isMobile();case _ViewerActionType.ShowSearchBar:return t&&(!this._documentSource.paginated||t.textSearchInPaginatedMode);case _ViewerActionType.ShowOutlines:return this._documentSource&&this._documentSource.hasOutlines}return!0},t.prototype._onViewerActionStatusChanged=function(e){this._viewerActionStatusChanged.raise(this,e)},t.prototype._setViewerAction=function(e,t,o,n){var r={actionType:e,disabled:t||this._actionIsDisabled(e),checked:o||this._actionIsChecked(e),shown:n||this._actionIsShown(e)};this._onViewerActionStatusChanged({action:r})},t.prototype._updateViewerActions=function(){this._updatePageSettingsActions(),this._updateViewModeActions(),this._updateMouseModeActions(),this._setViewerAction(_ViewerActionType.ShowExportsPanel)},t.prototype._updateViewModeActions=function(){this._setViewerAction(_ViewerActionType.Continuous),this._setViewerAction(_ViewerActionType.Single)},t.prototype._updatePageSettingsActions=function(){this._setViewerAction(_ViewerActionType.TogglePaginated),this._setViewerAction(_ViewerActionType.Landscape),this._setViewerAction(_ViewerActionType.Portrait),this._setViewerAction(_ViewerActionType.ShowPageSetupDialog)},t.prototype._updateMouseModeActions=function(){this._setViewerAction(_ViewerActionType.SelectTool),this._setViewerAction(_ViewerActionType.MoveTool),this._setViewerAction(_ViewerActionType.MagnifierTool),this._setViewerAction(_ViewerActionType.RubberbandTool)},t.prototype._updateZoomModeActions=function(){this._setViewerAction(_ViewerActionType.FitPageWidth),this._setViewerAction(_ViewerActionType.FitWholePage)},t.prototype._updateZoomFactorActions=function(){this._setViewerAction(_ViewerActionType.ZoomOut),this._setViewerAction(_ViewerActionType.ZoomIn)},t.prototype._onPageSettingsUpdated=function(){this._updatePageSettingsActions(),this._updateViewModeActions(),this._resetToolbarWidth()},t.prototype._onPageCountUpdated=function(){this._updatePageNavActions(),this._resetToolbarWidth()},t.prototype._updatePageNavActions=function(){this._setViewerAction(_ViewerActionType.FirstPage),this._setViewerAction(_ViewerActionType.LastPage),this._setViewerAction(_ViewerActionType.PrePage),this._setViewerAction(_ViewerActionType.NextPage)},t.prototype._onHistoryManagerStatusUpdated=function(){this._setViewerAction(_ViewerActionType.Backward),this._setViewerAction(_ViewerActionType.Forward)},t.prototype._updateUI=function(){var e=this;Object.keys(_ViewerActionType).forEach(function(t){isNaN(t)||e._setViewerAction(_ViewerActionType[_ViewerActionType[t]])});var t=wjcCore.Control.getControl(this._sidePanel);t&&t.enableAll(this._isDocumentSourceLoaded())},t.prototype._updateViewContainerCursor=function(){this.mouseMode===MouseMode.MoveTool?wjcCore.hasClass(this._viewpanelContainer,"move")||wjcCore.addClass(this._viewpanelContainer,"move"):wjcCore.hasClass(this._viewpanelContainer,"move")&&wjcCore.removeClass(this._viewpanelContainer,"move")},t.prototype._updateFullScreenStyle=function(){var e=document.body;this.fullScreen?(this._bodyOriginScrollLeft=document.documentElement&&document.documentElement.scrollLeft||e.scrollLeft,this._bodyOriginScrollTop=document.documentElement&&document.documentElement.scrollTop||e.scrollTop,wjcCore.addClass(this.hostElement,"full-screen"),wjcCore.addClass(e,"full-screen"),this._hostOriginWidth=this.hostElement.style.width,this._hostOriginHeight=this.hostElement.style.height,this.hostElement.style.width="100%",this.hostElement.style.height="100%",window.scrollTo(0,0)):(wjcCore.removeClass(this.hostElement,"full-screen"),wjcCore.removeClass(e,"full-screen"),this.hostElement.style.width=this._hostOriginWidth,this.hostElement.style.height=this._hostOriginHeight,wjcCore.isNumber(this._bodyOriginScrollLeft)&&(document.documentElement&&(document.documentElement.scrollLeft=this._bodyOriginScrollLeft),e.scrollLeft=this._bodyOriginScrollLeft),wjcCore.isNumber(this._bodyOriginScrollTop)&&(document.documentElement&&(document.documentElement.scrollTop=this._bodyOriginScrollTop),e.scrollTop=this._bodyOriginScrollTop)),this.refresh()},t.prototype._export=function(e){var t=this._documentSource.getRenderToFilterUrl(e);if(_DocumentSource._isIOS())window.open(t);else{var o=document.querySelector("#viewDownloader");o||((o=document.createElement("iframe")).id="viewDownloader",o.style.display="none",document.body.appendChild(o)),o.src=t}},t.prototype.showPageSetupDialog=function(){this._pageSetupDialog||this._createPageSetupDialog(),this._pageSetupDialog.showWithValue(this._documentSource.pageSettings)},t.prototype._createPageSetupDialog=function(){var e=this,t=document.createElement("div");t.style.display="none",e.hostElement.appendChild(t),e._pageSetupDialog=new _PageSetupDialog(t),e._pageSetupDialog.applied.addHandler(function(){return e._setPageSettings(e._pageSetupDialog.pageSettings)})},t.prototype.zoomToView=function(){wjcCore._deprecated("zoomToView","zoomMode"),this._documentSource&&(this.zoomMode=ZoomMode.WholePage)},t.prototype.zoomToViewWidth=function(){wjcCore._deprecated("zoomToViewWidth","zoomMode"),this._documentSource&&(this.zoomMode=ZoomMode.PageWidth)},t.prototype._setPageLandscape=function(e){var t=this,o=this._documentSource.pageSettings;_setLandscape(o,e),t._setPageSettings(o)},t.prototype._setPaginated=function(e){var t=this._documentSource.features,o=this._documentSource.pageSettings;t&&o&&e!=o.paginated&&(e&&t.paginated?(o.paginated=!0,this._setPageSettings(o)):!e&&t.nonPaginated&&(o.paginated=!1,this._setPageSettings(o)))},t.prototype._setPageSettings=function(e){var t=this;return this._showViewPanelMessage(),this._setDocumentRendering(),this._documentSource.setPageSettings(e).then(function(e){t._resetDocument(),t._reRenderDocument()}).catch(function(e){t._showViewPanelErrorMessage(_getErrorMessage(e))})},t.prototype._showViewPanelErrorMessage=function(e){this._showViewPanelMessage(e,"errormessage")},t.prototype._showViewPanelMessage=function(e,t){var o=this._viewpanelContainer.querySelector(".wj-viewer-loading");o||((o=document.createElement("div")).innerHTML='<span class="verticalalign"></span><span class="textspan"></span>',this._viewpanelContainer.appendChild(o)),o.className="wj-viewer-loading",t&&wjcCore.addClass(o,t);var n=o.querySelector(".textspan");n&&(n.innerHTML=e||wjcCore.culture.Viewer.loading)},t.prototype._removeViewPanelMessage=function(){var e=this._viewpanelContainer.querySelector(".wj-viewer-loading");e&&this._viewpanelContainer.removeChild(e)},t.prototype._reRenderDocument=function(){this._documentSource&&(this._showViewPanelMessage(),this._documentSource.load())},t.prototype._zoomBtnClicked=function(e,t){var o,n;for(o=0;o<t.length;o++){if(t[o].value>this.zoomFactor){n=o-.5;break}if(t[o].value===this.zoomFactor){n=o;break}}null==n&&(n=t.length-.5),n<=0&&!e||n>=t.length-1&&e||(n=e?Math.floor(n)+1:Math.ceil(n)-1,this.zoomFactor=t[n].value)},t.prototype._getDocumentSource=function(){return this._documentSource},t.prototype._setDocumentSource=function(e){var t=this;this._loadDocument(e).then(function(o){t._documentSource==e&&t._ensureExportFormatsLoaded()})},t.prototype._loadDocument=function(e){var t=this,o=new _Promise;return this._documentSource===e?o:(this._disposeDocument(),this._documentSource=e,e&&(_addWjHandler(this._documentEventKey,e.loading,function(){t._updateUI()},this),_addWjHandler(this._documentEventKey,e.loadCompleted,this._onDocumentSourceLoadCompleted,this),_addWjHandler(this._documentEventKey,e.queryLoadingData,function(e,o){t.onQueryLoadingData(o)},this),e.isLoadCompleted?(this._onDocumentSourceLoadCompleted(),this._keepServiceConnection(),o.resolve()):(this._showViewPanelMessage(),e.load().then(function(e){t._keepServiceConnection(),o.resolve(e)}).catch(function(e){t._showViewPanelErrorMessage(_getErrorMessage(e))}))),this._onDocumentSourceChanged(),o)},t.prototype._hyperlinkClicked=function(e){var t=e.getAttribute(_Page._bookmarkAttr);if(t)this._goToBookmark(t);else{var o=e.getAttribute(_Page._customActionAttr);o&&this._executeCustomAction(o)}},t.prototype._onDocumentSourceLoadCompleted=function(){var e=this,t=this._documentSource.errors;if(this._documentSource.isLoadCompleted){if(this._removeViewPanelMessage(),this._pages.length=0,this._documentSource.pageCount<=0)return void this._updateUI();for(var o={width:this._documentSource.pageSettings.width,height:this._documentSource.pageSettings.height},n=0;n<this._documentSource.pageCount;n++){var r=new _Page(this._documentSource,n,o);r.linkClicked.addHandler(function(t,o){e._hyperlinkClicked(o.element)}),this._pages.push(r)}this._pageView.pages=this._pages,this._documentSource.paginated||(this.viewMode=ViewMode.Single),this._autoHeightCalculated||(this._autoCalculateHeight(),this._autoHeightCalculated=!0);var i=this._documentSource.initialPosition||this._initialPosition;if(this._documentSource.initialPosition=null,this._initialPosition=null,i&&0!=i.pageIndex||(this._pageIndex=0,i={pageIndex:0}),this._scrollToPosition(i),this._updateHistoryCurrent(),t&&t.length>0)for(n=0;n<t.length;n++)t[n]+"\r\n";this._updateUI()}},t.prototype._clearKeepSerConnTimer=function(){null!=this._keepSerConnTimer&&clearTimeout(this._keepSerConnTimer)},t.prototype._keepServiceConnection=function(){var e=this;this._clearKeepSerConnTimer();var t=this._documentSource;t&&(this._keepSerConnTimer=setTimeout(function(){e._documentSource===t&&e._documentSource.getStatus().then(function(t){return e._keepServiceConnection()})},this._getExpiredTime()))},t.prototype._getExpiredTime=function(){if(this._expiredTime)return this._expiredTime;var e=this._documentSource;return e&&e.expiredDateTime&&e.executionDateTime?(this._expiredTime=e.expiredDateTime.getTime()-e.executionDateTime.getTime(),this._expiredTime=Math.max(this._expiredTime-12e4,0),this._expiredTime):6e3},t.prototype._disposeDocument=function(){this._documentSource&&(_removeAllWjHandlers(this._documentEventKey,this._documentSource.disposed),_removeAllWjHandlers(this._documentEventKey,this._documentSource.pageCountChanged),_removeAllWjHandlers(this._documentEventKey,this._documentSource.pageSettingsChanged),_removeAllWjHandlers(this._documentEventKey,this._documentSource.loadCompleted),_removeAllWjHandlers(this._documentEventKey,this._documentSource.queryLoadingData),this._documentSource.dispose()),this._resetDocument()},t.prototype._resetDocument=function(){this._pages.length=0,this._pageView.resetPages(),this._pageIndex=0,clearTimeout(this._historyTimer),this._historyManager.clear(),this._rubberband&&this._rubberband.reset(),this._magnifier&&this._magnifier.reset()},t.prototype._setDocumentRendering=function(){this._documentSource._updateIsLoadCompleted(!1)},t.prototype.moveToPage=function(e){return this._innerMoveToPage(e)},t.prototype._getCurrentPosition=function(){return _getPositionByHitTestInfo(this._pageView.hitTest(0,0))},t.prototype._resolvePageIndex=function(e){return Math.min(this._documentSource.pageCount-1,Math.max(e,0))},t.prototype._innerMoveToPage=function(e){return this._resolvePageIndex(e)!=this.pageIndex&&this._addHistory(!1,!0),this._updatePageIndex(e),this._pageView.moveToPage(e)},t.prototype._moveToLastPage=function(){var e=new _Promise;return this._ensureDocumentLoadCompleted(e)?this._innerMoveToPage(this._documentSource.pageCount-1):e},t.prototype._moveBackwardHistory=function(){if(this._ensureDocumentLoadCompleted()&&this._historyManager.canBackward()){var e=this._historyManager.backward();this._moveToHistory(e)}},t.prototype._moveForwardHistory=function(){if(this._ensureDocumentLoadCompleted()&&this._historyManager.canForward()){var e=this._historyManager.forward();this._moveToHistory(e)}},t.prototype._moveToHistory=function(e){var t=this;if(e){this._historyMoving=!0,this.viewMode=e.viewMode,e.zoomMode===ZoomMode.Custom?this.zoomFactor=e.zoomFactor:this.zoomMode=e.zoomMode,this._scrollToPosition(e.position).then(function(e){t._historyMoving=!1});for(var o=0;o<e.pageAngles.length;o++)this._pageView.rotatePageTo(o,e.pageAngles[o])}},t.prototype._isPositionEquals=function(e,t,o){return e.pageIndex===t.pageIndex&&(!o||(e.pageBounds==t.pageBounds||null!=e.pageBounds&&null!=t.pageBounds&&(e.pageBounds.x===t.pageBounds.x&&e.pageBounds.y===t.pageBounds.y)))},t.prototype._isPageAnglesChanged=function(e){if(e.length!=this._pageView.pages.length)return!0;for(var t=e.length,o=0;o<t;o++)if(e[o]!==this._pageView.pages[o].rotateAngle)return!0;return!1},t.prototype._updateHistoryCurrent=function(){this._historyManager.current.position=this._getCurrentPosition(),this._historyManager.current.zoomMode=this.zoomMode,this._historyManager.current.zoomFactor=this.zoomFactor,this._historyManager.current.viewMode=this.viewMode,this._updateCurrentPageAngles(this._historyManager.current)},t.prototype._innerAddHistory=function(e){var t=this._getCurrentPosition(),o=this._historyManager.current;this._isPositionEquals(t,o.position,e)&&this.viewMode===o.viewMode&&this.zoomMode===o.zoomMode&&this.zoomFactor===o.zoomFactor&&!this._isPageAnglesChanged(o.pageAngles)||(o.position=o.position||this._getCurrentPosition(),o.viewMode=null==o.viewMode?this.viewMode:o.viewMode,o.zoomMode=null==o.zoomMode?this.zoomMode:o.zoomMode,o.zoomFactor=null==o.zoomFactor?this.zoomFactor:o.zoomFactor,o.pageAngles||this._updateCurrentPageAngles(o),this._historyManager.add(),this._updateHistoryCurrent())},t.prototype._addHistory=function(e,o,n){var r=this;this.isUpdating||this._historyMoving||(o?(this._mergeHistory(n),null!=this._historyTimer&&clearTimeout(this._historyTimer),this._historyTimer=setTimeout(function(){r._historyTimer=null,r._innerAddHistory(e)},t._historyTimeout)):this._innerAddHistory(e))},t.prototype._updateCurrentPageAngles=function(e){e.pageAngles||(e.pageAngles=new Array);for(var t=this._pageView.pages.length,o=0;o<t;o++)e.pageAngles[o]=this._pageView.pages[o].rotateAngle},t.prototype._mergeHistory=function(e){var t=this._historyManager.current;if(!e)return t.viewMode=this.viewMode,t.zoomMode=this.zoomMode,t.zoomFactor=this.zoomFactor,void this._updateCurrentPageAngles(t);if(null!=e.viewMode&&(t.viewMode=e.viewMode),null!=e.zoomMode&&(t.zoomMode=e.zoomMode),null!=e.zoomFactor&&(t.zoomFactor=e.zoomFactor),e.pageAngles){t.pageAngles=new Array;for(var o=this._pageView.pages.length,n=0;n<o;n++)t.pageAngles[n]=e.pageAngles[n]}},t.prototype._ensureDocumentLoadCompleted=function(e){return this._documentSource?!!this._documentSource.isLoadCompleted||(e&&e.reject("Cannot set page index when document source is not loaded completely."),!1):(e&&e.reject("Cannot set page index without document source."),!1)},t.prototype._updatePageIndex=function(e){this._documentSource&&(e=Math.min(this._documentSource.pageCount-1,Math.max(e,0)),this._pageIndex!==e&&(this._pageIndex=e,this.onPageIndexChanged()))},t.prototype._getRotatedAngle=function(e){switch(e){case _RotateAngle.NoRotate:return _RotateAngle.Rotation90;case _RotateAngle.Rotation90:return _RotateAngle.Rotation180;case _RotateAngle.Rotation180:return _RotateAngle.Rotation270;case _RotateAngle.Rotation270:return _RotateAngle.NoRotate}return _RotateAngle.NoRotate},t.prototype._rotateDocument=function(){this._addHistory(!1,!0);for(var e=this._pageView.pages.length,t=0;t<e;t++)this._pageView.rotatePageTo(t,this._getRotatedAngle(this._pageView.pages[t].rotateAngle))},t.prototype._rotatePage=function(){this._addHistory(!1,!0);var e=this._pageView.pages[this._pageIndex];this._pageView.rotatePageTo(this._pageIndex,this._getRotatedAngle(e.rotateAngle))},Object.defineProperty(t.prototype,"zoomMode",{get:function(){return this._pageView.zoomMode},set:function(e){this._pageView.zoomMode=e,this._updateZoomModeActions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return this._pageView.zoomFactor},set:function(e){this._pageView.zoomFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewMode",{get:function(){return this._viewMode},set:function(e){this._viewMode!==e&&(this._viewMode=e,this.onViewModeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectMouseMode",{get:function(){return this._mouseMode===MouseMode.SelectTool},set:function(e){wjcCore._deprecated("selectMouseMode","mouseMode"),e&&this._mouseMode===MouseMode.SelectTool||!e&&this._mouseMode!==MouseMode.SelectTool||(this.mouseMode=e?MouseMode.SelectTool:MouseMode.MoveTool)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseMode",{get:function(){return this._mouseMode},set:function(e){if(this._mouseMode!==(e=wjcCore.asEnum(e,MouseMode))){var t=this.selectMouseMode;switch(this._mouseMode=e,this._mouseMode){case MouseMode.RubberbandTool:this._rubberband.activate(),this._magnifier.deactivate();break;case MouseMode.MagnifierTool:this._magnifier.activate(),this._rubberband.deactivate();break;default:this._magnifier.deactivate(),this._rubberband.deactivate()}this.onMouseModeChanged(),t!=this.selectMouseMode&&this.onSelectMouseModeChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullScreen",{get:function(){return this._fullScreen},set:function(e){this._fullScreen!==e&&(this._fullScreen=e,this.onFullScreenChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},enumerable:!0,configurable:!0}),t.prototype._initMiniToolbar=function(){wjcCore.Control.getControl(this._miniToolbar)||(new _ViewerMiniToolbar(this._miniToolbar,this),wjcCore.addClass(this._miniToolbar,"wj-mini-toolbar"))},t.prototype._pinMiniToolbar=function(){var e=this;this._showMiniToolbar(!0),this._miniToolbarPinnedTimer=setTimeout(function(){e._showMiniToolbar(!1),e._miniToolbarPinnedTimer=null},t._miniToolbarPinnedTime)},t.prototype._onDocumentSourceChanged=function(e){this._clearExportFormats(),this._documentSourceChanged.raise(this,e||new wjcCore.EventArgs),this._updateViewerActions(),this._onPageSettingsUpdated(),this._onPageCountUpdated(),this._updateViewModeActions(),this._searchManager.documentSource=this._documentSource,this._documentSource&&(_addWjHandler(this._documentEventKey,this._documentSource.pageSettingsChanged,this._onPageSettingsUpdated,this),_addWjHandler(this._documentEventKey,this._documentSource.pageCountChanged,this._onPageCountUpdated,this),_addWjHandler(this._documentEventKey,this._documentSource.loadCompleted,this._onPageCountUpdated,this))},t.prototype.onPageIndexChanged=function(e){this.pageIndexChanged.raise(this,e||new wjcCore.EventArgs),this._updatePageNavActions()},t.prototype.onViewModeChanged=function(e){this.viewModeChanged.raise(this,e||new wjcCore.EventArgs),this._updateViewModeActions(),this._pageView.viewMode=this.viewMode},t.prototype.onSelectMouseModeChanged=function(e){this.selectMouseModeChanged.hasHandlers&&wjcCore._deprecated("selectMouseModeChanged","mouseModeChanged"),this.selectMouseModeChanged.raise(this,e)},t.prototype.onMouseModeChanged=function(e){this.mouseModeChanged.raise(this,e||new wjcCore.EventArgs),(this.mouseMode!==MouseMode.MoveTool&&this.mouseMode!==MouseMode.SelectTool||!_DocumentSource._isMobile())&&(this._updateMouseModeActions(),this._updateViewContainerCursor(),this._pageView.panMode=this.mouseMode===MouseMode.MoveTool)},t.prototype.onFullScreenChanged=function(e){this.fullScreenChanged.raise(this,e||new wjcCore.EventArgs),this._setViewerAction(_ViewerActionType.ToggleFullScreen),this._updateFullScreenStyle(),this.fullScreen&&this._pinMiniToolbar()},t.prototype.onZoomFactorChanged=function(e){this.zoomFactorChanged.raise(this,e||new wjcCore.EventArgs),this._updateZoomFactorActions(),this._updateZoomModeActions()},t.prototype.onQueryLoadingData=function(e){this.queryLoadingData.raise(this,e)},t._seperatorHtml="<div class='wj-separator' style='width:100%;height: 1px;margin: 3px 0;background-color:rgba(0,0,0,.2)'/>",t._viewpanelContainerMinHeight=300,t._miniToolbarPinnedTime=3e3,t._narrowCss="narrow",t._narrowWidthThreshold=400,t._thumbnailWidth=100,t._historyTimeout=300,t._defaultZoomValues=[{name:wjcCore.Globalize.format(.05,"p0"),value:.05},{name:wjcCore.Globalize.format(.25,"p0"),value:.25},{name:wjcCore.Globalize.format(.5,"p0"),value:.5},{name:wjcCore.Globalize.format(.75,"p0"),value:.75},{name:wjcCore.Globalize.format(1,"p0"),value:1},{name:wjcCore.Globalize.format(2,"p0"),value:2},{name:wjcCore.Globalize.format(3,"p0"),value:3},{name:wjcCore.Globalize.format(4,"p0"),value:4},{name:wjcCore.Globalize.format(8,"p0"),value:8},{name:wjcCore.Globalize.format(10,"p0"),value:10}],t.controlTemplate='<div class="wj-viewer-outer wj-content with-footer"><div wj-part="toolbar"></div><div wj-part="mobile-toolbar"></div><div class="wj-viewer-container" wj-part="viewer-container"><div class="wj-viewer-leftpanel" wj-part="viewer-left-panel"><div class="wj-viewer-tabsleft" wj-part="side-panel"></div></div><div class="wj-viewer-splitter" wj-part="splitter"><button class="wj-btn wj-btn-default" type="button"><span class="wj-glyph-right"></span></button></div><div class="wj-viewpanel-container" wj-part="viewpanel-container"></div></div><div wj-part="mini-toolbar"></div><div class="wj-searchbar mobile" wj-part="search-bar"></div><div class="wj-viewer-footer mobile" class="wj-viewer-footer" wj-part="viewer-footer"><div wj-part="zoom-bar"></div><span class="wj-close">×</span></div></div>',t}(wjcCore.Control);exports.ViewerBase=ViewerBase;var _PageSetupDialog=function(e){function t(t){var o=e.call(this,t)||this;o.applied=new wjcCore.Event;var n;return o.modal=!0,o.hideTrigger=wjcInput.PopupTrigger.None,n=o.getTemplate(),o.applyTemplate("wj-control wj-content",n,{_gHeader:"g-header",_pageSetupEditorElement:"pagesetup-editor",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClose:"a-close"}),o._pageSetupEditor=new _PageSetupEditor(o._pageSetupEditorElement),o._globalize(),o._addEvents(),o}return __extends(t,e),Object.defineProperty(t.prototype,"pageSettings",{get:function(){return this._pageSetupEditor.pageSettings},enumerable:!0,configurable:!0}),t.prototype._globalize=function(){var e=wjcCore.culture.Viewer;this._gHeader.textContent=e.pageSetup,this._btnApply.textContent=e.ok,this._btnCancel.textContent=e.cancel},t.prototype._addEvents=function(){var e=this;_addEvent(e._btnClose,"click",function(){e.hide()}),_addEvent(e._btnCancel,"click",function(){e.hide()}),_addEvent(e._btnApply,"click",function(){e._apply(),e.hide()})},t.prototype._apply=function(){this.onApplied()},t.prototype.onApplied=function(){this.applied.raise(this,new wjcCore.EventArgs)},t.prototype.showWithValue=function(t){this._pageSetupEditor.pageSettings=t,e.prototype.show.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&(this._globalize(),this._pageSetupEditor.refresh())},t.controlTemplate='<div><div wj-part="g-header" class="wj-dialog-header"><a class="wj-hide" wj-part="a-close" style="float:right;outline:none;text-decoration:none;padding:0px 6px" href="" tabindex="-1" draggable="false">&times;</a></div><div style="padding:12px;"><div wj-part="pagesetup-editor"></div><div class="wj-dialog-footer"><a class="wj-hide" wj-part="btn-apply" href="" tabindex="-1" draggable="false"></a>&nbsp;&nbsp;<a class="wj-hide" wj-part="btn-cancel" href="" tabindex="-1" draggable="false"></a></div></div></div>',t}(wjcInput.Popup);exports._PageSetupDialog=_PageSetupDialog;var _ViewerActionType;!function(e){e[e.TogglePaginated=0]="TogglePaginated",e[e.Print=1]="Print",e[e.Portrait=2]="Portrait",e[e.Landscape=3]="Landscape",e[e.ShowPageSetupDialog=4]="ShowPageSetupDialog",e[e.FirstPage=5]="FirstPage",e[e.PrePage=6]="PrePage",e[e.NextPage=7]="NextPage",e[e.LastPage=8]="LastPage",e[e.PageNumber=9]="PageNumber",e[e.PageCountLabel=10]="PageCountLabel",e[e.Backward=11]="Backward",e[e.Forward=12]="Forward",e[e.SelectTool=13]="SelectTool",e[e.MoveTool=14]="MoveTool",e[e.Continuous=15]="Continuous",e[e.Single=16]="Single",e[e.ZoomOut=17]="ZoomOut",e[e.ZoomIn=18]="ZoomIn",e[e.ZoomValue=19]="ZoomValue",e[e.FitWholePage=20]="FitWholePage",e[e.FitPageWidth=21]="FitPageWidth",e[e.ToggleFullScreen=22]="ToggleFullScreen",e[e.ShowHamburgerMenu=23]="ShowHamburgerMenu",e[e.ShowViewMenu=24]="ShowViewMenu",e[e.ShowSearchBar=25]="ShowSearchBar",e[e.ShowThumbnails=26]="ShowThumbnails",e[e.ShowOutlines=27]="ShowOutlines",e[e.ShowExportsPanel=28]="ShowExportsPanel",e[e.ShowPageSetupPanel=29]="ShowPageSetupPanel",e[e.ShowZoomBar=30]="ShowZoomBar",e[e.ShowSearchOptions=31]="ShowSearchOptions",e[e.SearchPrev=32]="SearchPrev",e[e.SearchNext=33]="SearchNext",e[e.SearchMatchCase=34]="SearchMatchCase",e[e.SearchMatchWholeWord=35]="SearchMatchWholeWord",e[e.RubberbandTool=36]="RubberbandTool",e[e.MagnifierTool=37]="MagnifierTool",e[e.RotateDocument=38]="RotateDocument",e[e.RotatePage=39]="RotatePage"}(_ViewerActionType=exports._ViewerActionType||(exports._ViewerActionType={}));var _MouseTool=function(e){function t(t,o,n,r,i,a,s){var c=e.call(this,t)||this;return c._stopOnClientOut=r,c._css=i,c._activeCss=a,c._visibleCss=s,c._pageView=n,c._viewPanelContainer=o,c._initElement(),c._bindEvents(),c}return __extends(t,e),t.prototype.activate=function(){this._isActive||(this._isActive=!0,wjcCore.addClass(this._viewPanelContainer,this._activeCss))},t.prototype.deactivate=function(){this._isActive&&(this._isActive=!1,wjcCore.removeClass(this._viewPanelContainer,this._activeCss))},t.prototype.reset=function(){this._innerStop(null)},Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPnt",{get:function(){return this._startPnt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageView",{get:function(){return this._pageView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewPanelContainer",{get:function(){return this._viewPanelContainer},enumerable:!0,configurable:!0}),t.prototype._initElement=function(){this.applyTemplate(this._css,this.getTemplate(),this._getTemplateParts()),this._viewPanelContainer.appendChild(this.hostElement)},t.prototype._innerStop=function(e){try{this._stop(e)}finally{this._isStarted=!1,this._startPnt=null}},t.prototype._getTemplateParts=function(){return null},t.prototype._onMouseDown=function(e){var t=this._toClientPoint(e),o=this._testPageWorkingAreaHit(t);o&&this.pageView.isPageContentLoaded(o.pageIndex)&&(void 0!==window.getSelection&&getSelection().removeAllRanges(),this._isStarted=!0,this._startPnt=t,this._start(o))},t.prototype._onMouseMove=function(e){if(this._isStarted){var t=this._toClientPoint(e),o=this._testPageWorkingAreaHit(t);o&&this.pageView.isPageContentLoaded(o.pageIndex)?this._move(t,o):this._stopOnClientOut&&this._stop(t)}},t.prototype._onMouseUp=function(e){this._isStarted&&this._innerStop(this._toClientPoint(e))},t.prototype._start=function(e){wjcCore.addClass(this.hostElement,this._visibleCss)},t.prototype._move=function(e,t){},t.prototype._stop=function(e){wjcCore.removeClass(this.hostElement,this._visibleCss)},t.prototype._bindEvents=function(){var e=this;this.addEventListener(this._viewPanelContainer,"mousedown",function(t){e._isActive&&e._onMouseDown(t)}),this.addEventListener(this._viewPanelContainer,"mousemove",function(t){e._isActive&&e._onMouseMove(t)}),this.addEventListener(document,"mouseup",function(t){e._isActive&&e._onMouseUp(t)})},t.prototype._toClientPoint=function(e){var t=this._viewPanelContainer.getBoundingClientRect();return new wjcCore.Point(e.clientX-t.left,e.clientY-t.top)},t.prototype._testPageWorkingAreaHit=function(e){var t=this._pageView.hitTest(e.x,e.y);return t&&t.hitWorkingArea?t:null},t}(wjcCore.Control);exports._MouseTool=_MouseTool;var _RubberbandOnAppliedEventArgs=function(e){function t(t){var o=e.call(this)||this;return o._rect=t,o}return __extends(t,e),Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t}(wjcCore.EventArgs);exports._RubberbandOnAppliedEventArgs=_RubberbandOnAppliedEventArgs;var _Rubberband=function(e){function t(t,o,n){var r=e.call(this,t,o,n,!1,"wj-rubberband","rubberband-actived","show")||this;return r.applied=new wjcCore.Event,r}return __extends(t,e),t.prototype._start=function(t){e.prototype._start.call(this,t),this.hostElement.style.left=this.startPnt.x+"px",this.hostElement.style.top=this.startPnt.y+"px"},t.prototype._move=function(e,t){if(this.startPnt){this.viewPanelContainer.getBoundingClientRect();this.hostElement.style.width=e.x-this.startPnt.x+"px",this.hostElement.style.height=e.y-this.startPnt.y+"px"}},t.prototype._stop=function(t){if(t){var o=this.hostElement.getBoundingClientRect();o.width>5&&o.height>5&&this._onApplied(new _RubberbandOnAppliedEventArgs(new wjcCore.Rect(this.startPnt.x,this.startPnt.y,o.width,o.height)))}this.hostElement.style.width="0px",this.hostElement.style.height="0px",e.prototype._stop.call(this,t)},t.prototype._onApplied=function(e){this.applied.raise(this,e)},t}(_MouseTool);exports._Rubberband=_Rubberband;var _Magnifier=function(e){function t(t,o,n){var r=e.call(this,t,o,n,!0,"wj-magnifier","magnifier-actived","show")||this;return r._Magnification=2,r._currentPageIndex=-1,r}return __extends(t,e),t.prototype.deactivate=function(){e.prototype.deactivate.call(this),this._currentPageIndex=-1},t.prototype.reset=function(){e.prototype.reset.call(this),this._currentPageIndex=-1},t.prototype._getTemplateParts=function(){return{_viewPageDiv:"view-page-div"}},t.prototype._bindEvents=function(){var t=this;e.prototype._bindEvents.call(this);var o=function(){if(!(t._currentPageIndex<0)){var e=t.pageView.pages[t._currentPageIndex],o=_getRotatedSize(e.size,e.rotateAngle),n=t._viewPageDiv.querySelector("svg");t._viewPageDiv.style.height=o.height.valueInPixel*t.pageView.zoomFactor*t._Magnification+"px",t._viewPageDiv.style.width=o.width.valueInPixel*t.pageView.zoomFactor*t._Magnification+"px",n.setAttribute("width",t._viewPageDiv.style.width),n.setAttribute("height",t._viewPageDiv.style.height),_transformSvg(n,e.size.width.valueInPixel,e.size.height.valueInPixel,t._Magnification*t.pageView.zoomFactor,e.rotateAngle)}};this.pageView.zoomFactorChanged.addHandler(function(){o()}),this.pageView.rotateAngleChanged.addHandler(function(){o()})},t.prototype._start=function(t){e.prototype._start.call(this,t),this._showMagnifer(this.startPnt,t)},t.prototype._move=function(e,t){this._showMagnifer(e,t)},t.prototype._showMagnifer=function(e,t){var o=this.hostElement.getBoundingClientRect(),n=_getPositionByHitTestInfo(t);this.hostElement.style.left=e.x-o.width/2+"px",this.hostElement.style.top=e.y-o.height/2+"px",this._fillPage(n),this._showHitPosition(n)},t.prototype._fillPage=function(e){var t=this;e.pageIndex!==this._currentPageIndex&&(this._currentPageIndex=e.pageIndex,this.pageView.pages[this._currentPageIndex].getContent().then(function(e){var o=e.cloneNode(!0);t._viewPageDiv.innerHTML="",t._viewPageDiv.appendChild(o),o.setAttribute("width",new _Unit(o.getAttribute("width")).valueInPixel*t._Magnification+"px"),o.setAttribute("height",new _Unit(o.getAttribute("height")).valueInPixel*t._Magnification+"px");var n=t.pageView.pages[t._currentPageIndex].size;_transformSvg(o,n.width.valueInPixel,n.height.valueInPixel,t._Magnification*t.pageView.zoomFactor,t.pageView.pages[t._currentPageIndex].rotateAngle),t._viewPageDiv.style.width=o.getAttribute("width"),t._viewPageDiv.style.height=o.getAttribute("height")}))},t.prototype._showHitPosition=function(e){var t=this.hostElement.getBoundingClientRect(),o=this.pageView.pages[this._currentPageIndex],n=_getTransformedPosition(e.pageBounds,o.size,o.rotateAngle,this.pageView.zoomFactor);this._viewPageDiv.style.left=-n.x*this._Magnification+t.width/2+"px",this._viewPageDiv.style.top=-n.y*this._Magnification+t.height/2+"px"},t.controlTemplate='<div wj-part="view-page-div" class="wj-view-page"></div>',t}(_MouseTool);exports._Magnifier=_Magnifier;var parametersIcon='<path d="M24,11.9v-2h-4V7h0V5h0h-1h-5V2h0V0h0h-1H1H0h0v2h0v11h0v1h0h1h5v4h0v1h0h1h3v4h0v1h0h1h2.1v-1H11V12h2.1v-2H11h-1h0v2h0v6H7V7h12v2.9h-1v2h5V23h-4.9v1H23h1h0v-1h0L24,11.9L24,11.9z M6,5L6,5l0,2h0v6H1V2h12v3H7H6z"/><path d="M20,20v-3v-1h-1h-1v-1v-1h-1h-3h-1v1v3v1h1h1v2h0h1h3h1h0L20,20L20,20z M14,18v-3h3v1h-1h-1v1v1H14z M17,17v1h-1v-1H17z M16,20v-1h1h1v-1v-1h1v3H16z"/>',ReportViewer=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n._initSidePanelParameters(),n}return __extends(t,e),Object.defineProperty(t.prototype,"reportName",{get:function(){return this._reportName},set:function(e){e!=this._reportName&&(this._reportName=e,this._needBindDocumentSource(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paginated",{get:function(){return this._innerPaginated},set:function(e){this._innerPaginated=e},enumerable:!0,configurable:!0}),t.getReportNames=function(e,t){return _Report.getReportNames(e,t)},t.getReports=function(e,t,o){return _Report.getReports(e,t,o)},t.prototype._globalize=function(){e.prototype._globalize.call(this);var t=wjcCore.culture.Viewer;this._gParameterTitle.textContent=t.parameters},t.prototype._executeAction=function(o){if(e.prototype._executeAction.call(this,o),!this._actionIsDisabled(o))switch(o){case t._parameterCommandTag:wjcCore.Control.getControl(this._sidePanel).active(this._parametersPageId)}},t.prototype._actionIsDisabled=function(o){switch(o){case t._parameterCommandTag:return!this._innerDocumentSource||!this._innerDocumentSource.hasParameters}return e.prototype._actionIsDisabled.call(this,o)},t.prototype._initHamburgerMenu=function(e){this._hamburgerMenu=new _ReportHamburgerMenu(this,e)},t.prototype._initSidePanelParameters=function(){var e=this,t=wjcCore.Control.getControl(this._sidePanel),o=t.addPage(wjcCore.culture.Viewer.parameters,parametersIcon,2);this._parametersPageId=o.id,this._gParameterTitle=o.outContent.querySelector(".wj-tabtitle"),o.format(function(o){e._paramsEditor=new _ParametersEditor(o.content),e._paramsEditor.commit.addHandler(function(){e._innerDocumentSource&&e._innerDocumentSource.hasParameters&&(e._showViewPanelMessage(),e._innerDocumentSource.setParameters(e._paramsEditor.parameters).then(function(t){var o=t||[],n=o.some(function(e){return!!e.error});e._paramsEditor._reset(),n?e._paramsEditor.itemsSource=o:(e._resetDocument(),e._paramsEditor.isDisabled=!0,e._renderDocumentSource())}).catch(function(t){e._showViewPanelErrorMessage(_getErrorMessage(t))}),e._isMobileTemplate()&&t.collapse())}),e._paramsEditor.validate.addHandler(function(){e._innerDocumentSource&&e._innerDocumentSource.hasParameters&&e._innerDocumentSource.setParameters(e._paramsEditor.parameters).then(function(t){e._paramsEditor.itemsSource=t})});var n=function(){var n=e._innerDocumentSource;n.status===_ExecutionStatus.cleared||n.status===_ExecutionStatus.notFound?_removeChildren(o.content):n.status===_ExecutionStatus.rendering?e._paramsEditor.isDisabled=!0:n.status===_ExecutionStatus.completed&&(e._paramsEditor.isDisabled=!1),n.status===_ExecutionStatus.loaded&&(n.hasParameters?n.getParameters().then(function(r){r.filter(function(e){return!e.hidden}).length?(t.show(o),t.active(o)):t.hide(o),e._innerDocumentSource!=n||n.isDisposed||(e._paramsEditor.itemsSource=r,r.filter(function(e){return null==e.value&&!e.nullable&&!e.hidden}).length?e._showViewPanelMessage(wjcCore.culture.Viewer.requiringParameters):(e._paramsEditor.isDisabled=!0,e._renderDocumentSource()))}):t.hide(o))},r=function(){e._innerDocumentSource&&(_addWjHandler(e._documentEventKey,e._innerDocumentSource.statusChanged,n),n())};e._documentSourceChanged.addHandler(r),r()})},Object.defineProperty(t.prototype,"_innerDocumentSource",{get:function(){return this._getDocumentSource()},enumerable:!0,configurable:!0}),t.prototype._loadDocument=function(t){var o=this._innerDocumentSource!==t,n=e.prototype._loadDocument.call(this,t);return t&&o&&_addWjHandler(this._documentEventKey,t.statusChanged,this._onDocumentStatusChanged,this),n},t.prototype._reRenderDocument=function(){this._renderDocumentSource()},t.prototype._onDocumentStatusChanged=function(){this._innerDocumentSource&&this._innerDocumentSource.status===_ExecutionStatus.loaded&&!this._innerDocumentSource.hasParameters&&this._renderDocumentSource()},t.prototype._renderDocumentSource=function(){var e=this;if(this._innerDocumentSource){this._setDocumentRendering();var t=this._innerDocumentSource;t.render().then(function(o){return e._getStatusUtilCompleted(t)})}},t.prototype._disposeDocument=function(){this._innerDocumentSource&&_removeAllWjHandlers(this._documentEventKey,this._innerDocumentSource.statusChanged),e.prototype._disposeDocument.call(this)},t.prototype._setDocumentRendering=function(){this._innerDocumentSource._updateStatus(_ExecutionStatus.rendering),e.prototype._setDocumentRendering.call(this)},t.prototype._getSource=function(){return this.filePath?new _Report({serviceUrl:this.serviceUrl,filePath:this.filePath,reportName:this.reportName,paginated:this.paginated}):null},t.prototype._supportsPageSettingActions=function(){return!0},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&this._paramsEditor.refresh()},t._parameterCommandTag=99,t}(ViewerBase);exports.ReportViewer=ReportViewer;var _ParametersEditor=function(e){function t(t){var o=e.call(this,t)||this;return o._parameters={},o._errors=[],o._errorsVisible=!1,o.commit=new wjcCore.Event,o.validate=new wjcCore.Event,wjcCore.addClass(o.hostElement,"wj-parameterscontainer"),o._updateErrorsVisible(),o}return __extends(t,e),t.prototype._setErrors=function(e){this._errors=e,this._updateErrorDiv()},Object.defineProperty(t.prototype,"parameters",{get:function(){return this._parameters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._itemSources},set:function(e){this._itemSources=e,this._parameters={},this._render();var t=[];(e||[]).forEach(function(e){e.error&&t.push({key:e.name,value:e.error})}),this._setErrors(t)},enumerable:!0,configurable:!0}),t.prototype._reset=function(){this._lastEditedParam=null},t.prototype._setErrorsVisible=function(e){this._errorsVisible=e,this._updateErrorsVisible()},t.prototype._updateErrorsVisible=function(){this._errorsVisible?wjcCore.removeClass(this.hostElement,t._errorsHiddenCss):wjcCore.addClass(this.hostElement,t._errorsHiddenCss)},t.prototype.onCommit=function(){this.commit.raise(this,new wjcCore.EventArgs)},t.prototype.onValidate=function(){this.validate.raise(this,new wjcCore.EventArgs),this._setErrorsVisible(!1)},t.prototype._deferValidate=function(e,t,o){var n=this;this._lastEditedParam=e,null!=this._validateTimer&&(clearTimeout(this._validateTimer),this._validateTimer=null),this._validateTimer=setTimeout(function(){null!=t&&t(),n.onValidate(),null!=o&&o(),n._validateTimer=null},500)},t.prototype._updateErrorDiv=function(){for(var e=this._errors||[],o=this.hostElement.querySelectorAll(".error"),n=0;n<o.length;n++)o[n].parentNode.removeChild(o[n]);for(n=0;n<e.length;n++){var r,i=this.hostElement.querySelector("*["+t._paramIdAttr+'="'+e[n].key+'"]'),a=e[n].value;i&&((r=document.createElement("div")).innerHTML=a,r.className="error",i.appendChild(r))}},t.prototype._render=function(){var e=this;if(!this._lastEditedParam&&(_removeChildren(this.hostElement),this._itemSources)){this._itemSources.forEach(function(o){if(!o.hidden){var n=document.createElement("div"),r=document.createElement("span"),i=null;if(n.className="wj-parametercontainer",r.className="wj-parameterhead",r.innerHTML=o.prompt||o.name,wjcCore.isArray(o.allowedValues))i=e._generateComboEditor(o);else switch(o.dataType){case _ParameterType.Boolean:i=e._generateBoolEditor(o);break;case _ParameterType.DateTime:case _ParameterType.Time:case _ParameterType.Date:i=e._generateDateTimeEditor(o);break;case _ParameterType.Integer:case _ParameterType.Float:i=e._generateNumberEditor(o);break;case _ParameterType.String:i=e._generateStringEditor(o)}i&&(i.className+=" wj-parametercontrol",n.setAttribute(t._paramIdAttr,o.name),n.appendChild(r),n.appendChild(i),e.hostElement.appendChild(n))}});var o=document.createElement("input");o.type="button",o.value=wjcCore.culture.Viewer.apply,o.className="wj-applybutton",_addEvent(o,"click",function(){e._validateParameters()&&(e._errors=[],e.onCommit()),e._setErrorsVisible(!0)}),this.hostElement.appendChild(o)}},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&(this._reset(),this._render())},t.prototype._validateParameters=function(){for(var e,o=this.hostElement.querySelectorAll("textarea"),n=[],r=this.itemsSource,i=0;i<r.length;i++){var a=r[i];e=this.hostElement.querySelector("["+t._paramIdAttr+'="'+a.name+'"]'),a.nullable||this.parameters.hasOwnProperty(a.name)||this.parameters[a.name]||null!==a.value&&void 0!==a.value&&""!==a.value||e&&n.push({key:a.name,value:wjcCore.culture.Viewer.nullParameterError})}for(i=0;i<o.length;i++){var s=o.item(i),c=!0;switch(parseInt(s.getAttribute("data-type"))){case _ParameterType.Date:case _ParameterType.DateTime:case _ParameterType.Time:c=t._checkValueType(s.value,wjcCore.isDate);break;case _ParameterType.Float:c=t._checkValueType(s.value,t._isFloat);break;case _ParameterType.Integer:c=t._checkValueType(s.value,wjcCore.isInt)}c||n.push({key:s.parentElement.id,value:wjcCore.culture.Viewer.invalidParameterError})}return this._setErrors(n),n.length<=0},t._isFloat=function(e){return!isNaN(parseFloat(e))},t._checkValueType=function(e,t){for(var o=e.split("\n"),n=0;n<o.length;n++)if(!(o[n].trim().length<=0||t(o[n].trim())))return!1;return!0},t.prototype._generateComboEditor=function(e){var t,o,n,r=this,i=[],a=document.createElement("div"),s=[],c=e.allowedValues&&e.allowedValues.length>0;e.multiValue?t=new _MultiSelectEx(a):(t=new wjcInput.ComboBox(a),e.nullable?i.push({name:wjcCore.culture.Viewer.parameterNoneItemsSelected,value:null}):null==e.value&&c&&i.push({name:wjcCore.culture.Viewer.selectParameterValue,value:null})),t.isEditable=!1,t.displayMemberPath="name",t.selectedValuePath="value",t.isDisabled=!c;for(u=0;u<e.allowedValues.length;u++)i.push({name:e.allowedValues[u].key,value:e.allowedValues[u].value});if(t.itemsSource=i,e.multiValue){if(o=t,c){if(e.value){for(var u=0;u<e.value.length;u++)for(var l=0;l<o.itemsSource.length;l++)if(o.itemsSource[l].value===e.value[u]){s.push(o.itemsSource[l]);break}o.checkedItems=s}}else o.checkedItems=[];o.checkedItemsChanged.addHandler(function(){r._deferValidate(e.name,function(){n=[];for(var t=0;t<o.checkedItems.length;t++)n.push(o.checkedItems[t].value);r._updateParameters(e,n)},function(){n.length>0&&!e.nullable&&r._validateNullValueOfParameter(a)})})}else{t.selectedValue=c?e.value:null;var p=!1;t.selectedIndexChanged.addHandler(function(t){r._deferValidate(e.name,function(){p||(r._updateParameters(e,t.selectedValue),t.selectedValue&&t.itemsSource[0].name===wjcCore.culture.Viewer.selectParameterValue&&setTimeout(function(){p=!0;var e=t.selectedValue,o=t.selectedIndex;t.itemsSource.shift(),t.collectionView.refresh(),t.selectedValue=e,t.selectedIndex=o-1,p=!1}))},function(){return r._validateNullValueOfParameter(a)})})}return a},t.prototype._updateParameters=function(e,t){var o;this.itemsSource.some(function(t){return t.name===e.name&&(o=t,!0)}),this._parameters[e.name]=o.value=e.value=function(e,t){return t&&!wjcCore.isArray(e)?e.split(/[\r\n]+/):e}(t,e.multiValue)},t.prototype._generateBoolEditor=function(e){var t,o,n=this,r=[];return e.nullable?(o=document.createElement("div"),(t=new wjcInput.ComboBox(o)).isEditable=!1,t.displayMemberPath="name",t.selectedValuePath="value",r.push({name:"None",value:null}),r.push({name:"True",value:!0}),r.push({name:"False",value:!1}),t.itemsSource=r,t.selectedValue=e.value,t.selectedIndexChanged.addHandler(function(t){n._deferValidate(e.name,function(){return n._updateParameters(e,t.selectedValue)})})):((o=document.createElement("input")).type="checkbox",o.checked=e.value,_addEvent(o,"click",function(){n._deferValidate(e.name,function(){return n._updateParameters(e,o.checked)})})),o},t.prototype._generateStringEditor=function(e){var t,o=this;return e.multiValue?t=o._createTextarea(e.value,e.dataType):((t=document.createElement("input")).type="text",e.value&&(t.value=e.value)),o._bindTextChangedEvent(t,e),t},t.prototype._createTextarea=function(e,o){var n,r=document.createElement("textarea"),i=[];if(o!==_ParameterType.DateTime&&o!==_ParameterType.Time&&o!==_ParameterType.Date||(n=t._dateTimeFormat),e&&e.length>0)if(n){for(var a=0;a<e.length;a++)i.push(wjcCore.Globalize.formatDate(new Date(e[a]),n));r.value=i.join("\n")}else r.value=e.join("\n");return r.wrap="off",r.setAttribute("data-type",o.toString()),r},t.prototype._bindTextChangedEvent=function(e,t){var o=this;_addEvent(e,"change,keyup,paste,input",function(){o._deferValidate(t.name,function(){return o._updateParameters(t,e.value)},function(){e.value&&!t.nullable&&o._validateNullValueOfParameter(e)})})},t.prototype._generateNumberEditor=function(e){var t,o,n=this;return e.multiValue?(t=this._createTextarea(e.value,e.dataType),this._bindTextChangedEvent(t,e)):(t=document.createElement("div"),(o=new wjcInput.InputNumber(t)).format=e.dataType===_ParameterType.Integer?"n0":"n2",o.isRequired=!e.nullable,e.value&&(o.value=e.dataType===_ParameterType.Integer?parseInt(e.value):parseFloat(e.value)),o.valueChanged.addHandler(function(t){n._deferValidate(e.name,function(){return n._updateParameters(e,t.value)})})),t},t.prototype._generateDateTimeEditor=function(e){var o,n,r=this;return e.multiValue?((o=this._createTextarea(e.value,e.dataType)).title=t._dateTimeFormat,this._bindTextChangedEvent(o,e)):(o=document.createElement("div"),e.dataType==_ParameterType.Date||e.dataType===_ParameterType.DateTime?n=new wjcInput.InputDate(o):(n=new wjcInput.InputTime(o)).step=60,n.isRequired=!e.nullable,e.value&&(n.value=new Date(e.value)),n.valueChanged.addHandler(function(){r._deferValidate(e.name,function(){return r._updateParameters(e,n.value.toJSON())})})),o},t.prototype._validateNullValueOfParameter=function(e){var o=this._errors;if(o&&o.length)for(var n=0;n<o.length;n++)if(o[n].key===e.parentElement.getAttribute(t._paramIdAttr)){var r=e.parentElement.querySelector(".error");if(r){e.parentElement.removeChild(r),o.splice(n,1);break}}},t._paramIdAttr="param-id",t._errorsHiddenCss="wj-parametererrors-hidden",t._dateTimeFormat="MM/dd/yyyy HH:mm",t}(wjcCore.Control);exports._ParametersEditor=_ParametersEditor;var _MultiSelectEx=function(){function e(e){this._selectedAll=!1,this._innerCheckedItemsChanged=!1,this.checkedItemsChanged=new wjcCore.Event;var t=this,o=new wjcInput.MultiSelect(e);t._multiSelect=o,o.checkedItemsChanged.addHandler(t.onCheckedItemsChanged,t),o.isDroppedDownChanged.addHandler(t.onIsDroppedDownChanged,t),o.headerFormatter=function(){return t._updateHeader()}}return e.prototype._updateHeader=function(){var e=this,t=e.checkedItems||[],o=[],n=e.displayMemberPath;if(!t.length)return wjcCore.culture.Viewer.parameterNoneItemsSelected;if(e._selectedAll)return wjcCore.culture.Viewer.parameterAllItemsSelected;if(n){for(var r=0;r<t.length;r++)o[r]=t[r][n];return o.join(", ")}return t.join(", ")},e.prototype.onIsDroppedDownChanged=function(){this._multiSelect.isDroppedDown&&this._updateSelectedAll()},e.prototype.onCheckedItemsChanged=function(e,t){var o=this;o._innerCheckedItemsChanged||(o._selectAllItem?(o._updateSelectedAll(),o.checkedItemsChanged.raise(o,t)):o.checkedItemsChanged.raise(o,t))},Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._multiSelect.isEditable},set:function(e){this._multiSelect.isEditable=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._multiSelect.isDisabled},set:function(e){this._multiSelect.isDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._multiSelect.displayMemberPath},set:function(e){this._multiSelect.displayMemberPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._multiSelect.selectedValuePath},set:function(e){this._multiSelect.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(e){var t=this,o=t.displayMemberPath||"name";t._itemsSource=e;var n=[];e&&(e.length>1?(t._selectAllItem={},t._selectAllItem[o]=wjcCore.culture.Viewer.parameterSelectAllItemText,n.push(t._selectAllItem)):t._selectAllItem=null,n=n.concat(e)),t._multiSelect.itemsSource=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedItems",{get:function(){var e=this,t=[];e._multiSelect.checkedItems&&(t=e._multiSelect.checkedItems.slice());var o=t.indexOf(e._selectAllItem);return o>-1&&t.splice(o,1),t},set:function(e){var t=this;t._multiSelect.checkedItems=e,t._selectedAll=!1,t._updateSelectedAll()},enumerable:!0,configurable:!0}),e.prototype._updateSelectedAll=function(){var e=this;if(e._selectAllItem){var t=e._multiSelect.checkedItems||[],o=t.indexOf(e._selectAllItem),n=o>-1;if(e._selectedAll!==n)return e._selectedAll=n,e._innerCheckedItemsChanged=!0,e._selectedAll?e._multiSelect.checkedItems=e._multiSelect.itemsSource.slice():e._multiSelect.checkedItems=[],void(e._innerCheckedItemsChanged=!1);e._selectedAll=t&&e._itemsSource&&t.length-(n?1:0)===e._itemsSource.length,e._selectedAll!==n&&(e._innerCheckedItemsChanged=!0,e._selectedAll?e._multiSelect.checkedItems=t.concat(e._selectAllItem):((t=t.slice()).splice(o,1),e._multiSelect.checkedItems=t),e._innerCheckedItemsChanged=!1)}},e}();exports._MultiSelectEx=_MultiSelectEx;var _ReportHamburgerMenu=function(e){function t(t,o,n){return e.call(this,t,o,n)||this}return __extends(t,e),t.prototype._initItems=function(){var t=e.prototype._initItems.call(this);return t.splice(2,0,{title:wjcCore.culture.Viewer.parameters,icon:parametersIcon,commandTag:ReportViewer._parameterCommandTag}),t},t}(_HamburgerMenu);exports._ReportHamburgerMenu=_ReportHamburgerMenu;var PdfViewer=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),Object.defineProperty(t.prototype,"_innerDocumentSource",{get:function(){return this._getDocumentSource()},enumerable:!0,configurable:!0}),t.prototype._getSource=function(){return this.filePath?new _PdfDocumentSource({serviceUrl:this.serviceUrl,filePath:this.filePath}):null},t}(ViewerBase);exports.PdfViewer=PdfViewer;

/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("../../../../../src/main.ts");


/***/ }),

/***/ 1:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 4:
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map